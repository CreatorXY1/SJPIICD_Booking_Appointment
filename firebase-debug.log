[debug] [2025-12-14T17:34:51.879Z] ----------------------------------------------------------------------
[debug] [2025-12-14T17:34:51.897Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start
[debug] [2025-12-14T17:34:51.898Z] CLI Version:   15.0.0
[debug] [2025-12-14T17:34:51.899Z] Platform:      win32
[debug] [2025-12-14T17:34:51.899Z] Node Version:  v24.11.1
[debug] [2025-12-14T17:34:51.899Z] Time:          Mon Dec 15 2025 01:34:51 GMT+0800 (Philippine Standard Time)
[debug] [2025-12-14T17:34:51.899Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-12-14T17:34:57.479Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-12-14T17:34:57.480Z] > authorizing via signed-in user (jeffreyautentico7@gmail.com)
[debug] [2025-12-14T17:34:57.825Z] java version "25.0.1" 2025-10-21 LTS

[debug] [2025-12-14T17:34:57.825Z] Java(TM) SE Runtime Environment (build 25.0.1+8-LTS-27)
Java HotSpot(TM) 64-Bit Server VM (build 25.0.1+8-LTS-27, mixed mode, sharing)

[debug] [2025-12-14T17:34:57.852Z] Parsed Java major version: 25
[info] i  emulators: Starting emulators: auth, functions, firestore, extensions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: auth, functions, firestore, extensions"}}
[debug] [2025-12-14T17:34:57.857Z] Checked if tokens are valid: false, expires at: 1765710001866
[debug] [2025-12-14T17:34:57.857Z] Checked if tokens are valid: false, expires at: 1765710001866
[debug] [2025-12-14T17:34:57.858Z] > refreshing access token with scopes: []
[debug] [2025-12-14T17:34:57.863Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2025-12-14T17:34:57.863Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-12-14T17:34:58.142Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2025-12-14T17:34:58.142Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-12-14T17:34:58.156Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/sjpiicd-server [none]
[debug] [2025-12-14T17:34:59.310Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/sjpiicd-server 200
[debug] [2025-12-14T17:34:59.311Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/sjpiicd-server {"projectNumber":"355997838626","projectId":"sjpiicd-server","lifecycleState":"ACTIVE","name":"sjpiicd server","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-11-19T14:33:00.642127Z"}
[debug] [2025-12-14T17:34:59.349Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-14T17:34:59.349Z] [auth] Authentication Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-14T17:34:59.349Z] [firestore] Firestore Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-14T17:34:59.349Z] [firestore.websocket] websocket server for firestore only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-14T17:34:59.350Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"auth":[{"address":"127.0.0.1","family":"IPv4","port":9099}],"firestore":[{"address":"127.0.0.1","family":"IPv4","port":8080}],"firestore.websocket":[{"address":"127.0.0.1","family":"IPv4","port":9150}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2025-12-14T17:34:59.360Z] Emulator locator file path: C:\Users\JEFFRE~1\AppData\Local\Temp\hub-sjpiicd-server.json
[debug] [2025-12-14T17:34:59.360Z] [hub] writing locator at C:\Users\JEFFRE~1\AppData\Local\Temp\hub-sjpiicd-server.json
[debug] [2025-12-14T17:34:59.372Z] [Extensions] Started Extensions emulator, this is a noop.
[debug] [2025-12-14T17:34:59.382Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-14T17:34:59.383Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-14T17:34:59.383Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-14T17:34:59.383Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"auth":[{"address":"127.0.0.1","family":"IPv4","port":9099}],"firestore":[{"address":"127.0.0.1","family":"IPv4","port":8080}],"firestore.websocket":[{"address":"127.0.0.1","family":"IPv4","port":9150}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, database, hosting, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, database, hosting, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-12-14T17:34:59.452Z] defaultcredentials: writing to file C:\Users\Jeffrey Autentico\AppData\Roaming\firebase\jeffreyautentico7_gmail_com_application_default_credentials.json
[debug] [2025-12-14T17:34:59.457Z] Setting GAC to C:\Users\Jeffrey Autentico\AppData\Roaming\firebase\jeffreyautentico7_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\firebase\\jeffreyautentico7_gmail_com_application_default_credentials.json"}}
[debug] [2025-12-14T17:34:59.457Z] Checked if tokens are valid: true, expires at: 1765737297142
[debug] [2025-12-14T17:34:59.458Z] Checked if tokens are valid: true, expires at: 1765737297142
[debug] [2025-12-14T17:34:59.458Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/sjpiicd-server/adminSdkConfig [none]
[debug] [2025-12-14T17:35:00.872Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/sjpiicd-server/adminSdkConfig 200
[debug] [2025-12-14T17:35:00.872Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/sjpiicd-server/adminSdkConfig {"projectId":"sjpiicd-server","storageBucket":"sjpiicd-server.firebasestorage.app"}
[warn] !  firestore: Cloud Firestore Emulator does not support multiple databases yet. {"metadata":{"emulator":{"name":"firestore"},"message":"Cloud Firestore Emulator does not support multiple databases yet."}}
[warn] !  firestore: Did not find a Cloud Firestore rules file specified in a firebase.json config file. {"metadata":{"emulator":{"name":"firestore"},"message":"Did not find a Cloud Firestore rules file specified in a firebase.json config file."}}
[warn] !  firestore: The emulator will default to allowing all reads and writes. Learn more about this option: https://firebase.google.com/docs/emulator-suite/install_and_configure#security_rules_configuration. {"metadata":{"emulator":{"name":"firestore"},"message":"The emulator will default to allowing all reads and writes. Learn more about this option: https://firebase.google.com/docs/emulator-suite/install_and_configure#security_rules_configuration."}}
[debug] [2025-12-14T17:35:00.919Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2025-12-14T17:35:00.920Z] Ignoring unsupported arg: single_project_mode_error {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: single_project_mode_error"}}
[debug] [2025-12-14T17:35:00.920Z] Starting Firestore Emulator with command {"binary":"java","args":["-Dgoogle.cloud_firestore.debug_log_level=FINE","-Duser.language=en","-jar","C:\\Users\\Jeffrey Autentico\\.cache\\firebase\\emulators\\cloud-firestore-emulator-v1.20.2.jar","--host","127.0.0.1","--port",8080,"--websocket_port",9150,"--project_id","sjpiicd-server","--single_project_mode",true,"--functions_emulator","127.0.0.1:5001"],"optionalArgs":["port","webchannel_port","host","rules","websocket_port","functions_emulator","seed_from_export","project_id","single_project_mode"],"joinArgs":false,"shell":false,"port":8080} {"metadata":{"emulator":{"name":"firestore"},"message":"Starting Firestore Emulator with command {\"binary\":\"java\",\"args\":[\"-Dgoogle.cloud_firestore.debug_log_level=FINE\",\"-Duser.language=en\",\"-jar\",\"C:\\\\Users\\\\Jeffrey Autentico\\\\.cache\\\\firebase\\\\emulators\\\\cloud-firestore-emulator-v1.20.2.jar\",\"--host\",\"127.0.0.1\",\"--port\",8080,\"--websocket_port\",9150,\"--project_id\",\"sjpiicd-server\",\"--single_project_mode\",true,\"--functions_emulator\",\"127.0.0.1:5001\"],\"optionalArgs\":[\"port\",\"webchannel_port\",\"host\",\"rules\",\"websocket_port\",\"functions_emulator\",\"seed_from_export\",\"project_id\",\"single_project_mode\"],\"joinArgs\":false,\"shell\":false,\"port\":8080}"}}
[info] i  firestore: Firestore Emulator logging to firestore-debug.log {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator logging to \u001b[1mfirestore-debug.log\u001b[22m"}}
[info] +  firestore: Firestore Emulator UI websocket is running on 9150. {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator UI websocket is running on 9150."}}
[debug] [2025-12-14T17:35:18.967Z] [Extensions] Connecting Extensions emulator, this is a noop.
[info] i  functions: Watching "C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\" for Cloud Functions..."}}
[debug] [2025-12-14T17:35:18.980Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-12-14T17:35:22.298Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "start": "firebase emulators:start --only functions,firestore,auth,storage",
    "deploy": "firebase deploy --only functions"
  },
  "dependencies": {
    "cloudinary": "^2.8.0",
    "firebase-admin": "^15.0.0",
    "firebase-functions": "^4.9.0",
    "uuid": "^9.0.0"
  },
  "engines": {
    "node": "18"
  }
}
[debug] [2025-12-14T17:35:22.298Z] Building nodejs source
[debug] [2025-12-14T17:35:22.300Z] Failed to find version of module node: reached end of search path C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "24". Using node@24 from host. 
[info] i  functions: You are using a version of firebase-functions SDK (4.9.0) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly 
[debug] [2025-12-14T17:35:22.305Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-12-14T17:35:22.329Z] Found firebase-functions binary at 'C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8833

[debug] [2025-12-14T17:35:26.278Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"helloWorld"},"setCustomClaimOnSignup":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/sjpiicd-server"},"retry":false},"labels":{},"entryPoint":"setCustomClaimOnSignup"},"onAppointmentPaid":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentPaid"},"onAppointmentCreated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentCreated"},"onAppointmentUpdated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentUpdated"},"reserveUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"reserveUsername"},"releaseUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"releaseUsername"},"uploadPermit":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"uploadPermit"},"getEmailForUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getEmailForUsername"},"createAppointment":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createAppointment"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: helloWorld, setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, uploadPermit, getEmailForUsername, createAppointment. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, uploadPermit, getEmailForUsername, createAppointment."}}
[info] +  functions[us-central1-helloWorld]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/helloWorld). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/helloWorld)."}}
[debug] [2025-12-14T17:35:30.372Z] addAuthTrigger {"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/sjpiicd-server"}}
[info] +  functions[us-central1-setCustomClaimOnSignup]: auth function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mauth\u001b[22m function initialized."}}
[debug] [2025-12-14T17:35:30.373Z] addFirestoreTrigger "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.update\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-14T17:35:30.374Z] >>> [apiv2][query] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0 [none]
[debug] [2025-12-14T17:35:30.374Z] >>> [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0 "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.update\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-14T17:35:31.933Z] <<< [apiv2][status] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0 200
[debug] [2025-12-14T17:35:31.933Z] <<< [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0 {}
[info] +  functions[us-central1-onAppointmentPaid]: firestore function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mfirestore\u001b[22m function initialized."}}
[debug] [2025-12-14T17:35:31.934Z] addFirestoreTrigger "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.create\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-14T17:35:31.935Z] >>> [apiv2][query] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0 [none]
[debug] [2025-12-14T17:35:31.935Z] >>> [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0 "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.create\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-14T17:35:31.952Z] <<< [apiv2][status] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0 200
[debug] [2025-12-14T17:35:31.952Z] <<< [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0 {}
[info] +  functions[us-central1-onAppointmentCreated]: firestore function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mfirestore\u001b[22m function initialized."}}
[debug] [2025-12-14T17:35:31.953Z] addFirestoreTrigger "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.update\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-14T17:35:31.953Z] >>> [apiv2][query] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0 [none]
[debug] [2025-12-14T17:35:31.953Z] >>> [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0 "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.update\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-14T17:35:31.968Z] <<< [apiv2][status] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0 200
[debug] [2025-12-14T17:35:31.969Z] <<< [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0 {}
[info] +  functions[us-central1-onAppointmentUpdated]: firestore function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mfirestore\u001b[22m function initialized."}}
[info] +  functions[us-central1-reserveUsername]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/reserveUsername). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/reserveUsername)."}}
[info] +  functions[us-central1-releaseUsername]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/releaseUsername). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/releaseUsername)."}}
[info] +  functions[us-central1-uploadPermit]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/uploadPermit). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/uploadPermit)."}}
[info] +  functions[us-central1-getEmailForUsername]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/getEmailForUsername). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/getEmailForUsername)."}}
[info] +  functions[us-central1-createAppointment]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/createAppointment). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/createAppointment)."}}
[debug] [2025-12-14T17:35:31.981Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: . If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌────────────────┬────────────────┬──────────────────────────────────┐
│ Emulator       │ Host:Port      │ View in Emulator UI              │
├────────────────┼────────────────┼──────────────────────────────────┤
│ Authentication │ 127.0.0.1:9099 │ http://127.0.0.1:4000/auth       │
├────────────────┼────────────────┼──────────────────────────────────┤
│ Functions      │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions  │
├────────────────┼────────────────┼──────────────────────────────────┤
│ Firestore      │ 127.0.0.1:8080 │ http://127.0.0.1:4000/firestore  │
├────────────────┼────────────────┼──────────────────────────────────┤
│ Extensions     │ 127.0.0.1:5001 │ http://127.0.0.1:4000/extensions │
└────────────────┴────────────────┴──────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500, 9150
┌─────────────────────────┬───────────────┬─────────────────────┐
│ Extension Instance Name │ Extension Ref │ View in Emulator UI │
└─────────────────────────┴───────────────┴─────────────────────┘
Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2025-12-15T01:16:31.985Z] File C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js changed, reloading triggers"}}
[debug] [2025-12-15T01:16:32.046Z] File C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js changed, reloading triggers"}}
[debug] [2025-12-15T01:16:33.060Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-12-15T01:16:38.025Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "start": "firebase emulators:start --only functions,firestore,auth,storage",
    "deploy": "firebase deploy --only functions"
  },
  "dependencies": {
    "cloudinary": "^2.8.0",
    "firebase-admin": "^15.0.0",
    "firebase-functions": "^4.9.0",
    "uuid": "^9.0.0"
  },
  "engines": {
    "node": "18"
  }
}
[debug] [2025-12-15T01:16:38.025Z] Building nodejs source
[debug] [2025-12-15T01:16:38.026Z] Failed to find version of module node: reached end of search path C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "24". Using node@24 from host. 
[info] i  functions: You are using a version of firebase-functions SDK (4.9.0) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly 
[debug] [2025-12-15T01:16:38.033Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-12-15T01:16:38.056Z] Found firebase-functions binary at 'C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8266

[error] WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...

[debug] [2025-12-15T01:16:42.296Z] Got response from /__/functions.yaml {"endpoints":{"setCustomClaimOnSignup":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/sjpiicd-server"},"retry":false},"labels":{},"entryPoint":"setCustomClaimOnSignup"},"onAppointmentPaid":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentPaid"},"onAppointmentCreated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentCreated"},"onAppointmentUpdated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentUpdated"},"reserveUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"reserveUsername"},"releaseUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"releaseUsername"},"getEmailForUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getEmailForUsername"},"uploadPermit":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"uploadPermit"},"createAppointment":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createAppointment"},"helloWorld":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"helloWorld"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld."}}
[debug] [2025-12-15T01:39:33.185Z] ----------------------------------------------------------------------
[debug] [2025-12-15T01:39:33.202Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start
[debug] [2025-12-15T01:39:33.203Z] CLI Version:   15.0.0
[debug] [2025-12-15T01:39:33.203Z] Platform:      win32
[debug] [2025-12-15T01:39:33.204Z] Node Version:  v24.11.1
[debug] [2025-12-15T01:39:33.204Z] Time:          Mon Dec 15 2025 09:39:33 GMT+0800 (Philippine Standard Time)
[debug] [2025-12-15T01:39:33.204Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-12-15T01:39:38.741Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-12-15T01:39:38.741Z] > authorizing via signed-in user (jeffreyautentico7@gmail.com)
[debug] [2025-12-15T01:39:39.158Z] java version "25.0.1" 2025-10-21 LTS
Java(TM) SE Runtime Environment (build 25.0.1+8-LTS-27)

[debug] [2025-12-15T01:39:39.159Z] Java HotSpot(TM) 64-Bit Server VM (build 25.0.1+8-LTS-27, mixed mode, sharing)

[debug] [2025-12-15T01:39:39.182Z] Parsed Java major version: 25
[info] i  emulators: Starting emulators: auth, functions, firestore, extensions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: auth, functions, firestore, extensions"}}
[debug] [2025-12-15T01:39:39.187Z] Checked if tokens are valid: false, expires at: 1765737297142
[debug] [2025-12-15T01:39:39.187Z] Checked if tokens are valid: false, expires at: 1765737297142
[debug] [2025-12-15T01:39:39.187Z] > refreshing access token with scopes: []
[debug] [2025-12-15T01:39:39.191Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2025-12-15T01:39:39.191Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-12-15T01:39:39.543Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2025-12-15T01:39:39.543Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-12-15T01:39:39.565Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/sjpiicd-server [none]
[debug] [2025-12-15T01:39:40.699Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/sjpiicd-server 200
[debug] [2025-12-15T01:39:40.700Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/sjpiicd-server {"projectNumber":"355997838626","projectId":"sjpiicd-server","lifecycleState":"ACTIVE","name":"sjpiicd server","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-11-19T14:33:00.642127Z"}
[debug] [2025-12-15T01:39:40.735Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T01:39:40.735Z] [auth] Authentication Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T01:39:40.735Z] [firestore] Firestore Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T01:39:40.735Z] [firestore.websocket] websocket server for firestore only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T01:39:40.736Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"auth":[{"address":"127.0.0.1","family":"IPv4","port":9099}],"firestore":[{"address":"127.0.0.1","family":"IPv4","port":8080}],"firestore.websocket":[{"address":"127.0.0.1","family":"IPv4","port":9150}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2025-12-15T01:39:40.749Z] Emulator locator file path: C:\Users\JEFFRE~1\AppData\Local\Temp\hub-sjpiicd-server.json
[warn] !  emulators: It seems that you are running multiple instances of the emulator suite for project sjpiicd-server. This may result in unexpected behavior. 
[debug] [2025-12-15T01:39:40.751Z] [hub] writing locator at C:\Users\JEFFRE~1\AppData\Local\Temp\hub-sjpiicd-server.json
[debug] [2025-12-15T01:39:40.764Z] [Extensions] Started Extensions emulator, this is a noop.
[debug] [2025-12-15T01:39:40.776Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T01:39:40.776Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T01:39:40.776Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T01:39:40.776Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"auth":[{"address":"127.0.0.1","family":"IPv4","port":9099}],"firestore":[{"address":"127.0.0.1","family":"IPv4","port":8080}],"firestore.websocket":[{"address":"127.0.0.1","family":"IPv4","port":9150}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, database, hosting, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, database, hosting, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-12-15T01:39:43.825Z] defaultcredentials: writing to file C:\Users\Jeffrey Autentico\AppData\Roaming\firebase\jeffreyautentico7_gmail_com_application_default_credentials.json
[debug] [2025-12-15T01:39:43.832Z] Setting GAC to C:\Users\Jeffrey Autentico\AppData\Roaming\firebase\jeffreyautentico7_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\firebase\\jeffreyautentico7_gmail_com_application_default_credentials.json"}}
[debug] [2025-12-15T01:39:43.833Z] Checked if tokens are valid: true, expires at: 1765766378543
[debug] [2025-12-15T01:39:43.833Z] Checked if tokens are valid: true, expires at: 1765766378543
[debug] [2025-12-15T01:39:43.833Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/sjpiicd-server/adminSdkConfig [none]
[debug] [2025-12-15T01:39:45.524Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/sjpiicd-server/adminSdkConfig 200
[debug] [2025-12-15T01:39:45.524Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/sjpiicd-server/adminSdkConfig {"projectId":"sjpiicd-server","storageBucket":"sjpiicd-server.firebasestorage.app"}
[warn] !  firestore: Cloud Firestore Emulator does not support multiple databases yet. {"metadata":{"emulator":{"name":"firestore"},"message":"Cloud Firestore Emulator does not support multiple databases yet."}}
[warn] !  firestore: Did not find a Cloud Firestore rules file specified in a firebase.json config file. {"metadata":{"emulator":{"name":"firestore"},"message":"Did not find a Cloud Firestore rules file specified in a firebase.json config file."}}
[warn] !  firestore: The emulator will default to allowing all reads and writes. Learn more about this option: https://firebase.google.com/docs/emulator-suite/install_and_configure#security_rules_configuration. {"metadata":{"emulator":{"name":"firestore"},"message":"The emulator will default to allowing all reads and writes. Learn more about this option: https://firebase.google.com/docs/emulator-suite/install_and_configure#security_rules_configuration."}}
[debug] [2025-12-15T01:39:45.563Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2025-12-15T01:39:45.563Z] Ignoring unsupported arg: single_project_mode_error {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: single_project_mode_error"}}
[debug] [2025-12-15T01:39:45.563Z] Starting Firestore Emulator with command {"binary":"java","args":["-Dgoogle.cloud_firestore.debug_log_level=FINE","-Duser.language=en","-jar","C:\\Users\\Jeffrey Autentico\\.cache\\firebase\\emulators\\cloud-firestore-emulator-v1.20.2.jar","--host","127.0.0.1","--port",8080,"--websocket_port",9150,"--project_id","sjpiicd-server","--single_project_mode",true,"--functions_emulator","127.0.0.1:5001"],"optionalArgs":["port","webchannel_port","host","rules","websocket_port","functions_emulator","seed_from_export","project_id","single_project_mode"],"joinArgs":false,"shell":false,"port":8080} {"metadata":{"emulator":{"name":"firestore"},"message":"Starting Firestore Emulator with command {\"binary\":\"java\",\"args\":[\"-Dgoogle.cloud_firestore.debug_log_level=FINE\",\"-Duser.language=en\",\"-jar\",\"C:\\\\Users\\\\Jeffrey Autentico\\\\.cache\\\\firebase\\\\emulators\\\\cloud-firestore-emulator-v1.20.2.jar\",\"--host\",\"127.0.0.1\",\"--port\",8080,\"--websocket_port\",9150,\"--project_id\",\"sjpiicd-server\",\"--single_project_mode\",true,\"--functions_emulator\",\"127.0.0.1:5001\"],\"optionalArgs\":[\"port\",\"webchannel_port\",\"host\",\"rules\",\"websocket_port\",\"functions_emulator\",\"seed_from_export\",\"project_id\",\"single_project_mode\"],\"joinArgs\":false,\"shell\":false,\"port\":8080}"}}
[info] i  firestore: Firestore Emulator logging to firestore-debug.log {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator logging to \u001b[1mfirestore-debug.log\u001b[22m"}}
[info] +  firestore: Firestore Emulator UI websocket is running on 9150. {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator UI websocket is running on 9150."}}
[debug] [2025-12-15T01:40:01.451Z] [Extensions] Connecting Extensions emulator, this is a noop.
[info] i  functions: Watching "C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\" for Cloud Functions..."}}
[debug] [2025-12-15T01:40:01.464Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-12-15T01:40:04.329Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "start": "firebase emulators:start --only functions,firestore,auth,storage",
    "deploy": "firebase deploy --only functions"
  },
  "dependencies": {
    "cloudinary": "^2.8.0",
    "firebase-admin": "^15.0.0",
    "firebase-functions": "^4.9.0",
    "uuid": "^9.0.0"
  },
  "engines": {
    "node": "18"
  }
}
[debug] [2025-12-15T01:40:04.329Z] Building nodejs source
[debug] [2025-12-15T01:40:04.331Z] Failed to find version of module node: reached end of search path C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "24". Using node@24 from host. 
[info] i  functions: You are using a version of firebase-functions SDK (4.9.0) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly 
[debug] [2025-12-15T01:40:04.337Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-12-15T01:40:04.352Z] Found firebase-functions binary at 'C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8095

[error] WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...

[debug] [2025-12-15T01:40:07.349Z] Got response from /__/functions.yaml {"endpoints":{"setCustomClaimOnSignup":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/sjpiicd-server"},"retry":false},"labels":{},"entryPoint":"setCustomClaimOnSignup"},"onAppointmentPaid":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentPaid"},"onAppointmentCreated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentCreated"},"onAppointmentUpdated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentUpdated"},"reserveUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"reserveUsername"},"releaseUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"releaseUsername"},"getEmailForUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getEmailForUsername"},"uploadPermit":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"uploadPermit"},"createAppointment":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createAppointment"},"helloWorld":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"helloWorld"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld."}}
[debug] [2025-12-15T01:40:11.435Z] addAuthTrigger {"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/sjpiicd-server"}}
[info] +  functions[us-central1-setCustomClaimOnSignup]: auth function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mauth\u001b[22m function initialized."}}
[debug] [2025-12-15T01:40:11.437Z] addFirestoreTrigger "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.update\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T01:40:11.438Z] >>> [apiv2][query] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0 [none]
[debug] [2025-12-15T01:40:11.438Z] >>> [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0 "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.update\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T01:40:13.215Z] <<< [apiv2][status] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0 200
[debug] [2025-12-15T01:40:13.215Z] <<< [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0 {}
[info] +  functions[us-central1-onAppointmentPaid]: firestore function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mfirestore\u001b[22m function initialized."}}
[debug] [2025-12-15T01:40:13.216Z] addFirestoreTrigger "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.create\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T01:40:13.217Z] >>> [apiv2][query] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0 [none]
[debug] [2025-12-15T01:40:13.217Z] >>> [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0 "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.create\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T01:40:13.236Z] <<< [apiv2][status] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0 200
[debug] [2025-12-15T01:40:13.236Z] <<< [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0 {}
[info] +  functions[us-central1-onAppointmentCreated]: firestore function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mfirestore\u001b[22m function initialized."}}
[debug] [2025-12-15T01:40:13.237Z] addFirestoreTrigger "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.update\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T01:40:13.237Z] >>> [apiv2][query] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0 [none]
[debug] [2025-12-15T01:40:13.237Z] >>> [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0 "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.update\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T01:40:13.251Z] <<< [apiv2][status] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0 200
[debug] [2025-12-15T01:40:13.252Z] <<< [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0 {}
[info] +  functions[us-central1-onAppointmentUpdated]: firestore function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mfirestore\u001b[22m function initialized."}}
[info] +  functions[us-central1-reserveUsername]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/reserveUsername). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/reserveUsername)."}}
[info] +  functions[us-central1-releaseUsername]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/releaseUsername). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/releaseUsername)."}}
[info] +  functions[us-central1-getEmailForUsername]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/getEmailForUsername). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/getEmailForUsername)."}}
[info] +  functions[us-central1-uploadPermit]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/uploadPermit). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/uploadPermit)."}}
[info] +  functions[us-central1-createAppointment]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/createAppointment). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/createAppointment)."}}
[info] +  functions[us-central1-helloWorld]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/helloWorld). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/helloWorld)."}}
[debug] [2025-12-15T01:40:13.270Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: . If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌────────────────┬────────────────┬──────────────────────────────────┐
│ Emulator       │ Host:Port      │ View in Emulator UI              │
├────────────────┼────────────────┼──────────────────────────────────┤
│ Authentication │ 127.0.0.1:9099 │ http://127.0.0.1:4000/auth       │
├────────────────┼────────────────┼──────────────────────────────────┤
│ Functions      │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions  │
├────────────────┼────────────────┼──────────────────────────────────┤
│ Firestore      │ 127.0.0.1:8080 │ http://127.0.0.1:4000/firestore  │
├────────────────┼────────────────┼──────────────────────────────────┤
│ Extensions     │ 127.0.0.1:5001 │ http://127.0.0.1:4000/extensions │
└────────────────┴────────────────┴──────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500, 9150
┌─────────────────────────┬───────────────┬─────────────────────┐
│ Extension Instance Name │ Extension Ref │ View in Emulator UI │
└─────────────────────────┴───────────────┴─────────────────────┘
Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2025-12-15T02:28:27.877Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast [none]
[debug] [2025-12-15T02:28:27.889Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast {"eventId":"feac6e40-772e-4aa7-bcc2-7574b9d2120b","eventType":"providers/firebase.auth/eventTypes/user.create","resource":{"name":"projects/sjpiicd-server","service":"firebaseauth.googleapis.com"},"params":{},"timestamp":"2025-12-15T02:28:27.855Z","data":{"uid":"vtUO1OtiXUuLUvwHsPs2ffIf8EdT","email":"inuzawa01@gmail.com","emailVerified":false,"metadata":{"creationTime":"2025-12-15T02:28:27.812Z","lastSignInTime":"2025-12-15T02:28:27.812Z"},"customClaims":{},"providerData":[{"rawId":"inuzawa01@gmail.com","providerId":"password","email":"inuzawa01@gmail.com","federatedId":"inuzawa01@gmail.com"}]}}
[debug] [2025-12-15T02:28:27.980Z] [work-queue] {"queuedWork":["us-central1-setCustomClaimOnSignup-0-2025-12-15T02:28:27.979Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T02:28:27.982Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["us-central1-setCustomClaimOnSignup-0-2025-12-15T02:28:27.979Z"],"workRunningCount":1}
[debug] [2025-12-15T02:28:27.985Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T02:28:27.992Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast 200
[debug] [2025-12-15T02:28:27.993Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2025-12-15T02:28:27.996Z] [work-queue] {"queuedWork":["/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0-2025-12-15T02:28:27.996Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T02:28:27.997Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0-2025-12-15T02:28:27.996Z"],"workRunningCount":1}
[debug] [2025-12-15T02:28:27.998Z] Accepted request POST /functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0 --> us-central1-setCustomClaimOnSignup-0
[debug] [2025-12-15T02:28:28.054Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-12-15T02:28:28.059Z] [functions] Got req.url=/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0, mapping to path=/functions/projects/"}}
[debug] [2025-12-15T02:28:28.143Z] [worker-pool] addWorker(us-central1-setCustomClaimOnSignup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-setCustomClaimOnSignup)"}}
[debug] [2025-12-15T02:28:28.146Z] [worker-pool] Adding worker with key us-central1-setCustomClaimOnSignup, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-setCustomClaimOnSignup, total=1"}}
[debug] [2025-12-15T02:28:33.735Z] [runtime-status] [28868] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [28868] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T02:28:33.746Z] [runtime-status] [28868] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [28868] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T02:28:33.750Z] [runtime-status] [28868] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [28868] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-12-15T02:28:33.750Z] [runtime-status] [28868] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [28868] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T02:28:35.212Z] [runtime-status] [28868] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [28868] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T02:28:35.221Z] [runtime-status] [28868] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [28868] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T02:28:35.937Z] [runtime-status] [28868] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [28868] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-12-15T02:28:35.944Z] [runtime-status] [28868] initializeApp(DEFAULT) {"storageBucket":"sjpiicd-server.firebasestorage.app","projectId":"sjpiicd-server"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [28868] initializeApp(DEFAULT) {\"storageBucket\":\"sjpiicd-server.firebasestorage.app\",\"projectId\":\"sjpiicd-server\"}"}}
[info] >  WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=... {"user":"WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=..."}}
[debug] [2025-12-15T02:28:36.661Z] [runtime-status] [28868] Functions runtime initialized. {"cwd":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions","node_version":"24.11.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [28868] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\",\"node_version\":\"24.11.1\"}"}}
[debug] [2025-12-15T02:28:36.661Z] [runtime-status] [28868] Listening to port: \\?\pipe\fire_emu_05daa1d9db456c72 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [28868] Listening to port: \\\\?\\pipe\\fire_emu_05daa1d9db456c72"}}
[debug] [2025-12-15T02:28:36.712Z] [worker-us-central1-setCustomClaimOnSignup-ca40b12f-f8f1-4525-bdaa-f3d2476ca968]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-ca40b12f-f8f1-4525-bdaa-f3d2476ca968]: IDLE"}}
[debug] [2025-12-15T02:28:36.713Z] [worker-pool] submitRequest(triggerId=us-central1-setCustomClaimOnSignup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-setCustomClaimOnSignup)"}}
[info] i  functions: Beginning execution of "us-central1-setCustomClaimOnSignup" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Beginning execution of \"us-central1-setCustomClaimOnSignup\""}}
[debug] [2025-12-15T02:28:36.715Z] [worker-us-central1-setCustomClaimOnSignup-ca40b12f-f8f1-4525-bdaa-f3d2476ca968]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-ca40b12f-f8f1-4525-bdaa-f3d2476ca968]: BUSY"}}
[debug] [2025-12-15T02:28:36.750Z] [runtime-status] [28868] ProcessBackground: lifting resource.name from resource {"name":"projects/sjpiicd-server","service":"firebaseauth.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [28868] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/sjpiicd-server\",\"service\":\"firebaseauth.googleapis.com\"}"}}
[debug] [2025-12-15T02:28:36.750Z] [runtime-status] [28868] RunBackground {"data":{"uid":"vtUO1OtiXUuLUvwHsPs2ffIf8EdT","email":"inuzawa01@gmail.com","emailVerified":false,"metadata":{"creationTime":"2025-12-15T02:28:27.812Z","lastSignInTime":"2025-12-15T02:28:27.812Z"},"customClaims":{},"providerData":[{"rawId":"inuzawa01@gmail.com","providerId":"password","email":"inuzawa01@gmail.com","federatedId":"inuzawa01@gmail.com"}]},"context":{"eventId":"feac6e40-772e-4aa7-bcc2-7574b9d2120b","eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/sjpiicd-server","params":{},"timestamp":"2025-12-15T02:28:27.855Z"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [28868] RunBackground {\"data\":{\"uid\":\"vtUO1OtiXUuLUvwHsPs2ffIf8EdT\",\"email\":\"inuzawa01@gmail.com\",\"emailVerified\":false,\"metadata\":{\"creationTime\":\"2025-12-15T02:28:27.812Z\",\"lastSignInTime\":\"2025-12-15T02:28:27.812Z\"},\"customClaims\":{},\"providerData\":[{\"rawId\":\"inuzawa01@gmail.com\",\"providerId\":\"password\",\"email\":\"inuzawa01@gmail.com\",\"federatedId\":\"inuzawa01@gmail.com\"}]},\"context\":{\"eventId\":\"feac6e40-772e-4aa7-bcc2-7574b9d2120b\",\"eventType\":\"providers/firebase.auth/eventTypes/user.create\",\"resource\":\"projects/sjpiicd-server\",\"params\":{},\"timestamp\":\"2025-12-15T02:28:27.855Z\"}}"}}
[info] >  Failed to set custom claim: TypeError: Cannot read properties of undefined (reading 'serverTimestamp') {"user":"Failed to set custom claim: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m Failed to set custom claim: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')"}}
[info] >      at C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:99:47 {"user":"    at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:99:47","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:99:47"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:103:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:103:5)"}}
[info] >      at async runFunction (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:399:9) {"user":"    at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)"}}
[info] >      at async runBackground (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:410:5) {"user":"    at async runBackground (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:410:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runBackground (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:410:5)"}}
[info] >      at async processBackground (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:394:5) {"user":"    at async processBackground (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:394:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async processBackground (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:394:5)"}}
[info] >      at async C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:581:21 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:581:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:581:21"}}
[debug] [2025-12-15T02:28:36.811Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-setCustomClaimOnSignup" in 96.6664ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finished \"us-central1-setCustomClaimOnSignup\" in 96.6664ms"}}
[debug] [2025-12-15T02:28:36.812Z] [worker-us-central1-setCustomClaimOnSignup-ca40b12f-f8f1-4525-bdaa-f3d2476ca968]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-ca40b12f-f8f1-4525-bdaa-f3d2476ca968]: IDLE"}}
[debug] [2025-12-15T02:28:36.813Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-12-15T02:28:36.813Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-12-15T02:28:36.813Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T02:28:51.276Z] [work-queue] {"queuedWork":["/sjpiicd-server/us-central1/createAppointment-2025-12-15T02:28:51.275Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T02:28:51.276Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/sjpiicd-server/us-central1/createAppointment-2025-12-15T02:28:51.275Z"],"workRunningCount":1}
[debug] [2025-12-15T02:28:51.276Z] Accepted request POST /sjpiicd-server/us-central1/createAppointment --> us-central1-createAppointment
[debug] [2025-12-15T02:28:51.280Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-12-15T02:28:51.281Z] [functions] Got req.url=/sjpiicd-server/us-central1/createAppointment, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/sjpiicd-server/us-central1/createAppointment, mapping to path=/"}}
[debug] [2025-12-15T02:28:51.292Z] [worker-pool] addWorker(us-central1-createAppointment) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-createAppointment)"}}
[debug] [2025-12-15T02:28:51.293Z] [worker-pool] Adding worker with key us-central1-createAppointment, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-createAppointment, total=1"}}
[debug] [2025-12-15T02:28:54.269Z] [runtime-status] [3112] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [3112] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T02:28:54.274Z] [runtime-status] [3112] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [3112] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T02:28:54.274Z] [runtime-status] [3112] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [3112] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-12-15T02:28:54.276Z] [runtime-status] [3112] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [3112] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T02:28:55.023Z] [runtime-status] [3112] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [3112] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T02:28:55.029Z] [runtime-status] [3112] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [3112] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T02:28:55.415Z] [runtime-status] [3112] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [3112] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-12-15T02:28:55.421Z] [runtime-status] [3112] initializeApp(DEFAULT) {"storageBucket":"sjpiicd-server.firebasestorage.app","projectId":"sjpiicd-server"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [3112] initializeApp(DEFAULT) {\"storageBucket\":\"sjpiicd-server.firebasestorage.app\",\"projectId\":\"sjpiicd-server\"}"}}
[info] >  WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=... {"user":"WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=..."}}
[debug] [2025-12-15T02:28:55.822Z] [runtime-status] [3112] Functions runtime initialized. {"cwd":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions","node_version":"24.11.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [3112] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\",\"node_version\":\"24.11.1\"}"}}
[debug] [2025-12-15T02:28:55.822Z] [runtime-status] [3112] Listening to port: \\?\pipe\fire_emu_5d65cbbb6e4e86a4 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [3112] Listening to port: \\\\?\\pipe\\fire_emu_5d65cbbb6e4e86a4"}}
[debug] [2025-12-15T02:28:55.863Z] [worker-us-central1-createAppointment-0d752e04-40cf-44b7-b628-6d4107c5c435]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-0d752e04-40cf-44b7-b628-6d4107c5c435]: IDLE"}}
[debug] [2025-12-15T02:28:55.864Z] [worker-pool] submitRequest(triggerId=us-central1-createAppointment) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-createAppointment)"}}
[info] i  functions: Beginning execution of "us-central1-createAppointment" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Beginning execution of \"us-central1-createAppointment\""}}
[debug] [2025-12-15T02:28:55.865Z] [worker-us-central1-createAppointment-0d752e04-40cf-44b7-b628-6d4107c5c435]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-0d752e04-40cf-44b7-b628-6d4107c5c435]: BUSY"}}
[info] >  {"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"VALID\",\"auth\":\"VALID\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  [createAppointment] Called by: vtUO1OtiXUuLUvwHsPs2ffIf8EdT {"user":"[createAppointment] Called by: vtUO1OtiXUuLUvwHsPs2ffIf8EdT","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Called by: vtUO1OtiXUuLUvwHsPs2ffIf8EdT"}}
[info] >  [createAppointment] Error: TypeError: Cannot read properties of undefined (reading 'serverTimestamp') {"user":"[createAppointment] Error: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Error: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')"}}
[info] >      at C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:548:47 {"user":"    at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:548:47","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:548:47"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:103:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:103:5)"}}
[info] >      at async Transaction.runTransactionOnce (C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\@google-cloud\firestore\build\src\transaction.js:440:28) {"user":"    at async Transaction.runTransactionOnce (C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:440:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async Transaction.runTransactionOnce (C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:440:28)"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\@google-cloud\firestore\build\src\transaction.js:412:28 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:412:28","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:412:28"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:515:20 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:515:20","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:515:20"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\firebase-functions\lib\common\providers\https.js:458:26 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:458:26","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:458:26"}}
[info] >      at async runFunction (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:399:9) {"user":"    at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)"}}
[info] >      at async runHTTPS (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:424:5) {"user":"    at async runHTTPS (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:424:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runHTTPS (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:424:5)"}}
[info] >      at async C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:585:21 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:585:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:585:21"}}
[debug] [2025-12-15T02:28:57.036Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-createAppointment" in 1171.8017ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Finished \"us-central1-createAppointment\" in 1171.8017ms"}}
[debug] [2025-12-15T02:28:57.038Z] [worker-us-central1-createAppointment-0d752e04-40cf-44b7-b628-6d4107c5c435]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-0d752e04-40cf-44b7-b628-6d4107c5c435]: IDLE"}}
[debug] [2025-12-15T02:28:57.038Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-12-15T02:28:57.038Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-12-15T02:28:57.038Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T02:35:20.356Z] File C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js changed, reloading triggers"}}
[debug] [2025-12-15T02:35:21.367Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-12-15T02:35:25.166Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "start": "firebase emulators:start --only functions,firestore,auth,storage",
    "deploy": "firebase deploy --only functions"
  },
  "dependencies": {
    "cloudinary": "^2.8.0",
    "firebase-admin": "^15.0.0",
    "firebase-functions": "^4.9.0",
    "uuid": "^9.0.0"
  },
  "engines": {
    "node": "18"
  }
}
[debug] [2025-12-15T02:35:25.167Z] Building nodejs source
[debug] [2025-12-15T02:35:25.167Z] Failed to find version of module node: reached end of search path C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "24". Using node@24 from host. 
[info] i  functions: You are using a version of firebase-functions SDK (4.9.0) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly 
[debug] [2025-12-15T02:35:25.171Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-12-15T02:35:25.200Z] Found firebase-functions binary at 'C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8227

[error] WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...

[debug] [2025-12-15T02:35:29.258Z] Got response from /__/functions.yaml {"endpoints":{"setCustomClaimOnSignup":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/sjpiicd-server"},"retry":false},"labels":{},"entryPoint":"setCustomClaimOnSignup"},"onAppointmentPaid":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentPaid"},"onAppointmentCreated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentCreated"},"onAppointmentUpdated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentUpdated"},"reserveUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"reserveUsername"},"releaseUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"releaseUsername"},"getEmailForUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getEmailForUsername"},"uploadPermit":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"uploadPermit"},"createAppointment":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createAppointment"},"helloWorld":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"helloWorld"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld."}}
[debug] [2025-12-15T02:35:33.324Z] [worker-pool] Shutting down IDLE worker (us-central1-setCustomClaimOnSignup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-setCustomClaimOnSignup)"}}
[debug] [2025-12-15T02:35:33.324Z] [worker-us-central1-setCustomClaimOnSignup-ca40b12f-f8f1-4525-bdaa-f3d2476ca968]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-ca40b12f-f8f1-4525-bdaa-f3d2476ca968]: FINISHING"}}
[debug] [2025-12-15T02:35:33.324Z] [worker-pool] Shutting down IDLE worker (us-central1-createAppointment) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-createAppointment)"}}
[debug] [2025-12-15T02:35:33.324Z] [worker-us-central1-createAppointment-0d752e04-40cf-44b7-b628-6d4107c5c435]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-0d752e04-40cf-44b7-b628-6d4107c5c435]: FINISHING"}}
[debug] [2025-12-15T02:35:33.350Z] [worker-us-central1-setCustomClaimOnSignup-ca40b12f-f8f1-4525-bdaa-f3d2476ca968]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-ca40b12f-f8f1-4525-bdaa-f3d2476ca968]: exited"}}
[debug] [2025-12-15T02:35:33.351Z] [worker-us-central1-setCustomClaimOnSignup-ca40b12f-f8f1-4525-bdaa-f3d2476ca968]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-ca40b12f-f8f1-4525-bdaa-f3d2476ca968]: FINISHED"}}
[debug] [2025-12-15T02:35:33.358Z] [worker-us-central1-createAppointment-0d752e04-40cf-44b7-b628-6d4107c5c435]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-0d752e04-40cf-44b7-b628-6d4107c5c435]: exited"}}
[debug] [2025-12-15T02:35:33.358Z] [worker-us-central1-createAppointment-0d752e04-40cf-44b7-b628-6d4107c5c435]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-0d752e04-40cf-44b7-b628-6d4107c5c435]: FINISHED"}}
[debug] [2025-12-15T02:36:20.172Z] [work-queue] {"queuedWork":["/sjpiicd-server/us-central1/createAppointment-2025-12-15T02:36:20.172Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T02:36:20.173Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/sjpiicd-server/us-central1/createAppointment-2025-12-15T02:36:20.172Z"],"workRunningCount":1}
[debug] [2025-12-15T02:36:20.173Z] Accepted request POST /sjpiicd-server/us-central1/createAppointment --> us-central1-createAppointment
[debug] [2025-12-15T02:36:20.178Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-12-15T02:36:20.178Z] [functions] Got req.url=/sjpiicd-server/us-central1/createAppointment, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/sjpiicd-server/us-central1/createAppointment, mapping to path=/"}}
[debug] [2025-12-15T02:36:20.179Z] [worker-pool] Cleaned up workers for us-central1-setCustomClaimOnSignup: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-setCustomClaimOnSignup: 1 --> 0"}}
[debug] [2025-12-15T02:36:20.179Z] [worker-pool] Cleaned up workers for us-central1-createAppointment: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-createAppointment: 1 --> 0"}}
[debug] [2025-12-15T02:36:20.194Z] [worker-pool] addWorker(us-central1-createAppointment) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-createAppointment)"}}
[debug] [2025-12-15T02:36:20.194Z] [worker-pool] Adding worker with key us-central1-createAppointment, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-createAppointment, total=1"}}
[debug] [2025-12-15T02:36:23.216Z] [runtime-status] [11024] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [11024] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T02:36:23.221Z] [runtime-status] [11024] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [11024] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T02:36:23.222Z] [runtime-status] [11024] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [11024] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-12-15T02:36:23.224Z] [runtime-status] [11024] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [11024] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T02:36:23.974Z] [runtime-status] [11024] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [11024] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T02:36:23.985Z] [runtime-status] [11024] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [11024] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T02:36:24.473Z] [runtime-status] [11024] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [11024] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-12-15T02:36:24.479Z] [runtime-status] [11024] initializeApp(DEFAULT) {"storageBucket":"sjpiicd-server.firebasestorage.app","projectId":"sjpiicd-server"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [11024] initializeApp(DEFAULT) {\"storageBucket\":\"sjpiicd-server.firebasestorage.app\",\"projectId\":\"sjpiicd-server\"}"}}
[info] >  WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=... {"user":"WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=..."}}
[debug] [2025-12-15T02:36:24.878Z] [runtime-status] [11024] Functions runtime initialized. {"cwd":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions","node_version":"24.11.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [11024] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\",\"node_version\":\"24.11.1\"}"}}
[debug] [2025-12-15T02:36:24.879Z] [runtime-status] [11024] Listening to port: \\?\pipe\fire_emu_a3bcd45b8f2534d8 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [11024] Listening to port: \\\\?\\pipe\\fire_emu_a3bcd45b8f2534d8"}}
[debug] [2025-12-15T02:36:24.897Z] [worker-us-central1-createAppointment-5e2db555-3295-440e-bdc7-30d3c49d9950]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-5e2db555-3295-440e-bdc7-30d3c49d9950]: IDLE"}}
[debug] [2025-12-15T02:36:24.898Z] [worker-pool] submitRequest(triggerId=us-central1-createAppointment) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-createAppointment)"}}
[info] i  functions: Beginning execution of "us-central1-createAppointment" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Beginning execution of \"us-central1-createAppointment\""}}
[debug] [2025-12-15T02:36:24.900Z] [worker-us-central1-createAppointment-5e2db555-3295-440e-bdc7-30d3c49d9950]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-5e2db555-3295-440e-bdc7-30d3c49d9950]: BUSY"}}
[info] >  {"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"VALID\",\"auth\":\"VALID\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  [createAppointment] Called with data: {"date":"2025-12-15","window":"14:00-15:00"} {"user":"[createAppointment] Called with data: {\"date\":\"2025-12-15\",\"window\":\"14:00-15:00\"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Called with data: {\"date\":\"2025-12-15\",\"window\":\"14:00-15:00\"}"}}
[info] >  [createAppointment] Context auth: vtUO1OtiXUuLUvwHsPs2ffIf8EdT {"user":"[createAppointment] Context auth: vtUO1OtiXUuLUvwHsPs2ffIf8EdT","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Context auth: vtUO1OtiXUuLUvwHsPs2ffIf8EdT"}}
[info] >  [createAppointment] Parsed - uid: vtUO1OtiXUuLUvwHsPs2ffIf8EdT, date: 2025-12-15, window: 14:00-15:00 {"user":"[createAppointment] Parsed - uid: vtUO1OtiXUuLUvwHsPs2ffIf8EdT, date: 2025-12-15, window: 14:00-15:00","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Parsed - uid: vtUO1OtiXUuLUvwHsPs2ffIf8EdT, date: 2025-12-15, window: 14:00-15:00"}}
[info] >  [createAppointment] Checking appointment limit... {"user":"[createAppointment] Checking appointment limit...","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Checking appointment limit..."}}
[info] >  [createAppointment] Appointment limit check passed {"user":"[createAppointment] Appointment limit check passed","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Appointment limit check passed"}}
[info] >  [createAppointment] Starting transaction - apptId: vtUO1OtiXUuLUvwHsPs2ffIf8EdT_2025-12-15_14:00-15:00, slotId: 2025-12-15_14:00-15:00 {"user":"[createAppointment] Starting transaction - apptId: vtUO1OtiXUuLUvwHsPs2ffIf8EdT_2025-12-15_14:00-15:00, slotId: 2025-12-15_14:00-15:00","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Starting transaction - apptId: vtUO1OtiXUuLUvwHsPs2ffIf8EdT_2025-12-15_14:00-15:00, slotId: 2025-12-15_14:00-15:00"}}
[info] >  [createAppointment] Inside transaction - checking existing appointment {"user":"[createAppointment] Inside transaction - checking existing appointment","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Inside transaction - checking existing appointment"}}
[info] >  [createAppointment] Checking slot availability {"user":"[createAppointment] Checking slot availability","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Checking slot availability"}}
[info] >  [createAppointment] Slot does not exist, will create new {"user":"[createAppointment] Slot does not exist, will create new","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Slot does not exist, will create new"}}
[info] >  [createAppointment] Creating appointment document {"user":"[createAppointment] Creating appointment document","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Creating appointment document"}}
[info] >  [createAppointment] Transaction failed with error: TypeError: Cannot read properties of undefined (reading 'serverTimestamp') {"user":"[createAppointment] Transaction failed with error: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Transaction failed with error: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')"}}
[info] >      at C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:580:47 {"user":"    at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:580:47","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:580:47"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:103:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:103:5)"}}
[info] >      at async Transaction.runTransactionOnce (C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\@google-cloud\firestore\build\src\transaction.js:440:28) {"user":"    at async Transaction.runTransactionOnce (C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:440:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async Transaction.runTransactionOnce (C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:440:28)"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\@google-cloud\firestore\build\src\transaction.js:412:28 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:412:28","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:412:28"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:535:20 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:535:20","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:535:20"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\firebase-functions\lib\common\providers\https.js:458:26 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:458:26","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:458:26"}}
[info] >      at async runFunction (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:399:9) {"user":"    at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)"}}
[info] >      at async runHTTPS (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:424:5) {"user":"    at async runHTTPS (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:424:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runHTTPS (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:424:5)"}}
[info] >      at async C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:585:21 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:585:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:585:21"}}
[info] >  [createAppointment] Error name: TypeError {"user":"[createAppointment] Error name: TypeError","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Error name: TypeError"}}
[debug] [2025-12-15T02:36:25.675Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-createAppointment" in 775.7948ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Finished \"us-central1-createAppointment\" in 775.7948ms"}}
[debug] [2025-12-15T02:36:25.676Z] [worker-us-central1-createAppointment-5e2db555-3295-440e-bdc7-30d3c49d9950]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-5e2db555-3295-440e-bdc7-30d3c49d9950]: IDLE"}}
[debug] [2025-12-15T02:36:25.676Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-12-15T02:36:25.677Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-12-15T02:36:25.677Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [createAppointment] Error message: Cannot read properties of undefined (reading 'serverTimestamp') {"user":"[createAppointment] Error message: Cannot read properties of undefined (reading 'serverTimestamp')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Error message: Cannot read properties of undefined (reading 'serverTimestamp')"}}
[info] >  [createAppointment] Error stack: TypeError: Cannot read properties of undefined (reading 'serverTimestamp') {"user":"[createAppointment] Error stack: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Error stack: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')"}}
[info] >      at C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:580:47 {"user":"    at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:580:47","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:580:47"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:103:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:103:5)"}}
[info] >      at async Transaction.runTransactionOnce (C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\@google-cloud\firestore\build\src\transaction.js:440:28) {"user":"    at async Transaction.runTransactionOnce (C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:440:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async Transaction.runTransactionOnce (C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:440:28)"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\@google-cloud\firestore\build\src\transaction.js:412:28 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:412:28","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:412:28"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:535:20 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:535:20","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:535:20"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\firebase-functions\lib\common\providers\https.js:458:26 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:458:26","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:458:26"}}
[info] >      at async runFunction (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:399:9) {"user":"    at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)"}}
[info] >      at async runHTTPS (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:424:5) {"user":"    at async runHTTPS (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:424:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runHTTPS (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:424:5)"}}
[info] >      at async C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:585:21 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:585:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:585:21"}}
[debug] [2025-12-15T02:41:41.261Z] ----------------------------------------------------------------------
[debug] [2025-12-15T02:41:41.266Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start
[debug] [2025-12-15T02:41:41.267Z] CLI Version:   15.0.0
[debug] [2025-12-15T02:41:41.267Z] Platform:      win32
[debug] [2025-12-15T02:41:41.267Z] Node Version:  v24.11.1
[debug] [2025-12-15T02:41:41.267Z] Time:          Mon Dec 15 2025 10:41:41 GMT+0800 (Philippine Standard Time)
[debug] [2025-12-15T02:41:41.267Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-12-15T02:41:46.304Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-12-15T02:41:46.305Z] > authorizing via signed-in user (jeffreyautentico7@gmail.com)
[debug] [2025-12-15T02:41:46.555Z] java version "25.0.1" 2025-10-21 LTS

[debug] [2025-12-15T02:41:46.556Z] Java(TM) SE Runtime Environment (build 25.0.1+8-LTS-27)
Java HotSpot(TM) 64-Bit Server VM (build 25.0.1+8-LTS-27, mixed mode, sharing)

[debug] [2025-12-15T02:41:46.577Z] Parsed Java major version: 25
[info] i  emulators: Starting emulators: auth, functions, firestore, extensions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: auth, functions, firestore, extensions"}}
[debug] [2025-12-15T02:41:46.581Z] Checked if tokens are valid: false, expires at: 1765766378543
[debug] [2025-12-15T02:41:46.581Z] Checked if tokens are valid: false, expires at: 1765766378543
[debug] [2025-12-15T02:41:46.582Z] > refreshing access token with scopes: []
[debug] [2025-12-15T02:41:46.585Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2025-12-15T02:41:46.585Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-12-15T02:41:47.026Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2025-12-15T02:41:47.026Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-12-15T02:41:47.048Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/sjpiicd-server [none]
[debug] [2025-12-15T02:41:48.132Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/sjpiicd-server 200
[debug] [2025-12-15T02:41:48.132Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/sjpiicd-server {"projectNumber":"355997838626","projectId":"sjpiicd-server","lifecycleState":"ACTIVE","name":"sjpiicd server","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-11-19T14:33:00.642127Z"}
[debug] [2025-12-15T02:41:48.164Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T02:41:48.164Z] [auth] Authentication Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T02:41:48.164Z] [firestore] Firestore Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T02:41:48.165Z] [firestore.websocket] websocket server for firestore only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T02:41:48.165Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"auth":[{"address":"127.0.0.1","family":"IPv4","port":9099}],"firestore":[{"address":"127.0.0.1","family":"IPv4","port":8080}],"firestore.websocket":[{"address":"127.0.0.1","family":"IPv4","port":9150}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2025-12-15T02:41:48.177Z] Emulator locator file path: C:\Users\JEFFRE~1\AppData\Local\Temp\hub-sjpiicd-server.json
[warn] !  emulators: It seems that you are running multiple instances of the emulator suite for project sjpiicd-server. This may result in unexpected behavior. 
[debug] [2025-12-15T02:41:48.182Z] [hub] writing locator at C:\Users\JEFFRE~1\AppData\Local\Temp\hub-sjpiicd-server.json
[debug] [2025-12-15T02:41:48.198Z] [Extensions] Started Extensions emulator, this is a noop.
[debug] [2025-12-15T02:41:48.214Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T02:41:48.214Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T02:41:48.215Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T02:41:48.215Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"auth":[{"address":"127.0.0.1","family":"IPv4","port":9099}],"firestore":[{"address":"127.0.0.1","family":"IPv4","port":8080}],"firestore.websocket":[{"address":"127.0.0.1","family":"IPv4","port":9150}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, database, hosting, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, database, hosting, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-12-15T02:41:48.282Z] defaultcredentials: writing to file C:\Users\Jeffrey Autentico\AppData\Roaming\firebase\jeffreyautentico7_gmail_com_application_default_credentials.json
[debug] [2025-12-15T02:41:48.288Z] Setting GAC to C:\Users\Jeffrey Autentico\AppData\Roaming\firebase\jeffreyautentico7_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\firebase\\jeffreyautentico7_gmail_com_application_default_credentials.json"}}
[debug] [2025-12-15T02:41:48.288Z] Checked if tokens are valid: true, expires at: 1765770106026
[debug] [2025-12-15T02:41:48.289Z] Checked if tokens are valid: true, expires at: 1765770106026
[debug] [2025-12-15T02:41:48.289Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/sjpiicd-server/adminSdkConfig [none]
[debug] [2025-12-15T02:41:49.246Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/sjpiicd-server/adminSdkConfig 200
[debug] [2025-12-15T02:41:49.247Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/sjpiicd-server/adminSdkConfig {"projectId":"sjpiicd-server","storageBucket":"sjpiicd-server.firebasestorage.app"}
[warn] !  firestore: Cloud Firestore Emulator does not support multiple databases yet. {"metadata":{"emulator":{"name":"firestore"},"message":"Cloud Firestore Emulator does not support multiple databases yet."}}
[warn] !  firestore: Did not find a Cloud Firestore rules file specified in a firebase.json config file. {"metadata":{"emulator":{"name":"firestore"},"message":"Did not find a Cloud Firestore rules file specified in a firebase.json config file."}}
[warn] !  firestore: The emulator will default to allowing all reads and writes. Learn more about this option: https://firebase.google.com/docs/emulator-suite/install_and_configure#security_rules_configuration. {"metadata":{"emulator":{"name":"firestore"},"message":"The emulator will default to allowing all reads and writes. Learn more about this option: https://firebase.google.com/docs/emulator-suite/install_and_configure#security_rules_configuration."}}
[debug] [2025-12-15T02:41:49.283Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2025-12-15T02:41:49.283Z] Ignoring unsupported arg: single_project_mode_error {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: single_project_mode_error"}}
[debug] [2025-12-15T02:41:49.283Z] Starting Firestore Emulator with command {"binary":"java","args":["-Dgoogle.cloud_firestore.debug_log_level=FINE","-Duser.language=en","-jar","C:\\Users\\Jeffrey Autentico\\.cache\\firebase\\emulators\\cloud-firestore-emulator-v1.20.2.jar","--host","127.0.0.1","--port",8080,"--websocket_port",9150,"--project_id","sjpiicd-server","--single_project_mode",true,"--functions_emulator","127.0.0.1:5001"],"optionalArgs":["port","webchannel_port","host","rules","websocket_port","functions_emulator","seed_from_export","project_id","single_project_mode"],"joinArgs":false,"shell":false,"port":8080} {"metadata":{"emulator":{"name":"firestore"},"message":"Starting Firestore Emulator with command {\"binary\":\"java\",\"args\":[\"-Dgoogle.cloud_firestore.debug_log_level=FINE\",\"-Duser.language=en\",\"-jar\",\"C:\\\\Users\\\\Jeffrey Autentico\\\\.cache\\\\firebase\\\\emulators\\\\cloud-firestore-emulator-v1.20.2.jar\",\"--host\",\"127.0.0.1\",\"--port\",8080,\"--websocket_port\",9150,\"--project_id\",\"sjpiicd-server\",\"--single_project_mode\",true,\"--functions_emulator\",\"127.0.0.1:5001\"],\"optionalArgs\":[\"port\",\"webchannel_port\",\"host\",\"rules\",\"websocket_port\",\"functions_emulator\",\"seed_from_export\",\"project_id\",\"single_project_mode\"],\"joinArgs\":false,\"shell\":false,\"port\":8080}"}}
[info] i  firestore: Firestore Emulator logging to firestore-debug.log {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator logging to \u001b[1mfirestore-debug.log\u001b[22m"}}
[info] +  firestore: Firestore Emulator UI websocket is running on 9150. {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator UI websocket is running on 9150."}}
[debug] [2025-12-15T02:42:03.938Z] [Extensions] Connecting Extensions emulator, this is a noop.
[info] i  functions: Watching "C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\" for Cloud Functions..."}}
[debug] [2025-12-15T02:42:03.947Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-12-15T02:42:06.158Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "start": "firebase emulators:start --only functions,firestore,auth,storage",
    "deploy": "firebase deploy --only functions"
  },
  "dependencies": {
    "cloudinary": "^2.8.0",
    "firebase-admin": "^15.0.0",
    "firebase-functions": "^4.9.0",
    "uuid": "^9.0.0"
  },
  "engines": {
    "node": "18"
  }
}
[debug] [2025-12-15T02:42:06.158Z] Building nodejs source
[debug] [2025-12-15T02:42:06.159Z] Failed to find version of module node: reached end of search path C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "24". Using node@24 from host. 
[info] i  functions: You are using a version of firebase-functions SDK (4.9.0) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly 
[debug] [2025-12-15T02:42:06.164Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-12-15T02:42:06.180Z] Found firebase-functions binary at 'C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8966

[error] WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...

[debug] [2025-12-15T02:42:08.487Z] Got response from /__/functions.yaml {"endpoints":{"setCustomClaimOnSignup":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/sjpiicd-server"},"retry":false},"labels":{},"entryPoint":"setCustomClaimOnSignup"},"onAppointmentPaid":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentPaid"},"onAppointmentCreated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentCreated"},"onAppointmentUpdated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentUpdated"},"reserveUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"reserveUsername"},"releaseUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"releaseUsername"},"getEmailForUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getEmailForUsername"},"uploadPermit":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"uploadPermit"},"createAppointment":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createAppointment"},"helloWorld":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"helloWorld"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld."}}
[debug] [2025-12-15T02:42:12.571Z] addAuthTrigger {"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/sjpiicd-server"}}
[info] +  functions[us-central1-setCustomClaimOnSignup]: auth function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mauth\u001b[22m function initialized."}}
[debug] [2025-12-15T02:42:12.572Z] addFirestoreTrigger "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.update\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T02:42:12.573Z] >>> [apiv2][query] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0 [none]
[debug] [2025-12-15T02:42:12.573Z] >>> [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0 "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.update\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T02:42:14.186Z] <<< [apiv2][status] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0 200
[debug] [2025-12-15T02:42:14.186Z] <<< [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0 {}
[info] +  functions[us-central1-onAppointmentPaid]: firestore function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mfirestore\u001b[22m function initialized."}}
[debug] [2025-12-15T02:42:14.187Z] addFirestoreTrigger "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.create\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T02:42:14.187Z] >>> [apiv2][query] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0 [none]
[debug] [2025-12-15T02:42:14.188Z] >>> [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0 "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.create\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T02:42:14.201Z] <<< [apiv2][status] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0 200
[debug] [2025-12-15T02:42:14.202Z] <<< [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0 {}
[info] +  functions[us-central1-onAppointmentCreated]: firestore function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mfirestore\u001b[22m function initialized."}}
[debug] [2025-12-15T02:42:14.203Z] addFirestoreTrigger "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.update\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T02:42:14.203Z] >>> [apiv2][query] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0 [none]
[debug] [2025-12-15T02:42:14.203Z] >>> [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0 "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.update\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T02:42:14.217Z] <<< [apiv2][status] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0 200
[debug] [2025-12-15T02:42:14.218Z] <<< [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0 {}
[info] +  functions[us-central1-onAppointmentUpdated]: firestore function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mfirestore\u001b[22m function initialized."}}
[info] +  functions[us-central1-reserveUsername]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/reserveUsername). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/reserveUsername)."}}
[info] +  functions[us-central1-releaseUsername]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/releaseUsername). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/releaseUsername)."}}
[info] +  functions[us-central1-getEmailForUsername]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/getEmailForUsername). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/getEmailForUsername)."}}
[info] +  functions[us-central1-uploadPermit]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/uploadPermit). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/uploadPermit)."}}
[info] +  functions[us-central1-createAppointment]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/createAppointment). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/createAppointment)."}}
[info] +  functions[us-central1-helloWorld]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/helloWorld). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/helloWorld)."}}
[debug] [2025-12-15T02:42:14.231Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: . If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌────────────────┬────────────────┬──────────────────────────────────┐
│ Emulator       │ Host:Port      │ View in Emulator UI              │
├────────────────┼────────────────┼──────────────────────────────────┤
│ Authentication │ 127.0.0.1:9099 │ http://127.0.0.1:4000/auth       │
├────────────────┼────────────────┼──────────────────────────────────┤
│ Functions      │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions  │
├────────────────┼────────────────┼──────────────────────────────────┤
│ Firestore      │ 127.0.0.1:8080 │ http://127.0.0.1:4000/firestore  │
├────────────────┼────────────────┼──────────────────────────────────┤
│ Extensions     │ 127.0.0.1:5001 │ http://127.0.0.1:4000/extensions │
└────────────────┴────────────────┴──────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500, 9150
┌─────────────────────────┬───────────────┬─────────────────────┐
│ Extension Instance Name │ Extension Ref │ View in Emulator UI │
└─────────────────────────┴───────────────┴─────────────────────┘
Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2025-12-15T02:52:01.335Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast [none]
[debug] [2025-12-15T02:52:01.338Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast {"eventId":"f6b02167-0653-45e6-a831-9b0f80ff2b27","eventType":"providers/firebase.auth/eventTypes/user.create","resource":{"name":"projects/sjpiicd-server","service":"firebaseauth.googleapis.com"},"params":{},"timestamp":"2025-12-15T02:52:01.330Z","data":{"uid":"ZzwNaj6MYeTSSAq9Nw4I5d0cb9Sl","email":"inuzawa01@gmail.com","emailVerified":false,"metadata":{"creationTime":"2025-12-15T02:52:01.322Z","lastSignInTime":"2025-12-15T02:52:01.322Z"},"customClaims":{},"providerData":[{"rawId":"inuzawa01@gmail.com","providerId":"password","email":"inuzawa01@gmail.com","federatedId":"inuzawa01@gmail.com"}]}}
[debug] [2025-12-15T02:52:01.383Z] [work-queue] {"queuedWork":["us-central1-setCustomClaimOnSignup-0-2025-12-15T02:52:01.382Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T02:52:01.385Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["us-central1-setCustomClaimOnSignup-0-2025-12-15T02:52:01.382Z"],"workRunningCount":1}
[debug] [2025-12-15T02:52:01.386Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T02:52:01.390Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast 200
[debug] [2025-12-15T02:52:01.391Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2025-12-15T02:52:01.398Z] [work-queue] {"queuedWork":["/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0-2025-12-15T02:52:01.397Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T02:52:01.398Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0-2025-12-15T02:52:01.397Z"],"workRunningCount":1}
[debug] [2025-12-15T02:52:01.400Z] Accepted request POST /functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0 --> us-central1-setCustomClaimOnSignup-0
[debug] [2025-12-15T02:52:01.414Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-12-15T02:52:01.417Z] [functions] Got req.url=/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0, mapping to path=/functions/projects/"}}
[debug] [2025-12-15T02:52:01.478Z] [worker-pool] addWorker(us-central1-setCustomClaimOnSignup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-setCustomClaimOnSignup)"}}
[debug] [2025-12-15T02:52:01.480Z] [worker-pool] Adding worker with key us-central1-setCustomClaimOnSignup, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-setCustomClaimOnSignup, total=1"}}
[debug] [2025-12-15T02:52:06.520Z] [runtime-status] [41860] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [41860] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T02:52:06.526Z] [runtime-status] [41860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [41860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T02:52:06.527Z] [runtime-status] [41860] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [41860] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-12-15T02:52:06.530Z] [runtime-status] [41860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [41860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T02:52:07.602Z] [runtime-status] [41860] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [41860] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T02:52:07.612Z] [runtime-status] [41860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [41860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T02:52:08.184Z] [runtime-status] [41860] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [41860] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-12-15T02:52:08.191Z] [runtime-status] [41860] initializeApp(DEFAULT) {"storageBucket":"sjpiicd-server.firebasestorage.app","projectId":"sjpiicd-server"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [41860] initializeApp(DEFAULT) {\"storageBucket\":\"sjpiicd-server.firebasestorage.app\",\"projectId\":\"sjpiicd-server\"}"}}
[info] >  WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=... {"user":"WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=..."}}
[debug] [2025-12-15T02:52:08.740Z] [runtime-status] [41860] Functions runtime initialized. {"cwd":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions","node_version":"24.11.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [41860] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\",\"node_version\":\"24.11.1\"}"}}
[debug] [2025-12-15T02:52:08.740Z] [runtime-status] [41860] Listening to port: \\?\pipe\fire_emu_af31ae6b0106043c {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [41860] Listening to port: \\\\?\\pipe\\fire_emu_af31ae6b0106043c"}}
[debug] [2025-12-15T02:52:08.829Z] [worker-us-central1-setCustomClaimOnSignup-818a7f2e-ddf1-4d78-b394-a7520cfdd5e3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-818a7f2e-ddf1-4d78-b394-a7520cfdd5e3]: IDLE"}}
[debug] [2025-12-15T02:52:08.830Z] [worker-pool] submitRequest(triggerId=us-central1-setCustomClaimOnSignup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-setCustomClaimOnSignup)"}}
[info] i  functions: Beginning execution of "us-central1-setCustomClaimOnSignup" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Beginning execution of \"us-central1-setCustomClaimOnSignup\""}}
[debug] [2025-12-15T02:52:08.832Z] [worker-us-central1-setCustomClaimOnSignup-818a7f2e-ddf1-4d78-b394-a7520cfdd5e3]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-818a7f2e-ddf1-4d78-b394-a7520cfdd5e3]: BUSY"}}
[debug] [2025-12-15T02:52:08.894Z] [runtime-status] [41860] ProcessBackground: lifting resource.name from resource {"name":"projects/sjpiicd-server","service":"firebaseauth.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [41860] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/sjpiicd-server\",\"service\":\"firebaseauth.googleapis.com\"}"}}
[debug] [2025-12-15T02:52:08.895Z] [runtime-status] [41860] RunBackground {"data":{"uid":"ZzwNaj6MYeTSSAq9Nw4I5d0cb9Sl","email":"inuzawa01@gmail.com","emailVerified":false,"metadata":{"creationTime":"2025-12-15T02:52:01.322Z","lastSignInTime":"2025-12-15T02:52:01.322Z"},"customClaims":{},"providerData":[{"rawId":"inuzawa01@gmail.com","providerId":"password","email":"inuzawa01@gmail.com","federatedId":"inuzawa01@gmail.com"}]},"context":{"eventId":"f6b02167-0653-45e6-a831-9b0f80ff2b27","eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/sjpiicd-server","params":{},"timestamp":"2025-12-15T02:52:01.330Z"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [41860] RunBackground {\"data\":{\"uid\":\"ZzwNaj6MYeTSSAq9Nw4I5d0cb9Sl\",\"email\":\"inuzawa01@gmail.com\",\"emailVerified\":false,\"metadata\":{\"creationTime\":\"2025-12-15T02:52:01.322Z\",\"lastSignInTime\":\"2025-12-15T02:52:01.322Z\"},\"customClaims\":{},\"providerData\":[{\"rawId\":\"inuzawa01@gmail.com\",\"providerId\":\"password\",\"email\":\"inuzawa01@gmail.com\",\"federatedId\":\"inuzawa01@gmail.com\"}]},\"context\":{\"eventId\":\"f6b02167-0653-45e6-a831-9b0f80ff2b27\",\"eventType\":\"providers/firebase.auth/eventTypes/user.create\",\"resource\":\"projects/sjpiicd-server\",\"params\":{},\"timestamp\":\"2025-12-15T02:52:01.330Z\"}}"}}
[info] >  Failed to set custom claim: TypeError: Cannot read properties of undefined (reading 'serverTimestamp') {"user":"Failed to set custom claim: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m Failed to set custom claim: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')"}}
[info] >      at C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:99:47 {"user":"    at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:99:47","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:99:47"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:103:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:103:5)"}}
[info] >      at async runFunction (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:399:9) {"user":"    at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)"}}
[info] >      at async runBackground (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:410:5) {"user":"    at async runBackground (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:410:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runBackground (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:410:5)"}}
[info] >      at async processBackground (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:394:5) {"user":"    at async processBackground (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:394:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async processBackground (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:394:5)"}}
[info] >      at async C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:581:21 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:581:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:581:21"}}
[debug] [2025-12-15T02:52:08.970Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-setCustomClaimOnSignup" in 138.0547ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finished \"us-central1-setCustomClaimOnSignup\" in 138.0547ms"}}
[debug] [2025-12-15T02:52:08.972Z] [worker-us-central1-setCustomClaimOnSignup-818a7f2e-ddf1-4d78-b394-a7520cfdd5e3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-818a7f2e-ddf1-4d78-b394-a7520cfdd5e3]: IDLE"}}
[debug] [2025-12-15T02:52:08.972Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-12-15T02:52:08.972Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-12-15T02:52:08.972Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T02:52:29.245Z] [work-queue] {"queuedWork":["/sjpiicd-server/us-central1/createAppointment-2025-12-15T02:52:29.244Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T02:52:29.245Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/sjpiicd-server/us-central1/createAppointment-2025-12-15T02:52:29.244Z"],"workRunningCount":1}
[debug] [2025-12-15T02:52:29.245Z] Accepted request POST /sjpiicd-server/us-central1/createAppointment --> us-central1-createAppointment
[debug] [2025-12-15T02:52:29.249Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-12-15T02:52:29.249Z] [functions] Got req.url=/sjpiicd-server/us-central1/createAppointment, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/sjpiicd-server/us-central1/createAppointment, mapping to path=/"}}
[debug] [2025-12-15T02:52:29.263Z] [worker-pool] addWorker(us-central1-createAppointment) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-createAppointment)"}}
[debug] [2025-12-15T02:52:29.264Z] [worker-pool] Adding worker with key us-central1-createAppointment, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-createAppointment, total=1"}}
[debug] [2025-12-15T02:52:32.162Z] [runtime-status] [31604] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [31604] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T02:52:32.165Z] [runtime-status] [31604] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [31604] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T02:52:32.166Z] [runtime-status] [31604] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [31604] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-12-15T02:52:32.168Z] [runtime-status] [31604] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [31604] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T02:52:32.891Z] [runtime-status] [31604] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [31604] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T02:52:32.897Z] [runtime-status] [31604] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [31604] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T02:52:33.285Z] [runtime-status] [31604] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [31604] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-12-15T02:52:33.290Z] [runtime-status] [31604] initializeApp(DEFAULT) {"storageBucket":"sjpiicd-server.firebasestorage.app","projectId":"sjpiicd-server"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [31604] initializeApp(DEFAULT) {\"storageBucket\":\"sjpiicd-server.firebasestorage.app\",\"projectId\":\"sjpiicd-server\"}"}}
[info] >  WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=... {"user":"WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=..."}}
[debug] [2025-12-15T02:52:33.659Z] [runtime-status] [31604] Functions runtime initialized. {"cwd":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions","node_version":"24.11.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [31604] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\",\"node_version\":\"24.11.1\"}"}}
[debug] [2025-12-15T02:52:33.660Z] [runtime-status] [31604] Listening to port: \\?\pipe\fire_emu_2c0e5ce1e79d0cbb {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [31604] Listening to port: \\\\?\\pipe\\fire_emu_2c0e5ce1e79d0cbb"}}
[debug] [2025-12-15T02:52:33.729Z] [worker-us-central1-createAppointment-aa6d9787-0bae-4177-867f-f7dbe92f6954]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-aa6d9787-0bae-4177-867f-f7dbe92f6954]: IDLE"}}
[debug] [2025-12-15T02:52:33.730Z] [worker-pool] submitRequest(triggerId=us-central1-createAppointment) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-createAppointment)"}}
[info] i  functions: Beginning execution of "us-central1-createAppointment" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Beginning execution of \"us-central1-createAppointment\""}}
[debug] [2025-12-15T02:52:33.731Z] [worker-us-central1-createAppointment-aa6d9787-0bae-4177-867f-f7dbe92f6954]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-aa6d9787-0bae-4177-867f-f7dbe92f6954]: BUSY"}}
[info] >  {"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"VALID\",\"auth\":\"VALID\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  [createAppointment] Called with data: {"date":"2025-12-15","window":"14:00-15:00"} {"user":"[createAppointment] Called with data: {\"date\":\"2025-12-15\",\"window\":\"14:00-15:00\"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Called with data: {\"date\":\"2025-12-15\",\"window\":\"14:00-15:00\"}"}}
[info] >  [createAppointment] Context auth: ZzwNaj6MYeTSSAq9Nw4I5d0cb9Sl {"user":"[createAppointment] Context auth: ZzwNaj6MYeTSSAq9Nw4I5d0cb9Sl","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Context auth: ZzwNaj6MYeTSSAq9Nw4I5d0cb9Sl"}}
[info] >  [createAppointment] Parsed - uid: ZzwNaj6MYeTSSAq9Nw4I5d0cb9Sl, date: 2025-12-15, window: 14:00-15:00 {"user":"[createAppointment] Parsed - uid: ZzwNaj6MYeTSSAq9Nw4I5d0cb9Sl, date: 2025-12-15, window: 14:00-15:00","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Parsed - uid: ZzwNaj6MYeTSSAq9Nw4I5d0cb9Sl, date: 2025-12-15, window: 14:00-15:00"}}
[info] >  [createAppointment] Checking appointment limit... {"user":"[createAppointment] Checking appointment limit...","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Checking appointment limit..."}}
[info] >  [createAppointment] Appointment limit check passed {"user":"[createAppointment] Appointment limit check passed","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Appointment limit check passed"}}
[info] >  [createAppointment] Starting transaction - apptId: ZzwNaj6MYeTSSAq9Nw4I5d0cb9Sl_2025-12-15_14:00-15:00, slotId: 2025-12-15_14:00-15:00 {"user":"[createAppointment] Starting transaction - apptId: ZzwNaj6MYeTSSAq9Nw4I5d0cb9Sl_2025-12-15_14:00-15:00, slotId: 2025-12-15_14:00-15:00","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Starting transaction - apptId: ZzwNaj6MYeTSSAq9Nw4I5d0cb9Sl_2025-12-15_14:00-15:00, slotId: 2025-12-15_14:00-15:00"}}
[info] >  [createAppointment] Inside transaction - checking existing appointment {"user":"[createAppointment] Inside transaction - checking existing appointment","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Inside transaction - checking existing appointment"}}
[info] >  [createAppointment] Checking slot availability {"user":"[createAppointment] Checking slot availability","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Checking slot availability"}}
[info] >  [createAppointment] Slot does not exist, will create new {"user":"[createAppointment] Slot does not exist, will create new","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Slot does not exist, will create new"}}
[info] >  [createAppointment] Creating appointment document {"user":"[createAppointment] Creating appointment document","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Creating appointment document"}}
[info] >  [createAppointment] Transaction failed with error: TypeError: Cannot read properties of undefined (reading 'serverTimestamp') {"user":"[createAppointment] Transaction failed with error: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Transaction failed with error: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')"}}
[info] >      at C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:580:47 {"user":"    at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:580:47","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:580:47"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:103:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:103:5)"}}
[info] >      at async Transaction.runTransactionOnce (C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\@google-cloud\firestore\build\src\transaction.js:440:28) {"user":"    at async Transaction.runTransactionOnce (C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:440:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async Transaction.runTransactionOnce (C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:440:28)"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\@google-cloud\firestore\build\src\transaction.js:412:28 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:412:28","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:412:28"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:535:20 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:535:20","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:535:20"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\firebase-functions\lib\common\providers\https.js:458:26 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:458:26","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:458:26"}}
[info] >      at async runFunction (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:399:9) {"user":"    at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)"}}
[info] >      at async runHTTPS (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:424:5) {"user":"    at async runHTTPS (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:424:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runHTTPS (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:424:5)"}}
[info] >      at async C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:585:21 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:585:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:585:21"}}
[info] >  [createAppointment] Error name: TypeError {"user":"[createAppointment] Error name: TypeError","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Error name: TypeError"}}
[debug] [2025-12-15T02:52:34.841Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-createAppointment" in 1110.4945ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Finished \"us-central1-createAppointment\" in 1110.4945ms"}}
[debug] [2025-12-15T02:52:34.842Z] [worker-us-central1-createAppointment-aa6d9787-0bae-4177-867f-f7dbe92f6954]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-aa6d9787-0bae-4177-867f-f7dbe92f6954]: IDLE"}}
[debug] [2025-12-15T02:52:34.842Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-12-15T02:52:34.842Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-12-15T02:52:34.842Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [createAppointment] Error message: Cannot read properties of undefined (reading 'serverTimestamp') {"user":"[createAppointment] Error message: Cannot read properties of undefined (reading 'serverTimestamp')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Error message: Cannot read properties of undefined (reading 'serverTimestamp')"}}
[info] >  [createAppointment] Error stack: TypeError: Cannot read properties of undefined (reading 'serverTimestamp') {"user":"[createAppointment] Error stack: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Error stack: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')"}}
[info] >      at C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:580:47 {"user":"    at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:580:47","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:580:47"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:103:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:103:5)"}}
[info] >      at async Transaction.runTransactionOnce (C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\@google-cloud\firestore\build\src\transaction.js:440:28) {"user":"    at async Transaction.runTransactionOnce (C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:440:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async Transaction.runTransactionOnce (C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:440:28)"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\@google-cloud\firestore\build\src\transaction.js:412:28 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:412:28","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:412:28"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:535:20 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:535:20","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:535:20"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\firebase-functions\lib\common\providers\https.js:458:26 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:458:26","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:458:26"}}
[info] >      at async runFunction (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:399:9) {"user":"    at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)"}}
[info] >      at async runHTTPS (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:424:5) {"user":"    at async runHTTPS (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:424:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runHTTPS (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:424:5)"}}
[info] >      at async C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:585:21 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:585:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:585:21"}}
[debug] [2025-12-15T03:03:15.870Z] File C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js changed, reloading triggers"}}
[debug] [2025-12-15T03:03:16.874Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-12-15T03:03:20.229Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "start": "firebase emulators:start --only functions,firestore,auth,storage",
    "deploy": "firebase deploy --only functions"
  },
  "dependencies": {
    "cloudinary": "^2.8.0",
    "firebase-admin": "^15.0.0",
    "firebase-functions": "^4.9.0",
    "uuid": "^9.0.0"
  },
  "engines": {
    "node": "18"
  }
}
[debug] [2025-12-15T03:03:20.229Z] Building nodejs source
[debug] [2025-12-15T03:03:20.230Z] Failed to find version of module node: reached end of search path C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "24". Using node@24 from host. 
[info] i  functions: You are using a version of firebase-functions SDK (4.9.0) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly 
[debug] [2025-12-15T03:03:20.232Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-12-15T03:03:20.249Z] Found firebase-functions binary at 'C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8300

[error] WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...

[debug] [2025-12-15T03:03:23.294Z] Got response from /__/functions.yaml {"endpoints":{"setCustomClaimOnSignup":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/sjpiicd-server"},"retry":false},"labels":{},"entryPoint":"setCustomClaimOnSignup"},"onAppointmentPaid":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentPaid"},"onAppointmentCreated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentCreated"},"onAppointmentUpdated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentUpdated"},"reserveUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"reserveUsername"},"releaseUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"releaseUsername"},"getEmailForUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getEmailForUsername"},"uploadPermit":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"uploadPermit"},"createAppointment":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createAppointment"},"helloWorld":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"helloWorld"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld."}}
[debug] [2025-12-15T03:03:27.365Z] [worker-pool] Shutting down IDLE worker (us-central1-setCustomClaimOnSignup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-setCustomClaimOnSignup)"}}
[debug] [2025-12-15T03:03:27.366Z] [worker-us-central1-setCustomClaimOnSignup-818a7f2e-ddf1-4d78-b394-a7520cfdd5e3]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-818a7f2e-ddf1-4d78-b394-a7520cfdd5e3]: FINISHING"}}
[debug] [2025-12-15T03:03:27.366Z] [worker-pool] Shutting down IDLE worker (us-central1-createAppointment) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-createAppointment)"}}
[debug] [2025-12-15T03:03:27.366Z] [worker-us-central1-createAppointment-aa6d9787-0bae-4177-867f-f7dbe92f6954]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-aa6d9787-0bae-4177-867f-f7dbe92f6954]: FINISHING"}}
[debug] [2025-12-15T03:03:27.395Z] [worker-us-central1-setCustomClaimOnSignup-818a7f2e-ddf1-4d78-b394-a7520cfdd5e3]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-818a7f2e-ddf1-4d78-b394-a7520cfdd5e3]: exited"}}
[debug] [2025-12-15T03:03:27.395Z] [worker-us-central1-setCustomClaimOnSignup-818a7f2e-ddf1-4d78-b394-a7520cfdd5e3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-818a7f2e-ddf1-4d78-b394-a7520cfdd5e3]: FINISHED"}}
[debug] [2025-12-15T03:03:27.397Z] [worker-us-central1-createAppointment-aa6d9787-0bae-4177-867f-f7dbe92f6954]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-aa6d9787-0bae-4177-867f-f7dbe92f6954]: exited"}}
[debug] [2025-12-15T03:03:27.397Z] [worker-us-central1-createAppointment-aa6d9787-0bae-4177-867f-f7dbe92f6954]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-aa6d9787-0bae-4177-867f-f7dbe92f6954]: FINISHED"}}
[debug] [2025-12-15T03:04:11.909Z] [work-queue] {"queuedWork":["/sjpiicd-server/us-central1/createAppointment-2025-12-15T03:04:11.908Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T03:04:11.909Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/sjpiicd-server/us-central1/createAppointment-2025-12-15T03:04:11.908Z"],"workRunningCount":1}
[debug] [2025-12-15T03:04:11.909Z] Accepted request POST /sjpiicd-server/us-central1/createAppointment --> us-central1-createAppointment
[debug] [2025-12-15T03:04:11.916Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-12-15T03:04:11.916Z] [functions] Got req.url=/sjpiicd-server/us-central1/createAppointment, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/sjpiicd-server/us-central1/createAppointment, mapping to path=/"}}
[debug] [2025-12-15T03:04:11.916Z] [worker-pool] Cleaned up workers for us-central1-setCustomClaimOnSignup: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-setCustomClaimOnSignup: 1 --> 0"}}
[debug] [2025-12-15T03:04:11.917Z] [worker-pool] Cleaned up workers for us-central1-createAppointment: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-createAppointment: 1 --> 0"}}
[debug] [2025-12-15T03:04:11.933Z] [worker-pool] addWorker(us-central1-createAppointment) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-createAppointment)"}}
[debug] [2025-12-15T03:04:11.934Z] [worker-pool] Adding worker with key us-central1-createAppointment, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-createAppointment, total=1"}}
[debug] [2025-12-15T03:04:16.137Z] [runtime-status] [19000] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [19000] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T03:04:16.141Z] [runtime-status] [19000] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [19000] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T03:04:16.141Z] [runtime-status] [19000] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [19000] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-12-15T03:04:16.144Z] [runtime-status] [19000] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [19000] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T03:04:16.885Z] [runtime-status] [19000] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [19000] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T03:04:16.891Z] [runtime-status] [19000] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [19000] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T03:04:17.287Z] [runtime-status] [19000] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [19000] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-12-15T03:04:17.293Z] [runtime-status] [19000] initializeApp(DEFAULT) {"storageBucket":"sjpiicd-server.firebasestorage.app","projectId":"sjpiicd-server"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [19000] initializeApp(DEFAULT) {\"storageBucket\":\"sjpiicd-server.firebasestorage.app\",\"projectId\":\"sjpiicd-server\"}"}}
[info] >  WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=... {"user":"WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=..."}}
[debug] [2025-12-15T03:04:17.687Z] [runtime-status] [19000] Functions runtime initialized. {"cwd":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions","node_version":"24.11.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [19000] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\",\"node_version\":\"24.11.1\"}"}}
[debug] [2025-12-15T03:04:17.687Z] [runtime-status] [19000] Listening to port: \\?\pipe\fire_emu_2f247c18f7bc965e {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [19000] Listening to port: \\\\?\\pipe\\fire_emu_2f247c18f7bc965e"}}
[debug] [2025-12-15T03:04:17.723Z] [worker-us-central1-createAppointment-49db10fb-0965-4e9c-8122-fcb8731a12b0]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-49db10fb-0965-4e9c-8122-fcb8731a12b0]: IDLE"}}
[debug] [2025-12-15T03:04:17.724Z] [worker-pool] submitRequest(triggerId=us-central1-createAppointment) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-createAppointment)"}}
[info] i  functions: Beginning execution of "us-central1-createAppointment" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Beginning execution of \"us-central1-createAppointment\""}}
[debug] [2025-12-15T03:04:17.725Z] [worker-us-central1-createAppointment-49db10fb-0965-4e9c-8122-fcb8731a12b0]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-49db10fb-0965-4e9c-8122-fcb8731a12b0]: BUSY"}}
[info] >  {"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"VALID\",\"auth\":\"VALID\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  [createAppointment] Called with data: {"date":"2025-12-31","window":"14:00-15:00"} {"user":"[createAppointment] Called with data: {\"date\":\"2025-12-31\",\"window\":\"14:00-15:00\"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Called with data: {\"date\":\"2025-12-31\",\"window\":\"14:00-15:00\"}"}}
[info] >  [createAppointment] Context auth: ZzwNaj6MYeTSSAq9Nw4I5d0cb9Sl {"user":"[createAppointment] Context auth: ZzwNaj6MYeTSSAq9Nw4I5d0cb9Sl","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Context auth: ZzwNaj6MYeTSSAq9Nw4I5d0cb9Sl"}}
[info] >  [createAppointment] Parsed - uid: ZzwNaj6MYeTSSAq9Nw4I5d0cb9Sl, date: 2025-12-31, window: 14:00-15:00 {"user":"[createAppointment] Parsed - uid: ZzwNaj6MYeTSSAq9Nw4I5d0cb9Sl, date: 2025-12-31, window: 14:00-15:00","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Parsed - uid: ZzwNaj6MYeTSSAq9Nw4I5d0cb9Sl, date: 2025-12-31, window: 14:00-15:00"}}
[info] >  [createAppointment] Checking appointment limit... {"user":"[createAppointment] Checking appointment limit...","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Checking appointment limit..."}}
[info] >  [createAppointment] Appointment limit check passed {"user":"[createAppointment] Appointment limit check passed","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Appointment limit check passed"}}
[info] >  [createAppointment] Starting transaction - apptId: ZzwNaj6MYeTSSAq9Nw4I5d0cb9Sl_2025-12-31_14:00-15:00, slotId: 2025-12-31_14:00-15:00 {"user":"[createAppointment] Starting transaction - apptId: ZzwNaj6MYeTSSAq9Nw4I5d0cb9Sl_2025-12-31_14:00-15:00, slotId: 2025-12-31_14:00-15:00","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Starting transaction - apptId: ZzwNaj6MYeTSSAq9Nw4I5d0cb9Sl_2025-12-31_14:00-15:00, slotId: 2025-12-31_14:00-15:00"}}
[info] >  [createAppointment] Inside transaction - checking existing appointment {"user":"[createAppointment] Inside transaction - checking existing appointment","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Inside transaction - checking existing appointment"}}
[info] >  [createAppointment] Checking slot availability {"user":"[createAppointment] Checking slot availability","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Checking slot availability"}}
[info] >  [createAppointment] Slot does not exist, will create new {"user":"[createAppointment] Slot does not exist, will create new","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Slot does not exist, will create new"}}
[info] >  [createAppointment] Creating appointment document {"user":"[createAppointment] Creating appointment document","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Creating appointment document"}}
[info] >  [createAppointment] Transaction failed with error: TypeError: Cannot read properties of undefined (reading 'serverTimestamp') {"user":"[createAppointment] Transaction failed with error: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Transaction failed with error: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')"}}
[info] >      at C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:551:31 {"user":"    at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:551:31","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:551:31"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:103:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:103:5)"}}
[info] >      at async Transaction.runTransactionOnce (C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\@google-cloud\firestore\build\src\transaction.js:440:28) {"user":"    at async Transaction.runTransactionOnce (C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:440:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async Transaction.runTransactionOnce (C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:440:28)"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\@google-cloud\firestore\build\src\transaction.js:412:28 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:412:28","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:412:28"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:508:20 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:508:20","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:508:20"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\firebase-functions\lib\common\providers\https.js:458:26 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:458:26","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:458:26"}}
[info] >      at async runFunction (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:399:9) {"user":"    at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)"}}
[info] >      at async runHTTPS (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:424:5) {"user":"    at async runHTTPS (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:424:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runHTTPS (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:424:5)"}}
[info] >      at async C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:585:21 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:585:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:585:21"}}
[debug] [2025-12-15T03:04:18.730Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-createAppointment" in 1005.7562ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Finished \"us-central1-createAppointment\" in 1005.7562ms"}}
[debug] [2025-12-15T03:04:18.731Z] [worker-us-central1-createAppointment-49db10fb-0965-4e9c-8122-fcb8731a12b0]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-49db10fb-0965-4e9c-8122-fcb8731a12b0]: IDLE"}}
[debug] [2025-12-15T03:04:18.731Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-12-15T03:04:18.731Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-12-15T03:04:18.732Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [createAppointment] Error name: TypeError {"user":"[createAppointment] Error name: TypeError","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Error name: TypeError"}}
[info] >  [createAppointment] Error message: Cannot read properties of undefined (reading 'serverTimestamp') {"user":"[createAppointment] Error message: Cannot read properties of undefined (reading 'serverTimestamp')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Error message: Cannot read properties of undefined (reading 'serverTimestamp')"}}
[info] >  [createAppointment] Error stack: TypeError: Cannot read properties of undefined (reading 'serverTimestamp') {"user":"[createAppointment] Error stack: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Error stack: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')"}}
[info] >      at C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:551:31 {"user":"    at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:551:31","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:551:31"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:103:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:103:5)"}}
[info] >      at async Transaction.runTransactionOnce (C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\@google-cloud\firestore\build\src\transaction.js:440:28) {"user":"    at async Transaction.runTransactionOnce (C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:440:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async Transaction.runTransactionOnce (C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:440:28)"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\@google-cloud\firestore\build\src\transaction.js:412:28 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:412:28","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:412:28"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:508:20 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:508:20","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:508:20"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\firebase-functions\lib\common\providers\https.js:458:26 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:458:26","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:458:26"}}
[info] >      at async runFunction (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:399:9) {"user":"    at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)"}}
[info] >      at async runHTTPS (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:424:5) {"user":"    at async runHTTPS (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:424:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runHTTPS (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:424:5)"}}
[info] >      at async C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:585:21 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:585:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:585:21"}}
[debug] [2025-12-15T03:06:07.332Z] File C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js changed, reloading triggers"}}
[debug] [2025-12-15T03:06:08.336Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-12-15T03:06:10.829Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "start": "firebase emulators:start --only functions,firestore,auth,storage",
    "deploy": "firebase deploy --only functions"
  },
  "dependencies": {
    "cloudinary": "^2.8.0",
    "firebase-admin": "^15.0.0",
    "firebase-functions": "^4.9.0",
    "uuid": "^9.0.0"
  },
  "engines": {
    "node": "18"
  }
}
[debug] [2025-12-15T03:06:10.829Z] Building nodejs source
[debug] [2025-12-15T03:06:10.829Z] Failed to find version of module node: reached end of search path C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "24". Using node@24 from host. 
[info] i  functions: You are using a version of firebase-functions SDK (4.9.0) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly 
[debug] [2025-12-15T03:06:10.832Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-12-15T03:06:10.844Z] Found firebase-functions binary at 'C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8096

[error] WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...

[debug] [2025-12-15T03:06:13.615Z] Got response from /__/functions.yaml {"endpoints":{"setCustomClaimOnSignup":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/sjpiicd-server"},"retry":false},"labels":{},"entryPoint":"setCustomClaimOnSignup"},"onAppointmentPaid":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentPaid"},"onAppointmentCreated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentCreated"},"onAppointmentUpdated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentUpdated"},"reserveUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"reserveUsername"},"releaseUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"releaseUsername"},"getEmailForUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getEmailForUsername"},"uploadPermit":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"uploadPermit"},"createAppointment":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createAppointment"},"helloWorld":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"helloWorld"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld."}}
[debug] [2025-12-15T03:06:17.676Z] [worker-pool] Shutting down IDLE worker (us-central1-createAppointment) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-createAppointment)"}}
[debug] [2025-12-15T03:06:17.676Z] [worker-us-central1-createAppointment-49db10fb-0965-4e9c-8122-fcb8731a12b0]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-49db10fb-0965-4e9c-8122-fcb8731a12b0]: FINISHING"}}
[debug] [2025-12-15T03:06:17.703Z] [worker-us-central1-createAppointment-49db10fb-0965-4e9c-8122-fcb8731a12b0]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-49db10fb-0965-4e9c-8122-fcb8731a12b0]: exited"}}
[debug] [2025-12-15T03:06:17.703Z] [worker-us-central1-createAppointment-49db10fb-0965-4e9c-8122-fcb8731a12b0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-49db10fb-0965-4e9c-8122-fcb8731a12b0]: FINISHED"}}
[debug] [2025-12-15T03:09:02.760Z] File C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js changed, reloading triggers"}}
[debug] [2025-12-15T03:09:03.763Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-12-15T03:09:06.027Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "start": "firebase emulators:start --only functions,firestore,auth,storage",
    "deploy": "firebase deploy --only functions"
  },
  "dependencies": {
    "cloudinary": "^2.8.0",
    "firebase-admin": "^15.0.0",
    "firebase-functions": "^4.9.0",
    "uuid": "^9.0.0"
  },
  "engines": {
    "node": "18"
  }
}
[debug] [2025-12-15T03:09:06.027Z] Building nodejs source
[debug] [2025-12-15T03:09:06.027Z] Failed to find version of module node: reached end of search path C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "24". Using node@24 from host. 
[info] i  functions: You are using a version of firebase-functions SDK (4.9.0) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly 
[debug] [2025-12-15T03:09:06.029Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-12-15T03:09:06.041Z] Found firebase-functions binary at 'C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8557

[error] WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...

[debug] [2025-12-15T03:09:08.422Z] Got response from /__/functions.yaml {"endpoints":{"setCustomClaimOnSignup":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/sjpiicd-server"},"retry":false},"labels":{},"entryPoint":"setCustomClaimOnSignup"},"onAppointmentPaid":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentPaid"},"onAppointmentCreated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentCreated"},"onAppointmentUpdated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentUpdated"},"reserveUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"reserveUsername"},"releaseUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"releaseUsername"},"getEmailForUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getEmailForUsername"},"uploadPermit":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"uploadPermit"},"createAppointment":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createAppointment"},"helloWorld":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"helloWorld"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld."}}
[debug] [2025-12-15T03:11:18.640Z] ----------------------------------------------------------------------
[debug] [2025-12-15T03:11:18.645Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start
[debug] [2025-12-15T03:11:18.645Z] CLI Version:   15.0.0
[debug] [2025-12-15T03:11:18.645Z] Platform:      win32
[debug] [2025-12-15T03:11:18.646Z] Node Version:  v24.11.1
[debug] [2025-12-15T03:11:18.646Z] Time:          Mon Dec 15 2025 11:11:18 GMT+0800 (Philippine Standard Time)
[debug] [2025-12-15T03:11:18.646Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-12-15T03:11:23.634Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-12-15T03:11:23.634Z] > authorizing via signed-in user (jeffreyautentico7@gmail.com)
[debug] [2025-12-15T03:11:23.894Z] java version "25.0.1" 2025-10-21 LTS
Java(TM) SE Runtime Environment (build 25.0.1+8-LTS-27)

[debug] [2025-12-15T03:11:23.895Z] Java HotSpot(TM) 64-Bit Server VM (build 25.0.1+8-LTS-27, mixed mode, sharing)

[debug] [2025-12-15T03:11:23.919Z] Parsed Java major version: 25
[info] i  emulators: Starting emulators: auth, functions, firestore, extensions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: auth, functions, firestore, extensions"}}
[debug] [2025-12-15T03:11:23.924Z] Checked if tokens are valid: true, expires at: 1765770106026
[debug] [2025-12-15T03:11:23.924Z] Checked if tokens are valid: true, expires at: 1765770106026
[debug] [2025-12-15T03:11:23.926Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/sjpiicd-server [none]
[debug] [2025-12-15T03:11:25.081Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/sjpiicd-server 200
[debug] [2025-12-15T03:11:25.082Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/sjpiicd-server {"projectNumber":"355997838626","projectId":"sjpiicd-server","lifecycleState":"ACTIVE","name":"sjpiicd server","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-11-19T14:33:00.642127Z"}
[debug] [2025-12-15T03:11:25.106Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T03:11:25.106Z] [auth] Authentication Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T03:11:25.106Z] [firestore] Firestore Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T03:11:25.106Z] [firestore.websocket] websocket server for firestore only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T03:11:25.106Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"auth":[{"address":"127.0.0.1","family":"IPv4","port":9099}],"firestore":[{"address":"127.0.0.1","family":"IPv4","port":8080}],"firestore.websocket":[{"address":"127.0.0.1","family":"IPv4","port":9150}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2025-12-15T03:11:25.115Z] Emulator locator file path: C:\Users\JEFFRE~1\AppData\Local\Temp\hub-sjpiicd-server.json
[warn] !  emulators: It seems that you are running multiple instances of the emulator suite for project sjpiicd-server. This may result in unexpected behavior. 
[debug] [2025-12-15T03:11:25.117Z] [hub] writing locator at C:\Users\JEFFRE~1\AppData\Local\Temp\hub-sjpiicd-server.json
[debug] [2025-12-15T03:11:25.130Z] [Extensions] Started Extensions emulator, this is a noop.
[debug] [2025-12-15T03:11:25.140Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T03:11:25.140Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T03:11:25.140Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T03:11:25.140Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"auth":[{"address":"127.0.0.1","family":"IPv4","port":9099}],"firestore":[{"address":"127.0.0.1","family":"IPv4","port":8080}],"firestore.websocket":[{"address":"127.0.0.1","family":"IPv4","port":9150}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, database, hosting, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, database, hosting, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-12-15T03:11:25.209Z] defaultcredentials: writing to file C:\Users\Jeffrey Autentico\AppData\Roaming\firebase\jeffreyautentico7_gmail_com_application_default_credentials.json
[debug] [2025-12-15T03:11:25.214Z] Setting GAC to C:\Users\Jeffrey Autentico\AppData\Roaming\firebase\jeffreyautentico7_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\firebase\\jeffreyautentico7_gmail_com_application_default_credentials.json"}}
[debug] [2025-12-15T03:11:25.215Z] Checked if tokens are valid: true, expires at: 1765770106026
[debug] [2025-12-15T03:11:25.215Z] Checked if tokens are valid: true, expires at: 1765770106026
[debug] [2025-12-15T03:11:25.216Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/sjpiicd-server/adminSdkConfig [none]
[debug] [2025-12-15T03:11:26.143Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/sjpiicd-server/adminSdkConfig 200
[debug] [2025-12-15T03:11:26.143Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/sjpiicd-server/adminSdkConfig {"projectId":"sjpiicd-server","storageBucket":"sjpiicd-server.firebasestorage.app"}
[warn] !  firestore: Cloud Firestore Emulator does not support multiple databases yet. {"metadata":{"emulator":{"name":"firestore"},"message":"Cloud Firestore Emulator does not support multiple databases yet."}}
[warn] !  firestore: Did not find a Cloud Firestore rules file specified in a firebase.json config file. {"metadata":{"emulator":{"name":"firestore"},"message":"Did not find a Cloud Firestore rules file specified in a firebase.json config file."}}
[warn] !  firestore: The emulator will default to allowing all reads and writes. Learn more about this option: https://firebase.google.com/docs/emulator-suite/install_and_configure#security_rules_configuration. {"metadata":{"emulator":{"name":"firestore"},"message":"The emulator will default to allowing all reads and writes. Learn more about this option: https://firebase.google.com/docs/emulator-suite/install_and_configure#security_rules_configuration."}}
[debug] [2025-12-15T03:11:26.177Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2025-12-15T03:11:26.177Z] Ignoring unsupported arg: single_project_mode_error {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: single_project_mode_error"}}
[debug] [2025-12-15T03:11:26.177Z] Starting Firestore Emulator with command {"binary":"java","args":["-Dgoogle.cloud_firestore.debug_log_level=FINE","-Duser.language=en","-jar","C:\\Users\\Jeffrey Autentico\\.cache\\firebase\\emulators\\cloud-firestore-emulator-v1.20.2.jar","--host","127.0.0.1","--port",8080,"--websocket_port",9150,"--project_id","sjpiicd-server","--single_project_mode",true,"--functions_emulator","127.0.0.1:5001"],"optionalArgs":["port","webchannel_port","host","rules","websocket_port","functions_emulator","seed_from_export","project_id","single_project_mode"],"joinArgs":false,"shell":false,"port":8080} {"metadata":{"emulator":{"name":"firestore"},"message":"Starting Firestore Emulator with command {\"binary\":\"java\",\"args\":[\"-Dgoogle.cloud_firestore.debug_log_level=FINE\",\"-Duser.language=en\",\"-jar\",\"C:\\\\Users\\\\Jeffrey Autentico\\\\.cache\\\\firebase\\\\emulators\\\\cloud-firestore-emulator-v1.20.2.jar\",\"--host\",\"127.0.0.1\",\"--port\",8080,\"--websocket_port\",9150,\"--project_id\",\"sjpiicd-server\",\"--single_project_mode\",true,\"--functions_emulator\",\"127.0.0.1:5001\"],\"optionalArgs\":[\"port\",\"webchannel_port\",\"host\",\"rules\",\"websocket_port\",\"functions_emulator\",\"seed_from_export\",\"project_id\",\"single_project_mode\"],\"joinArgs\":false,\"shell\":false,\"port\":8080}"}}
[info] i  firestore: Firestore Emulator logging to firestore-debug.log {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator logging to \u001b[1mfirestore-debug.log\u001b[22m"}}
[info] +  firestore: Firestore Emulator UI websocket is running on 9150. {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator UI websocket is running on 9150."}}
[debug] [2025-12-15T03:11:41.293Z] [Extensions] Connecting Extensions emulator, this is a noop.
[info] i  functions: Watching "C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\" for Cloud Functions..."}}
[debug] [2025-12-15T03:11:41.302Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-12-15T03:11:43.615Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "start": "firebase emulators:start --only functions,firestore,auth,storage",
    "deploy": "firebase deploy --only functions"
  },
  "dependencies": {
    "cloudinary": "^2.8.0",
    "firebase-admin": "^15.0.0",
    "firebase-functions": "^4.9.0",
    "uuid": "^9.0.0"
  },
  "engines": {
    "node": "18"
  }
}
[debug] [2025-12-15T03:11:43.616Z] Building nodejs source
[debug] [2025-12-15T03:11:43.617Z] Failed to find version of module node: reached end of search path C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "24". Using node@24 from host. 
[info] i  functions: You are using a version of firebase-functions SDK (4.9.0) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly 
[debug] [2025-12-15T03:11:43.622Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-12-15T03:11:43.636Z] Found firebase-functions binary at 'C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8220

[error] WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...

[debug] [2025-12-15T03:11:45.936Z] Got response from /__/functions.yaml {"endpoints":{"setCustomClaimOnSignup":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/sjpiicd-server"},"retry":false},"labels":{},"entryPoint":"setCustomClaimOnSignup"},"onAppointmentPaid":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentPaid"},"onAppointmentCreated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentCreated"},"onAppointmentUpdated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentUpdated"},"reserveUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"reserveUsername"},"releaseUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"releaseUsername"},"getEmailForUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getEmailForUsername"},"uploadPermit":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"uploadPermit"},"createAppointment":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createAppointment"},"helloWorld":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"helloWorld"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld."}}
[debug] [2025-12-15T03:11:50.026Z] addAuthTrigger {"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/sjpiicd-server"}}
[info] +  functions[us-central1-setCustomClaimOnSignup]: auth function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mauth\u001b[22m function initialized."}}
[debug] [2025-12-15T03:11:50.028Z] addFirestoreTrigger "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.update\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T03:11:50.029Z] >>> [apiv2][query] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0 [none]
[debug] [2025-12-15T03:11:50.030Z] >>> [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0 "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.update\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T03:11:51.826Z] <<< [apiv2][status] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0 200
[debug] [2025-12-15T03:11:51.826Z] <<< [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0 {}
[info] +  functions[us-central1-onAppointmentPaid]: firestore function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mfirestore\u001b[22m function initialized."}}
[debug] [2025-12-15T03:11:51.827Z] addFirestoreTrigger "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.create\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T03:11:51.828Z] >>> [apiv2][query] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0 [none]
[debug] [2025-12-15T03:11:51.828Z] >>> [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0 "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.create\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T03:11:51.842Z] <<< [apiv2][status] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0 200
[debug] [2025-12-15T03:11:51.842Z] <<< [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0 {}
[info] +  functions[us-central1-onAppointmentCreated]: firestore function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mfirestore\u001b[22m function initialized."}}
[debug] [2025-12-15T03:11:51.843Z] addFirestoreTrigger "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.update\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T03:11:51.843Z] >>> [apiv2][query] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0 [none]
[debug] [2025-12-15T03:11:51.844Z] >>> [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0 "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.update\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T03:11:51.858Z] <<< [apiv2][status] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0 200
[debug] [2025-12-15T03:11:51.858Z] <<< [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0 {}
[info] +  functions[us-central1-onAppointmentUpdated]: firestore function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mfirestore\u001b[22m function initialized."}}
[info] +  functions[us-central1-reserveUsername]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/reserveUsername). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/reserveUsername)."}}
[info] +  functions[us-central1-releaseUsername]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/releaseUsername). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/releaseUsername)."}}
[info] +  functions[us-central1-getEmailForUsername]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/getEmailForUsername). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/getEmailForUsername)."}}
[info] +  functions[us-central1-uploadPermit]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/uploadPermit). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/uploadPermit)."}}
[info] +  functions[us-central1-createAppointment]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/createAppointment). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/createAppointment)."}}
[info] +  functions[us-central1-helloWorld]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/helloWorld). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/helloWorld)."}}
[debug] [2025-12-15T03:11:51.871Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: . If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌────────────────┬────────────────┬──────────────────────────────────┐
│ Emulator       │ Host:Port      │ View in Emulator UI              │
├────────────────┼────────────────┼──────────────────────────────────┤
│ Authentication │ 127.0.0.1:9099 │ http://127.0.0.1:4000/auth       │
├────────────────┼────────────────┼──────────────────────────────────┤
│ Functions      │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions  │
├────────────────┼────────────────┼──────────────────────────────────┤
│ Firestore      │ 127.0.0.1:8080 │ http://127.0.0.1:4000/firestore  │
├────────────────┼────────────────┼──────────────────────────────────┤
│ Extensions     │ 127.0.0.1:5001 │ http://127.0.0.1:4000/extensions │
└────────────────┴────────────────┴──────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500, 9150
┌─────────────────────────┬───────────────┬─────────────────────┐
│ Extension Instance Name │ Extension Ref │ View in Emulator UI │
└─────────────────────────┴───────────────┴─────────────────────┘
Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2025-12-15T03:17:00.537Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast [none]
[debug] [2025-12-15T03:17:00.538Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast {"eventId":"0f96a0d9-b1b8-416f-8d9a-054dea1353b4","eventType":"providers/firebase.auth/eventTypes/user.create","resource":{"name":"projects/sjpiicd-server","service":"firebaseauth.googleapis.com"},"params":{},"timestamp":"2025-12-15T03:17:00.536Z","data":{"uid":"LAK8k5KDmfwb1QpJhpf6QMPyzR3A","email":"inuzawa01@gmail.com","emailVerified":false,"metadata":{"creationTime":"2025-12-15T03:17:00.529Z","lastSignInTime":"2025-12-15T03:17:00.529Z"},"customClaims":{},"providerData":[{"rawId":"inuzawa01@gmail.com","providerId":"password","email":"inuzawa01@gmail.com","federatedId":"inuzawa01@gmail.com"}]}}
[debug] [2025-12-15T03:17:00.569Z] [work-queue] {"queuedWork":["us-central1-setCustomClaimOnSignup-0-2025-12-15T03:17:00.569Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T03:17:00.575Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["us-central1-setCustomClaimOnSignup-0-2025-12-15T03:17:00.569Z"],"workRunningCount":1}
[debug] [2025-12-15T03:17:00.576Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T03:17:00.581Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast 200
[debug] [2025-12-15T03:17:00.581Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2025-12-15T03:17:00.583Z] [work-queue] {"queuedWork":["/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0-2025-12-15T03:17:00.583Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T03:17:00.583Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0-2025-12-15T03:17:00.583Z"],"workRunningCount":1}
[debug] [2025-12-15T03:17:00.584Z] Accepted request POST /functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0 --> us-central1-setCustomClaimOnSignup-0
[debug] [2025-12-15T03:17:00.591Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-12-15T03:17:00.592Z] [functions] Got req.url=/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0, mapping to path=/functions/projects/"}}
[debug] [2025-12-15T03:17:00.624Z] [worker-pool] addWorker(us-central1-setCustomClaimOnSignup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-setCustomClaimOnSignup)"}}
[debug] [2025-12-15T03:17:00.625Z] [worker-pool] Adding worker with key us-central1-setCustomClaimOnSignup, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-setCustomClaimOnSignup, total=1"}}
[debug] [2025-12-15T03:17:05.471Z] [runtime-status] [35524] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [35524] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T03:17:05.477Z] [runtime-status] [35524] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [35524] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T03:17:05.478Z] [runtime-status] [35524] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [35524] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-12-15T03:17:05.480Z] [runtime-status] [35524] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [35524] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T03:17:06.545Z] [runtime-status] [35524] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [35524] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T03:17:06.553Z] [runtime-status] [35524] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [35524] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T03:17:07.124Z] [runtime-status] [35524] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [35524] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-12-15T03:17:07.130Z] [runtime-status] [35524] initializeApp(DEFAULT) {"storageBucket":"sjpiicd-server.firebasestorage.app","projectId":"sjpiicd-server"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [35524] initializeApp(DEFAULT) {\"storageBucket\":\"sjpiicd-server.firebasestorage.app\",\"projectId\":\"sjpiicd-server\"}"}}
[info] >  WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=... {"user":"WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=..."}}
[debug] [2025-12-15T03:17:07.681Z] [runtime-status] [35524] Functions runtime initialized. {"cwd":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions","node_version":"24.11.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [35524] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\",\"node_version\":\"24.11.1\"}"}}
[debug] [2025-12-15T03:17:07.681Z] [runtime-status] [35524] Listening to port: \\?\pipe\fire_emu_fc78b93c5ffe2025 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [35524] Listening to port: \\\\?\\pipe\\fire_emu_fc78b93c5ffe2025"}}
[debug] [2025-12-15T03:17:07.733Z] [worker-us-central1-setCustomClaimOnSignup-f6f04e36-0459-46c7-869b-f7cd87dad486]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-f6f04e36-0459-46c7-869b-f7cd87dad486]: IDLE"}}
[debug] [2025-12-15T03:17:07.734Z] [worker-pool] submitRequest(triggerId=us-central1-setCustomClaimOnSignup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-setCustomClaimOnSignup)"}}
[info] i  functions: Beginning execution of "us-central1-setCustomClaimOnSignup" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Beginning execution of \"us-central1-setCustomClaimOnSignup\""}}
[debug] [2025-12-15T03:17:07.735Z] [worker-us-central1-setCustomClaimOnSignup-f6f04e36-0459-46c7-869b-f7cd87dad486]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-f6f04e36-0459-46c7-869b-f7cd87dad486]: BUSY"}}
[debug] [2025-12-15T03:17:07.763Z] [runtime-status] [35524] ProcessBackground: lifting resource.name from resource {"name":"projects/sjpiicd-server","service":"firebaseauth.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [35524] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/sjpiicd-server\",\"service\":\"firebaseauth.googleapis.com\"}"}}
[debug] [2025-12-15T03:17:07.763Z] [runtime-status] [35524] RunBackground {"data":{"uid":"LAK8k5KDmfwb1QpJhpf6QMPyzR3A","email":"inuzawa01@gmail.com","emailVerified":false,"metadata":{"creationTime":"2025-12-15T03:17:00.529Z","lastSignInTime":"2025-12-15T03:17:00.529Z"},"customClaims":{},"providerData":[{"rawId":"inuzawa01@gmail.com","providerId":"password","email":"inuzawa01@gmail.com","federatedId":"inuzawa01@gmail.com"}]},"context":{"eventId":"0f96a0d9-b1b8-416f-8d9a-054dea1353b4","eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/sjpiicd-server","params":{},"timestamp":"2025-12-15T03:17:00.536Z"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [35524] RunBackground {\"data\":{\"uid\":\"LAK8k5KDmfwb1QpJhpf6QMPyzR3A\",\"email\":\"inuzawa01@gmail.com\",\"emailVerified\":false,\"metadata\":{\"creationTime\":\"2025-12-15T03:17:00.529Z\",\"lastSignInTime\":\"2025-12-15T03:17:00.529Z\"},\"customClaims\":{},\"providerData\":[{\"rawId\":\"inuzawa01@gmail.com\",\"providerId\":\"password\",\"email\":\"inuzawa01@gmail.com\",\"federatedId\":\"inuzawa01@gmail.com\"}]},\"context\":{\"eventId\":\"0f96a0d9-b1b8-416f-8d9a-054dea1353b4\",\"eventType\":\"providers/firebase.auth/eventTypes/user.create\",\"resource\":\"projects/sjpiicd-server\",\"params\":{},\"timestamp\":\"2025-12-15T03:17:00.536Z\"}}"}}
[info] >  Failed to set custom claim: TypeError: Cannot read properties of undefined (reading 'serverTimestamp') {"user":"Failed to set custom claim: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m Failed to set custom claim: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')"}}
[info] >      at C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:90:31 {"user":"    at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:90:31","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:90:31"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:103:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:103:5)"}}
[info] >      at async runFunction (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:399:9) {"user":"    at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)"}}
[info] >      at async runBackground (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:410:5) {"user":"    at async runBackground (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:410:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runBackground (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:410:5)"}}
[info] >      at async processBackground (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:394:5) {"user":"    at async processBackground (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:394:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async processBackground (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:394:5)"}}
[info] >      at async C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:581:21 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:581:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:581:21"}}
[debug] [2025-12-15T03:17:07.804Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-setCustomClaimOnSignup" in 69.1706ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finished \"us-central1-setCustomClaimOnSignup\" in 69.1706ms"}}
[debug] [2025-12-15T03:17:07.805Z] [worker-us-central1-setCustomClaimOnSignup-f6f04e36-0459-46c7-869b-f7cd87dad486]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-f6f04e36-0459-46c7-869b-f7cd87dad486]: IDLE"}}
[debug] [2025-12-15T03:17:07.806Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-12-15T03:17:07.806Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-12-15T03:17:07.806Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T03:17:56.045Z] [work-queue] {"queuedWork":["/sjpiicd-server/us-central1/createAppointment-2025-12-15T03:17:56.044Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T03:17:56.045Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/sjpiicd-server/us-central1/createAppointment-2025-12-15T03:17:56.044Z"],"workRunningCount":1}
[debug] [2025-12-15T03:17:56.045Z] Accepted request POST /sjpiicd-server/us-central1/createAppointment --> us-central1-createAppointment
[debug] [2025-12-15T03:17:56.049Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-12-15T03:17:56.050Z] [functions] Got req.url=/sjpiicd-server/us-central1/createAppointment, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/sjpiicd-server/us-central1/createAppointment, mapping to path=/"}}
[debug] [2025-12-15T03:17:56.068Z] [worker-pool] addWorker(us-central1-createAppointment) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-createAppointment)"}}
[debug] [2025-12-15T03:17:56.069Z] [worker-pool] Adding worker with key us-central1-createAppointment, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-createAppointment, total=1"}}
[debug] [2025-12-15T03:17:59.137Z] [runtime-status] [21252] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [21252] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T03:17:59.140Z] [runtime-status] [21252] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [21252] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T03:17:59.141Z] [runtime-status] [21252] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [21252] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-12-15T03:17:59.143Z] [runtime-status] [21252] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [21252] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T03:17:59.894Z] [runtime-status] [21252] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [21252] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T03:17:59.901Z] [runtime-status] [21252] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [21252] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T03:18:00.318Z] [runtime-status] [21252] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [21252] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-12-15T03:18:00.326Z] [runtime-status] [21252] initializeApp(DEFAULT) {"storageBucket":"sjpiicd-server.firebasestorage.app","projectId":"sjpiicd-server"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [21252] initializeApp(DEFAULT) {\"storageBucket\":\"sjpiicd-server.firebasestorage.app\",\"projectId\":\"sjpiicd-server\"}"}}
[info] >  WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=... {"user":"WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=..."}}
[debug] [2025-12-15T03:18:00.739Z] [runtime-status] [21252] Functions runtime initialized. {"cwd":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions","node_version":"24.11.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [21252] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\",\"node_version\":\"24.11.1\"}"}}
[debug] [2025-12-15T03:18:00.740Z] [runtime-status] [21252] Listening to port: \\?\pipe\fire_emu_3813d6e101a41546 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [21252] Listening to port: \\\\?\\pipe\\fire_emu_3813d6e101a41546"}}
[debug] [2025-12-15T03:18:00.767Z] [worker-us-central1-createAppointment-8509926d-6810-49e4-8064-469764419cc3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-8509926d-6810-49e4-8064-469764419cc3]: IDLE"}}
[debug] [2025-12-15T03:18:00.768Z] [worker-pool] submitRequest(triggerId=us-central1-createAppointment) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-createAppointment)"}}
[info] i  functions: Beginning execution of "us-central1-createAppointment" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Beginning execution of \"us-central1-createAppointment\""}}
[debug] [2025-12-15T03:18:00.768Z] [worker-us-central1-createAppointment-8509926d-6810-49e4-8064-469764419cc3]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-8509926d-6810-49e4-8064-469764419cc3]: BUSY"}}
[info] >  {"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"VALID\",\"auth\":\"VALID\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  [createAppointment] Called with data: {"date":"2025-12-15","window":"09:00-10:00"} {"user":"[createAppointment] Called with data: {\"date\":\"2025-12-15\",\"window\":\"09:00-10:00\"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Called with data: {\"date\":\"2025-12-15\",\"window\":\"09:00-10:00\"}"}}
[info] >  [createAppointment] Context auth: LAK8k5KDmfwb1QpJhpf6QMPyzR3A {"user":"[createAppointment] Context auth: LAK8k5KDmfwb1QpJhpf6QMPyzR3A","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Context auth: LAK8k5KDmfwb1QpJhpf6QMPyzR3A"}}
[info] >  [createAppointment] Parsed - uid: LAK8k5KDmfwb1QpJhpf6QMPyzR3A, date: 2025-12-15, window: 09:00-10:00 {"user":"[createAppointment] Parsed - uid: LAK8k5KDmfwb1QpJhpf6QMPyzR3A, date: 2025-12-15, window: 09:00-10:00","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Parsed - uid: LAK8k5KDmfwb1QpJhpf6QMPyzR3A, date: 2025-12-15, window: 09:00-10:00"}}
[info] >  [createAppointment] Checking appointment limit... {"user":"[createAppointment] Checking appointment limit...","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Checking appointment limit..."}}
[info] >  [createAppointment] Appointment limit check passed {"user":"[createAppointment] Appointment limit check passed","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Appointment limit check passed"}}
[info] >  [createAppointment] Starting transaction - apptId: LAK8k5KDmfwb1QpJhpf6QMPyzR3A_2025-12-15_09:00-10:00, slotId: 2025-12-15_09:00-10:00 {"user":"[createAppointment] Starting transaction - apptId: LAK8k5KDmfwb1QpJhpf6QMPyzR3A_2025-12-15_09:00-10:00, slotId: 2025-12-15_09:00-10:00","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Starting transaction - apptId: LAK8k5KDmfwb1QpJhpf6QMPyzR3A_2025-12-15_09:00-10:00, slotId: 2025-12-15_09:00-10:00"}}
[info] >  [createAppointment] Inside transaction - checking existing appointment {"user":"[createAppointment] Inside transaction - checking existing appointment","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Inside transaction - checking existing appointment"}}
[info] >  [createAppointment] Checking slot availability {"user":"[createAppointment] Checking slot availability","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Checking slot availability"}}
[info] >  [createAppointment] Slot does not exist, will create new {"user":"[createAppointment] Slot does not exist, will create new","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Slot does not exist, will create new"}}
[info] >  [createAppointment] Creating appointment document {"user":"[createAppointment] Creating appointment document","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Creating appointment document"}}
[info] >  [createAppointment] Transaction failed with error: TypeError: Cannot read properties of undefined (reading 'serverTimestamp') {"user":"[createAppointment] Transaction failed with error: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Transaction failed with error: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')"}}
[info] >      at C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:551:31 {"user":"    at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:551:31","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:551:31"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:103:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:103:5)"}}
[info] >      at async Transaction.runTransactionOnce (C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\@google-cloud\firestore\build\src\transaction.js:440:28) {"user":"    at async Transaction.runTransactionOnce (C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:440:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async Transaction.runTransactionOnce (C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:440:28)"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\@google-cloud\firestore\build\src\transaction.js:412:28 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:412:28","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:412:28"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:508:20 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:508:20","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:508:20"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\firebase-functions\lib\common\providers\https.js:458:26 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:458:26","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:458:26"}}
[info] >      at async runFunction (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:399:9) {"user":"    at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)"}}
[info] >      at async runHTTPS (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:424:5) {"user":"    at async runHTTPS (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:424:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runHTTPS (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:424:5)"}}
[info] >      at async C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:585:21 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:585:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:585:21"}}
[debug] [2025-12-15T03:18:01.896Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-createAppointment" in 1127.6199ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Finished \"us-central1-createAppointment\" in 1127.6199ms"}}
[debug] [2025-12-15T03:18:01.896Z] [worker-us-central1-createAppointment-8509926d-6810-49e4-8064-469764419cc3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-8509926d-6810-49e4-8064-469764419cc3]: IDLE"}}
[debug] [2025-12-15T03:18:01.897Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-12-15T03:18:01.897Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-12-15T03:18:01.897Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [createAppointment] Error name: TypeError {"user":"[createAppointment] Error name: TypeError","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Error name: TypeError"}}
[info] >  [createAppointment] Error message: Cannot read properties of undefined (reading 'serverTimestamp') {"user":"[createAppointment] Error message: Cannot read properties of undefined (reading 'serverTimestamp')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Error message: Cannot read properties of undefined (reading 'serverTimestamp')"}}
[info] >  [createAppointment] Error stack: TypeError: Cannot read properties of undefined (reading 'serverTimestamp') {"user":"[createAppointment] Error stack: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Error stack: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')"}}
[info] >      at C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:551:31 {"user":"    at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:551:31","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:551:31"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:103:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:103:5)"}}
[info] >      at async Transaction.runTransactionOnce (C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\@google-cloud\firestore\build\src\transaction.js:440:28) {"user":"    at async Transaction.runTransactionOnce (C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:440:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async Transaction.runTransactionOnce (C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:440:28)"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\@google-cloud\firestore\build\src\transaction.js:412:28 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:412:28","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:412:28"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:508:20 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:508:20","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:508:20"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\firebase-functions\lib\common\providers\https.js:458:26 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:458:26","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:458:26"}}
[info] >      at async runFunction (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:399:9) {"user":"    at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)"}}
[info] >      at async runHTTPS (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:424:5) {"user":"    at async runHTTPS (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:424:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runHTTPS (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:424:5)"}}
[info] >      at async C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:585:21 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:585:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:585:21"}}
[debug] [2025-12-15T03:25:22.268Z] File C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js changed, reloading triggers"}}
[debug] [2025-12-15T03:25:23.272Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-12-15T03:25:26.258Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "start": "firebase emulators:start --only functions,firestore,auth,storage",
    "deploy": "firebase deploy --only functions"
  },
  "dependencies": {
    "cloudinary": "^2.8.0",
    "firebase-admin": "^15.0.0",
    "firebase-functions": "^4.9.0",
    "uuid": "^9.0.0"
  },
  "engines": {
    "node": "18"
  }
}
[debug] [2025-12-15T03:25:26.259Z] Building nodejs source
[debug] [2025-12-15T03:25:26.259Z] Failed to find version of module node: reached end of search path C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "24". Using node@24 from host. 
[info] i  functions: You are using a version of firebase-functions SDK (4.9.0) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly 
[debug] [2025-12-15T03:25:26.262Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-12-15T03:25:26.276Z] Found firebase-functions binary at 'C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8929

[error] WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...

[debug] [2025-12-15T03:25:28.587Z] Got response from /__/functions.yaml {"endpoints":{"setCustomClaimOnSignup":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/sjpiicd-server"},"retry":false},"labels":{},"entryPoint":"setCustomClaimOnSignup"},"onAppointmentPaid":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentPaid"},"onAppointmentCreated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentCreated"},"onAppointmentUpdated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentUpdated"},"reserveUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"reserveUsername"},"releaseUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"releaseUsername"},"getEmailForUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getEmailForUsername"},"uploadPermit":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"uploadPermit"},"createAppointment":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createAppointment"},"helloWorld":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"helloWorld"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld."}}
[debug] [2025-12-15T03:25:32.657Z] [worker-pool] Shutting down IDLE worker (us-central1-setCustomClaimOnSignup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-setCustomClaimOnSignup)"}}
[debug] [2025-12-15T03:25:32.657Z] [worker-us-central1-setCustomClaimOnSignup-f6f04e36-0459-46c7-869b-f7cd87dad486]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-f6f04e36-0459-46c7-869b-f7cd87dad486]: FINISHING"}}
[debug] [2025-12-15T03:25:32.658Z] [worker-pool] Shutting down IDLE worker (us-central1-createAppointment) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-createAppointment)"}}
[debug] [2025-12-15T03:25:32.658Z] [worker-us-central1-createAppointment-8509926d-6810-49e4-8064-469764419cc3]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-8509926d-6810-49e4-8064-469764419cc3]: FINISHING"}}
[debug] [2025-12-15T03:25:32.691Z] [worker-us-central1-createAppointment-8509926d-6810-49e4-8064-469764419cc3]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-8509926d-6810-49e4-8064-469764419cc3]: exited"}}
[debug] [2025-12-15T03:25:32.692Z] [worker-us-central1-createAppointment-8509926d-6810-49e4-8064-469764419cc3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-8509926d-6810-49e4-8064-469764419cc3]: FINISHED"}}
[debug] [2025-12-15T03:25:32.694Z] [worker-us-central1-setCustomClaimOnSignup-f6f04e36-0459-46c7-869b-f7cd87dad486]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-f6f04e36-0459-46c7-869b-f7cd87dad486]: exited"}}
[debug] [2025-12-15T03:25:32.694Z] [worker-us-central1-setCustomClaimOnSignup-f6f04e36-0459-46c7-869b-f7cd87dad486]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-f6f04e36-0459-46c7-869b-f7cd87dad486]: FINISHED"}}
[debug] [2025-12-15T03:27:28.955Z] ----------------------------------------------------------------------
[debug] [2025-12-15T03:27:28.962Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start
[debug] [2025-12-15T03:27:28.962Z] CLI Version:   15.0.0
[debug] [2025-12-15T03:27:28.963Z] Platform:      win32
[debug] [2025-12-15T03:27:28.963Z] Node Version:  v24.11.1
[debug] [2025-12-15T03:27:28.963Z] Time:          Mon Dec 15 2025 11:27:28 GMT+0800 (Philippine Standard Time)
[debug] [2025-12-15T03:27:28.963Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-12-15T03:27:33.488Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-12-15T03:27:33.488Z] > authorizing via signed-in user (jeffreyautentico7@gmail.com)
[debug] [2025-12-15T03:27:33.740Z] java version "25.0.1" 2025-10-21 LTS

[debug] [2025-12-15T03:27:33.741Z] Java(TM) SE Runtime Environment (build 25.0.1+8-LTS-27)
Java HotSpot(TM) 64-Bit Server VM (build 25.0.1+8-LTS-27, mixed mode, sharing)

[debug] [2025-12-15T03:27:33.766Z] Parsed Java major version: 25
[info] i  emulators: Starting emulators: auth, functions, firestore, extensions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: auth, functions, firestore, extensions"}}
[debug] [2025-12-15T03:27:33.770Z] Checked if tokens are valid: false, expires at: 1765770106026
[debug] [2025-12-15T03:27:33.770Z] Checked if tokens are valid: false, expires at: 1765770106026
[debug] [2025-12-15T03:27:33.770Z] > refreshing access token with scopes: []
[debug] [2025-12-15T03:27:33.773Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2025-12-15T03:27:33.774Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-12-15T03:27:34.004Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2025-12-15T03:27:34.004Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-12-15T03:27:34.022Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/sjpiicd-server [none]
[debug] [2025-12-15T03:27:35.141Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/sjpiicd-server 200
[debug] [2025-12-15T03:27:35.142Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/sjpiicd-server {"projectNumber":"355997838626","projectId":"sjpiicd-server","lifecycleState":"ACTIVE","name":"sjpiicd server","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-11-19T14:33:00.642127Z"}
[debug] [2025-12-15T03:27:35.169Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T03:27:35.170Z] [auth] Authentication Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T03:27:35.170Z] [firestore] Firestore Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T03:27:35.170Z] [firestore.websocket] websocket server for firestore only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T03:27:35.171Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"auth":[{"address":"127.0.0.1","family":"IPv4","port":9099}],"firestore":[{"address":"127.0.0.1","family":"IPv4","port":8080}],"firestore.websocket":[{"address":"127.0.0.1","family":"IPv4","port":9150}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2025-12-15T03:27:35.180Z] Emulator locator file path: C:\Users\JEFFRE~1\AppData\Local\Temp\hub-sjpiicd-server.json
[warn] !  emulators: It seems that you are running multiple instances of the emulator suite for project sjpiicd-server. This may result in unexpected behavior. 
[debug] [2025-12-15T03:27:35.181Z] [hub] writing locator at C:\Users\JEFFRE~1\AppData\Local\Temp\hub-sjpiicd-server.json
[debug] [2025-12-15T03:27:35.198Z] [Extensions] Started Extensions emulator, this is a noop.
[debug] [2025-12-15T03:27:35.209Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T03:27:35.209Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T03:27:35.209Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T03:27:35.209Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"auth":[{"address":"127.0.0.1","family":"IPv4","port":9099}],"firestore":[{"address":"127.0.0.1","family":"IPv4","port":8080}],"firestore.websocket":[{"address":"127.0.0.1","family":"IPv4","port":9150}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, database, hosting, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, database, hosting, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-12-15T03:27:38.241Z] defaultcredentials: writing to file C:\Users\Jeffrey Autentico\AppData\Roaming\firebase\jeffreyautentico7_gmail_com_application_default_credentials.json
[debug] [2025-12-15T03:27:38.254Z] Setting GAC to C:\Users\Jeffrey Autentico\AppData\Roaming\firebase\jeffreyautentico7_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\firebase\\jeffreyautentico7_gmail_com_application_default_credentials.json"}}
[debug] [2025-12-15T03:27:38.255Z] Checked if tokens are valid: true, expires at: 1765772853004
[debug] [2025-12-15T03:27:38.255Z] Checked if tokens are valid: true, expires at: 1765772853004
[debug] [2025-12-15T03:27:38.256Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/sjpiicd-server/adminSdkConfig [none]
[debug] [2025-12-15T03:27:39.339Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/sjpiicd-server/adminSdkConfig 200
[debug] [2025-12-15T03:27:39.339Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/sjpiicd-server/adminSdkConfig {"projectId":"sjpiicd-server","storageBucket":"sjpiicd-server.firebasestorage.app"}
[warn] !  firestore: Cloud Firestore Emulator does not support multiple databases yet. {"metadata":{"emulator":{"name":"firestore"},"message":"Cloud Firestore Emulator does not support multiple databases yet."}}
[warn] !  firestore: Did not find a Cloud Firestore rules file specified in a firebase.json config file. {"metadata":{"emulator":{"name":"firestore"},"message":"Did not find a Cloud Firestore rules file specified in a firebase.json config file."}}
[warn] !  firestore: The emulator will default to allowing all reads and writes. Learn more about this option: https://firebase.google.com/docs/emulator-suite/install_and_configure#security_rules_configuration. {"metadata":{"emulator":{"name":"firestore"},"message":"The emulator will default to allowing all reads and writes. Learn more about this option: https://firebase.google.com/docs/emulator-suite/install_and_configure#security_rules_configuration."}}
[debug] [2025-12-15T03:27:39.385Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2025-12-15T03:27:39.385Z] Ignoring unsupported arg: single_project_mode_error {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: single_project_mode_error"}}
[debug] [2025-12-15T03:27:39.386Z] Starting Firestore Emulator with command {"binary":"java","args":["-Dgoogle.cloud_firestore.debug_log_level=FINE","-Duser.language=en","-jar","C:\\Users\\Jeffrey Autentico\\.cache\\firebase\\emulators\\cloud-firestore-emulator-v1.20.2.jar","--host","127.0.0.1","--port",8080,"--websocket_port",9150,"--project_id","sjpiicd-server","--single_project_mode",true,"--functions_emulator","127.0.0.1:5001"],"optionalArgs":["port","webchannel_port","host","rules","websocket_port","functions_emulator","seed_from_export","project_id","single_project_mode"],"joinArgs":false,"shell":false,"port":8080} {"metadata":{"emulator":{"name":"firestore"},"message":"Starting Firestore Emulator with command {\"binary\":\"java\",\"args\":[\"-Dgoogle.cloud_firestore.debug_log_level=FINE\",\"-Duser.language=en\",\"-jar\",\"C:\\\\Users\\\\Jeffrey Autentico\\\\.cache\\\\firebase\\\\emulators\\\\cloud-firestore-emulator-v1.20.2.jar\",\"--host\",\"127.0.0.1\",\"--port\",8080,\"--websocket_port\",9150,\"--project_id\",\"sjpiicd-server\",\"--single_project_mode\",true,\"--functions_emulator\",\"127.0.0.1:5001\"],\"optionalArgs\":[\"port\",\"webchannel_port\",\"host\",\"rules\",\"websocket_port\",\"functions_emulator\",\"seed_from_export\",\"project_id\",\"single_project_mode\"],\"joinArgs\":false,\"shell\":false,\"port\":8080}"}}
[info] i  firestore: Firestore Emulator logging to firestore-debug.log {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator logging to \u001b[1mfirestore-debug.log\u001b[22m"}}
[info] +  firestore: Firestore Emulator UI websocket is running on 9150. {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator UI websocket is running on 9150."}}
[debug] [2025-12-15T03:27:54.267Z] [Extensions] Connecting Extensions emulator, this is a noop.
[info] i  functions: Watching "C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\" for Cloud Functions..."}}
[debug] [2025-12-15T03:27:54.287Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-12-15T03:27:56.506Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "start": "firebase emulators:start --only functions,firestore,auth,storage",
    "deploy": "firebase deploy --only functions"
  },
  "dependencies": {
    "cloudinary": "^2.8.0",
    "firebase-admin": "^15.0.0",
    "firebase-functions": "^4.9.0",
    "uuid": "^9.0.0"
  },
  "engines": {
    "node": "18"
  }
}
[debug] [2025-12-15T03:27:56.506Z] Building nodejs source
[debug] [2025-12-15T03:27:56.507Z] Failed to find version of module node: reached end of search path C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "24". Using node@24 from host. 
[info] i  functions: You are using a version of firebase-functions SDK (4.9.0) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly 
[debug] [2025-12-15T03:27:56.535Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-12-15T03:27:56.550Z] Found firebase-functions binary at 'C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8748

[error] WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...

[debug] [2025-12-15T03:27:58.830Z] Got response from /__/functions.yaml {"endpoints":{"setCustomClaimOnSignup":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/sjpiicd-server"},"retry":false},"labels":{},"entryPoint":"setCustomClaimOnSignup"},"onAppointmentPaid":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentPaid"},"onAppointmentCreated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentCreated"},"onAppointmentUpdated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentUpdated"},"reserveUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"reserveUsername"},"releaseUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"releaseUsername"},"getEmailForUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getEmailForUsername"},"uploadPermit":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"uploadPermit"},"createAppointment":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createAppointment"},"helloWorld":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"helloWorld"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld."}}
[debug] [2025-12-15T03:28:02.910Z] addAuthTrigger {"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/sjpiicd-server"}}
[info] +  functions[us-central1-setCustomClaimOnSignup]: auth function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mauth\u001b[22m function initialized."}}
[debug] [2025-12-15T03:28:02.912Z] addFirestoreTrigger "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.update\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T03:28:02.912Z] >>> [apiv2][query] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0 [none]
[debug] [2025-12-15T03:28:02.912Z] >>> [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0 "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.update\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T03:28:04.458Z] <<< [apiv2][status] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0 200
[debug] [2025-12-15T03:28:04.459Z] <<< [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0 {}
[info] +  functions[us-central1-onAppointmentPaid]: firestore function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mfirestore\u001b[22m function initialized."}}
[debug] [2025-12-15T03:28:04.460Z] addFirestoreTrigger "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.create\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T03:28:04.460Z] >>> [apiv2][query] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0 [none]
[debug] [2025-12-15T03:28:04.460Z] >>> [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0 "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.create\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T03:28:04.477Z] <<< [apiv2][status] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0 200
[debug] [2025-12-15T03:28:04.477Z] <<< [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0 {}
[info] +  functions[us-central1-onAppointmentCreated]: firestore function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mfirestore\u001b[22m function initialized."}}
[debug] [2025-12-15T03:28:04.478Z] addFirestoreTrigger "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.update\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T03:28:04.479Z] >>> [apiv2][query] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0 [none]
[debug] [2025-12-15T03:28:04.479Z] >>> [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0 "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.update\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T03:28:04.492Z] <<< [apiv2][status] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0 200
[debug] [2025-12-15T03:28:04.492Z] <<< [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0 {}
[info] +  functions[us-central1-onAppointmentUpdated]: firestore function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mfirestore\u001b[22m function initialized."}}
[info] +  functions[us-central1-reserveUsername]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/reserveUsername). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/reserveUsername)."}}
[info] +  functions[us-central1-releaseUsername]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/releaseUsername). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/releaseUsername)."}}
[info] +  functions[us-central1-getEmailForUsername]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/getEmailForUsername). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/getEmailForUsername)."}}
[info] +  functions[us-central1-uploadPermit]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/uploadPermit). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/uploadPermit)."}}
[info] +  functions[us-central1-createAppointment]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/createAppointment). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/createAppointment)."}}
[info] +  functions[us-central1-helloWorld]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/helloWorld). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/helloWorld)."}}
[debug] [2025-12-15T03:28:04.510Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: . If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌────────────────┬────────────────┬──────────────────────────────────┐
│ Emulator       │ Host:Port      │ View in Emulator UI              │
├────────────────┼────────────────┼──────────────────────────────────┤
│ Authentication │ 127.0.0.1:9099 │ http://127.0.0.1:4000/auth       │
├────────────────┼────────────────┼──────────────────────────────────┤
│ Functions      │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions  │
├────────────────┼────────────────┼──────────────────────────────────┤
│ Firestore      │ 127.0.0.1:8080 │ http://127.0.0.1:4000/firestore  │
├────────────────┼────────────────┼──────────────────────────────────┤
│ Extensions     │ 127.0.0.1:5001 │ http://127.0.0.1:4000/extensions │
└────────────────┴────────────────┴──────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500, 9150
┌─────────────────────────┬───────────────┬─────────────────────┐
│ Extension Instance Name │ Extension Ref │ View in Emulator UI │
└─────────────────────────┴───────────────┴─────────────────────┘
Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2025-12-15T03:32:12.415Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast [none]
[debug] [2025-12-15T03:32:12.416Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast {"eventId":"9fdaa0f4-07b5-41e3-9e28-c19baaa4fe37","eventType":"providers/firebase.auth/eventTypes/user.create","resource":{"name":"projects/sjpiicd-server","service":"firebaseauth.googleapis.com"},"params":{},"timestamp":"2025-12-15T03:32:12.413Z","data":{"uid":"Y5K5G83Qf45o02fLTdPY1wJInCPZ","email":"inuzawa@gmail.com","emailVerified":false,"metadata":{"creationTime":"2025-12-15T03:32:12.408Z","lastSignInTime":"2025-12-15T03:32:12.408Z"},"customClaims":{},"providerData":[{"rawId":"inuzawa@gmail.com","providerId":"password","email":"inuzawa@gmail.com","federatedId":"inuzawa@gmail.com"}]}}
[debug] [2025-12-15T03:32:12.459Z] [work-queue] {"queuedWork":["us-central1-setCustomClaimOnSignup-0-2025-12-15T03:32:12.459Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T03:32:12.467Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["us-central1-setCustomClaimOnSignup-0-2025-12-15T03:32:12.459Z"],"workRunningCount":1}
[debug] [2025-12-15T03:32:12.469Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T03:32:12.477Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast 200
[debug] [2025-12-15T03:32:12.478Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2025-12-15T03:32:12.483Z] [work-queue] {"queuedWork":["/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0-2025-12-15T03:32:12.483Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T03:32:12.483Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0-2025-12-15T03:32:12.483Z"],"workRunningCount":1}
[debug] [2025-12-15T03:32:12.484Z] Accepted request POST /functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0 --> us-central1-setCustomClaimOnSignup-0
[debug] [2025-12-15T03:32:12.495Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-12-15T03:32:12.497Z] [functions] Got req.url=/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0, mapping to path=/functions/projects/"}}
[debug] [2025-12-15T03:32:12.537Z] [worker-pool] addWorker(us-central1-setCustomClaimOnSignup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-setCustomClaimOnSignup)"}}
[debug] [2025-12-15T03:32:12.539Z] [worker-pool] Adding worker with key us-central1-setCustomClaimOnSignup, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-setCustomClaimOnSignup, total=1"}}
[debug] [2025-12-15T03:32:17.813Z] [runtime-status] [31976] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [31976] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T03:32:17.818Z] [runtime-status] [31976] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [31976] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T03:32:17.819Z] [runtime-status] [31976] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [31976] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-12-15T03:32:17.822Z] [runtime-status] [31976] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [31976] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T03:32:18.870Z] [runtime-status] [31976] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [31976] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T03:32:18.878Z] [runtime-status] [31976] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [31976] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T03:32:19.685Z] [runtime-status] [31976] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [31976] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-12-15T03:32:19.691Z] [runtime-status] [31976] initializeApp(DEFAULT) {"storageBucket":"sjpiicd-server.firebasestorage.app","projectId":"sjpiicd-server"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [31976] initializeApp(DEFAULT) {\"storageBucket\":\"sjpiicd-server.firebasestorage.app\",\"projectId\":\"sjpiicd-server\"}"}}
[info] >  WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=... {"user":"WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=..."}}
[debug] [2025-12-15T03:32:20.247Z] [runtime-status] [31976] Functions runtime initialized. {"cwd":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions","node_version":"24.11.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [31976] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\",\"node_version\":\"24.11.1\"}"}}
[debug] [2025-12-15T03:32:20.247Z] [runtime-status] [31976] Listening to port: \\?\pipe\fire_emu_a8cb621ad2025039 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [31976] Listening to port: \\\\?\\pipe\\fire_emu_a8cb621ad2025039"}}
[debug] [2025-12-15T03:32:20.324Z] [worker-us-central1-setCustomClaimOnSignup-ae728bed-97b3-4f5a-8ac1-e6c76bbc6dcb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-ae728bed-97b3-4f5a-8ac1-e6c76bbc6dcb]: IDLE"}}
[debug] [2025-12-15T03:32:20.324Z] [worker-pool] submitRequest(triggerId=us-central1-setCustomClaimOnSignup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-setCustomClaimOnSignup)"}}
[info] i  functions: Beginning execution of "us-central1-setCustomClaimOnSignup" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Beginning execution of \"us-central1-setCustomClaimOnSignup\""}}
[debug] [2025-12-15T03:32:20.327Z] [worker-us-central1-setCustomClaimOnSignup-ae728bed-97b3-4f5a-8ac1-e6c76bbc6dcb]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-ae728bed-97b3-4f5a-8ac1-e6c76bbc6dcb]: BUSY"}}
[debug] [2025-12-15T03:32:20.359Z] [runtime-status] [31976] ProcessBackground: lifting resource.name from resource {"name":"projects/sjpiicd-server","service":"firebaseauth.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [31976] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/sjpiicd-server\",\"service\":\"firebaseauth.googleapis.com\"}"}}
[debug] [2025-12-15T03:32:20.360Z] [runtime-status] [31976] RunBackground {"data":{"uid":"Y5K5G83Qf45o02fLTdPY1wJInCPZ","email":"inuzawa@gmail.com","emailVerified":false,"metadata":{"creationTime":"2025-12-15T03:32:12.408Z","lastSignInTime":"2025-12-15T03:32:12.408Z"},"customClaims":{},"providerData":[{"rawId":"inuzawa@gmail.com","providerId":"password","email":"inuzawa@gmail.com","federatedId":"inuzawa@gmail.com"}]},"context":{"eventId":"9fdaa0f4-07b5-41e3-9e28-c19baaa4fe37","eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/sjpiicd-server","params":{},"timestamp":"2025-12-15T03:32:12.413Z"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [31976] RunBackground {\"data\":{\"uid\":\"Y5K5G83Qf45o02fLTdPY1wJInCPZ\",\"email\":\"inuzawa@gmail.com\",\"emailVerified\":false,\"metadata\":{\"creationTime\":\"2025-12-15T03:32:12.408Z\",\"lastSignInTime\":\"2025-12-15T03:32:12.408Z\"},\"customClaims\":{},\"providerData\":[{\"rawId\":\"inuzawa@gmail.com\",\"providerId\":\"password\",\"email\":\"inuzawa@gmail.com\",\"federatedId\":\"inuzawa@gmail.com\"}]},\"context\":{\"eventId\":\"9fdaa0f4-07b5-41e3-9e28-c19baaa4fe37\",\"eventType\":\"providers/firebase.auth/eventTypes/user.create\",\"resource\":\"projects/sjpiicd-server\",\"params\":{},\"timestamp\":\"2025-12-15T03:32:12.413Z\"}}"}}
[info] >  User Y5K5G83Qf45o02fLTdPY1wJInCPZ created with role: guest {"user":"User Y5K5G83Qf45o02fLTdPY1wJInCPZ created with role: guest","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m User Y5K5G83Qf45o02fLTdPY1wJInCPZ created with role: guest"}}
[debug] [2025-12-15T03:32:21.358Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-setCustomClaimOnSignup" in 1031.2955ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finished \"us-central1-setCustomClaimOnSignup\" in 1031.2955ms"}}
[debug] [2025-12-15T03:32:21.360Z] [worker-us-central1-setCustomClaimOnSignup-ae728bed-97b3-4f5a-8ac1-e6c76bbc6dcb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-ae728bed-97b3-4f5a-8ac1-e6c76bbc6dcb]: IDLE"}}
[debug] [2025-12-15T03:32:21.360Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-12-15T03:32:21.360Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-12-15T03:32:21.360Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T03:35:18.743Z] File C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js changed, reloading triggers"}}
[debug] [2025-12-15T03:35:19.757Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-12-15T03:35:23.216Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "start": "firebase emulators:start --only functions,firestore,auth,storage",
    "deploy": "firebase deploy --only functions"
  },
  "dependencies": {
    "cloudinary": "^2.8.0",
    "firebase-admin": "^15.0.0",
    "firebase-functions": "^4.9.0",
    "uuid": "^9.0.0"
  },
  "engines": {
    "node": "18"
  }
}
[debug] [2025-12-15T03:35:23.217Z] Building nodejs source
[debug] [2025-12-15T03:35:23.217Z] Failed to find version of module node: reached end of search path C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "24". Using node@24 from host. 
[info] i  functions: You are using a version of firebase-functions SDK (4.9.0) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly 
[debug] [2025-12-15T03:35:23.221Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-12-15T03:35:23.239Z] Found firebase-functions binary at 'C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8229

[error] WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...

[debug] [2025-12-15T03:35:26.663Z] Got response from /__/functions.yaml {"endpoints":{"setCustomClaimOnSignup":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/sjpiicd-server"},"retry":false},"labels":{},"entryPoint":"setCustomClaimOnSignup"},"onAppointmentPaid":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentPaid"},"onAppointmentCreated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentCreated"},"onAppointmentUpdated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentUpdated"},"reserveUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"reserveUsername"},"releaseUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"releaseUsername"},"getEmailForUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getEmailForUsername"},"uploadPermit":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"uploadPermit"},"createAppointment":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createAppointment"},"helloWorld":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"helloWorld"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld."}}
[debug] [2025-12-15T03:35:30.743Z] [worker-pool] Shutting down IDLE worker (us-central1-setCustomClaimOnSignup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-setCustomClaimOnSignup)"}}
[debug] [2025-12-15T03:35:30.743Z] [worker-us-central1-setCustomClaimOnSignup-ae728bed-97b3-4f5a-8ac1-e6c76bbc6dcb]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-ae728bed-97b3-4f5a-8ac1-e6c76bbc6dcb]: FINISHING"}}
[debug] [2025-12-15T03:35:30.793Z] [worker-us-central1-setCustomClaimOnSignup-ae728bed-97b3-4f5a-8ac1-e6c76bbc6dcb]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-ae728bed-97b3-4f5a-8ac1-e6c76bbc6dcb]: exited"}}
[debug] [2025-12-15T03:35:30.793Z] [worker-us-central1-setCustomClaimOnSignup-ae728bed-97b3-4f5a-8ac1-e6c76bbc6dcb]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-ae728bed-97b3-4f5a-8ac1-e6c76bbc6dcb]: FINISHED"}}
[debug] [2025-12-15T03:36:35.539Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast [none]
[debug] [2025-12-15T03:36:35.539Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast {"eventId":"b662c3bf-c3c6-4a3d-bded-547351a0e2a6","eventType":"providers/firebase.auth/eventTypes/user.create","resource":{"name":"projects/sjpiicd-server","service":"firebaseauth.googleapis.com"},"params":{},"timestamp":"2025-12-15T03:36:35.538Z","data":{"uid":"l0NV1wuBQ5SNjUHdU9I3wv0Ytr4A","email":"inuzawa01@gmail.com","emailVerified":false,"metadata":{"creationTime":"2025-12-15T03:36:35.537Z","lastSignInTime":"2025-12-15T03:36:35.537Z"},"customClaims":{},"providerData":[{"rawId":"inuzawa01@gmail.com","providerId":"password","email":"inuzawa01@gmail.com","federatedId":"inuzawa01@gmail.com"}]}}
[debug] [2025-12-15T03:36:35.545Z] [work-queue] {"queuedWork":["us-central1-setCustomClaimOnSignup-0-2025-12-15T03:36:35.545Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T03:36:35.546Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["us-central1-setCustomClaimOnSignup-0-2025-12-15T03:36:35.545Z"],"workRunningCount":1}
[debug] [2025-12-15T03:36:35.547Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T03:36:35.549Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast 200
[debug] [2025-12-15T03:36:35.549Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2025-12-15T03:36:35.550Z] [work-queue] {"queuedWork":["/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0-2025-12-15T03:36:35.550Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T03:36:35.550Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0-2025-12-15T03:36:35.550Z"],"workRunningCount":1}
[debug] [2025-12-15T03:36:35.550Z] Accepted request POST /functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0 --> us-central1-setCustomClaimOnSignup-0
[debug] [2025-12-15T03:36:35.562Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-12-15T03:36:35.563Z] [functions] Got req.url=/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0, mapping to path=/functions/projects/"}}
[debug] [2025-12-15T03:36:35.563Z] [worker-pool] Cleaned up workers for us-central1-setCustomClaimOnSignup: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-setCustomClaimOnSignup: 1 --> 0"}}
[debug] [2025-12-15T03:36:35.582Z] [worker-pool] addWorker(us-central1-setCustomClaimOnSignup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-setCustomClaimOnSignup)"}}
[debug] [2025-12-15T03:36:35.583Z] [worker-pool] Adding worker with key us-central1-setCustomClaimOnSignup, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-setCustomClaimOnSignup, total=1"}}
[debug] [2025-12-15T03:36:40.531Z] [runtime-status] [3612] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [3612] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T03:36:40.534Z] [runtime-status] [3612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [3612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T03:36:40.535Z] [runtime-status] [3612] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [3612] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-12-15T03:36:40.537Z] [runtime-status] [3612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [3612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T03:36:41.284Z] [runtime-status] [3612] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [3612] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T03:36:41.290Z] [runtime-status] [3612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [3612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T03:36:41.822Z] [runtime-status] [3612] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [3612] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-12-15T03:36:41.830Z] [runtime-status] [3612] initializeApp(DEFAULT) {"storageBucket":"sjpiicd-server.firebasestorage.app","projectId":"sjpiicd-server"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [3612] initializeApp(DEFAULT) {\"storageBucket\":\"sjpiicd-server.firebasestorage.app\",\"projectId\":\"sjpiicd-server\"}"}}
[info] >  WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=... {"user":"WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=..."}}
[debug] [2025-12-15T03:36:42.253Z] [runtime-status] [3612] Functions runtime initialized. {"cwd":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions","node_version":"24.11.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [3612] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\",\"node_version\":\"24.11.1\"}"}}
[debug] [2025-12-15T03:36:42.254Z] [runtime-status] [3612] Listening to port: \\?\pipe\fire_emu_18f3470af96c6eaf {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [3612] Listening to port: \\\\?\\pipe\\fire_emu_18f3470af96c6eaf"}}
[debug] [2025-12-15T03:36:42.345Z] [worker-us-central1-setCustomClaimOnSignup-3b309ba8-c08d-4151-abe8-3eaaf53a09cc]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-3b309ba8-c08d-4151-abe8-3eaaf53a09cc]: IDLE"}}
[debug] [2025-12-15T03:36:42.345Z] [worker-pool] submitRequest(triggerId=us-central1-setCustomClaimOnSignup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-setCustomClaimOnSignup)"}}
[info] i  functions: Beginning execution of "us-central1-setCustomClaimOnSignup" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Beginning execution of \"us-central1-setCustomClaimOnSignup\""}}
[debug] [2025-12-15T03:36:42.346Z] [worker-us-central1-setCustomClaimOnSignup-3b309ba8-c08d-4151-abe8-3eaaf53a09cc]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-3b309ba8-c08d-4151-abe8-3eaaf53a09cc]: BUSY"}}
[debug] [2025-12-15T03:36:42.441Z] [runtime-status] [3612] ProcessBackground: lifting resource.name from resource {"name":"projects/sjpiicd-server","service":"firebaseauth.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [3612] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/sjpiicd-server\",\"service\":\"firebaseauth.googleapis.com\"}"}}
[debug] [2025-12-15T03:36:42.441Z] [runtime-status] [3612] RunBackground {"data":{"uid":"l0NV1wuBQ5SNjUHdU9I3wv0Ytr4A","email":"inuzawa01@gmail.com","emailVerified":false,"metadata":{"creationTime":"2025-12-15T03:36:35.537Z","lastSignInTime":"2025-12-15T03:36:35.537Z"},"customClaims":{},"providerData":[{"rawId":"inuzawa01@gmail.com","providerId":"password","email":"inuzawa01@gmail.com","federatedId":"inuzawa01@gmail.com"}]},"context":{"eventId":"b662c3bf-c3c6-4a3d-bded-547351a0e2a6","eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/sjpiicd-server","params":{},"timestamp":"2025-12-15T03:36:35.538Z"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [3612] RunBackground {\"data\":{\"uid\":\"l0NV1wuBQ5SNjUHdU9I3wv0Ytr4A\",\"email\":\"inuzawa01@gmail.com\",\"emailVerified\":false,\"metadata\":{\"creationTime\":\"2025-12-15T03:36:35.537Z\",\"lastSignInTime\":\"2025-12-15T03:36:35.537Z\"},\"customClaims\":{},\"providerData\":[{\"rawId\":\"inuzawa01@gmail.com\",\"providerId\":\"password\",\"email\":\"inuzawa01@gmail.com\",\"federatedId\":\"inuzawa01@gmail.com\"}]},\"context\":{\"eventId\":\"b662c3bf-c3c6-4a3d-bded-547351a0e2a6\",\"eventType\":\"providers/firebase.auth/eventTypes/user.create\",\"resource\":\"projects/sjpiicd-server\",\"params\":{},\"timestamp\":\"2025-12-15T03:36:35.538Z\"}}"}}
[info] >  Failed to set custom claim: TypeError: Cannot read properties of undefined (reading 'serverTimestamp') {"user":"Failed to set custom claim: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m Failed to set custom claim: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')"}}
[info] >      at C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:90:31 {"user":"    at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:90:31","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:90:31"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:103:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:103:5)"}}
[info] >      at async runFunction (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:399:9) {"user":"    at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)"}}
[info] >      at async runBackground (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:410:5) {"user":"    at async runBackground (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:410:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runBackground (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:410:5)"}}
[info] >      at async processBackground (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:394:5) {"user":"    at async processBackground (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:394:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async processBackground (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:394:5)"}}
[info] >      at async C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:581:21 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:581:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:581:21"}}
[debug] [2025-12-15T03:36:42.473Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-setCustomClaimOnSignup" in 127.133ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finished \"us-central1-setCustomClaimOnSignup\" in 127.133ms"}}
[debug] [2025-12-15T03:36:42.474Z] [worker-us-central1-setCustomClaimOnSignup-3b309ba8-c08d-4151-abe8-3eaaf53a09cc]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-3b309ba8-c08d-4151-abe8-3eaaf53a09cc]: IDLE"}}
[debug] [2025-12-15T03:36:42.474Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-12-15T03:36:42.474Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-12-15T03:36:42.474Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T03:37:26.849Z] File C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js changed, reloading triggers"}}
[debug] [2025-12-15T03:37:27.859Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-12-15T03:37:30.540Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "start": "firebase emulators:start --only functions,firestore,auth,storage",
    "deploy": "firebase deploy --only functions"
  },
  "dependencies": {
    "cloudinary": "^2.8.0",
    "firebase-admin": "^15.0.0",
    "firebase-functions": "^4.9.0",
    "uuid": "^9.0.0"
  },
  "engines": {
    "node": "18"
  }
}
[debug] [2025-12-15T03:37:30.540Z] Building nodejs source
[debug] [2025-12-15T03:37:30.540Z] Failed to find version of module node: reached end of search path C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "24". Using node@24 from host. 
[info] i  functions: You are using a version of firebase-functions SDK (4.9.0) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly 
[debug] [2025-12-15T03:37:30.543Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-12-15T03:37:30.557Z] Found firebase-functions binary at 'C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8384

[error] WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...

[debug] [2025-12-15T03:37:33.478Z] Got response from /__/functions.yaml {"endpoints":{"setCustomClaimOnSignup":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/sjpiicd-server"},"retry":false},"labels":{},"entryPoint":"setCustomClaimOnSignup"},"onAppointmentPaid":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentPaid"},"onAppointmentCreated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentCreated"},"onAppointmentUpdated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentUpdated"},"reserveUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"reserveUsername"},"releaseUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"releaseUsername"},"getEmailForUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getEmailForUsername"},"uploadPermit":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"uploadPermit"},"createAppointment":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createAppointment"},"helloWorld":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"helloWorld"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld."}}
[debug] [2025-12-15T03:37:37.562Z] [worker-pool] Shutting down IDLE worker (us-central1-setCustomClaimOnSignup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-setCustomClaimOnSignup)"}}
[debug] [2025-12-15T03:37:37.562Z] [worker-us-central1-setCustomClaimOnSignup-3b309ba8-c08d-4151-abe8-3eaaf53a09cc]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-3b309ba8-c08d-4151-abe8-3eaaf53a09cc]: FINISHING"}}
[debug] [2025-12-15T03:37:37.595Z] [worker-us-central1-setCustomClaimOnSignup-3b309ba8-c08d-4151-abe8-3eaaf53a09cc]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-3b309ba8-c08d-4151-abe8-3eaaf53a09cc]: exited"}}
[debug] [2025-12-15T03:37:37.596Z] [worker-us-central1-setCustomClaimOnSignup-3b309ba8-c08d-4151-abe8-3eaaf53a09cc]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-3b309ba8-c08d-4151-abe8-3eaaf53a09cc]: FINISHED"}}
[debug] [2025-12-15T03:38:16.397Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast [none]
[debug] [2025-12-15T03:38:16.398Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast {"eventId":"008bc741-b4a1-4574-8118-eba795ab5f4e","eventType":"providers/firebase.auth/eventTypes/user.create","resource":{"name":"projects/sjpiicd-server","service":"firebaseauth.googleapis.com"},"params":{},"timestamp":"2025-12-15T03:38:16.397Z","data":{"uid":"tVkwlU45ZpfxB81nfTH02axulifi","email":"inuzawa02@gmail.com","emailVerified":false,"metadata":{"creationTime":"2025-12-15T03:38:16.396Z","lastSignInTime":"2025-12-15T03:38:16.396Z"},"customClaims":{},"providerData":[{"rawId":"inuzawa02@gmail.com","providerId":"password","email":"inuzawa02@gmail.com","federatedId":"inuzawa02@gmail.com"}]}}
[debug] [2025-12-15T03:38:16.405Z] [work-queue] {"queuedWork":["us-central1-setCustomClaimOnSignup-0-2025-12-15T03:38:16.405Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T03:38:16.406Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["us-central1-setCustomClaimOnSignup-0-2025-12-15T03:38:16.405Z"],"workRunningCount":1}
[debug] [2025-12-15T03:38:16.407Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T03:38:16.410Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast 200
[debug] [2025-12-15T03:38:16.410Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2025-12-15T03:38:16.412Z] [work-queue] {"queuedWork":["/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0-2025-12-15T03:38:16.412Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T03:38:16.413Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0-2025-12-15T03:38:16.412Z"],"workRunningCount":1}
[debug] [2025-12-15T03:38:16.413Z] Accepted request POST /functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0 --> us-central1-setCustomClaimOnSignup-0
[debug] [2025-12-15T03:38:16.418Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-12-15T03:38:16.418Z] [functions] Got req.url=/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0, mapping to path=/functions/projects/"}}
[debug] [2025-12-15T03:38:16.419Z] [worker-pool] Cleaned up workers for us-central1-setCustomClaimOnSignup: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-setCustomClaimOnSignup: 1 --> 0"}}
[debug] [2025-12-15T03:38:16.437Z] [worker-pool] addWorker(us-central1-setCustomClaimOnSignup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-setCustomClaimOnSignup)"}}
[debug] [2025-12-15T03:38:16.438Z] [worker-pool] Adding worker with key us-central1-setCustomClaimOnSignup, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-setCustomClaimOnSignup, total=1"}}
[debug] [2025-12-15T03:38:20.639Z] [runtime-status] [35312] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [35312] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T03:38:20.643Z] [runtime-status] [35312] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [35312] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T03:38:20.644Z] [runtime-status] [35312] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [35312] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-12-15T03:38:20.646Z] [runtime-status] [35312] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [35312] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T03:38:21.534Z] [runtime-status] [35312] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [35312] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T03:38:21.544Z] [runtime-status] [35312] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [35312] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T03:38:22.099Z] [runtime-status] [35312] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [35312] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-12-15T03:38:22.105Z] [runtime-status] [35312] initializeApp(DEFAULT) {"storageBucket":"sjpiicd-server.firebasestorage.app","projectId":"sjpiicd-server"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [35312] initializeApp(DEFAULT) {\"storageBucket\":\"sjpiicd-server.firebasestorage.app\",\"projectId\":\"sjpiicd-server\"}"}}
[info] >  WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=... {"user":"WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=..."}}
[debug] [2025-12-15T03:38:22.511Z] [runtime-status] [35312] Functions runtime initialized. {"cwd":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions","node_version":"24.11.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [35312] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\",\"node_version\":\"24.11.1\"}"}}
[debug] [2025-12-15T03:38:22.511Z] [runtime-status] [35312] Listening to port: \\?\pipe\fire_emu_7b2251b1d927e40c {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [35312] Listening to port: \\\\?\\pipe\\fire_emu_7b2251b1d927e40c"}}
[debug] [2025-12-15T03:38:22.540Z] [worker-us-central1-setCustomClaimOnSignup-d9ed8fae-d8db-49d5-9c6d-034ba47da6ae]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-d9ed8fae-d8db-49d5-9c6d-034ba47da6ae]: IDLE"}}
[debug] [2025-12-15T03:38:22.540Z] [worker-pool] submitRequest(triggerId=us-central1-setCustomClaimOnSignup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-setCustomClaimOnSignup)"}}
[info] i  functions: Beginning execution of "us-central1-setCustomClaimOnSignup" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Beginning execution of \"us-central1-setCustomClaimOnSignup\""}}
[debug] [2025-12-15T03:38:22.542Z] [worker-us-central1-setCustomClaimOnSignup-d9ed8fae-d8db-49d5-9c6d-034ba47da6ae]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-d9ed8fae-d8db-49d5-9c6d-034ba47da6ae]: BUSY"}}
[debug] [2025-12-15T03:38:22.572Z] [runtime-status] [35312] ProcessBackground: lifting resource.name from resource {"name":"projects/sjpiicd-server","service":"firebaseauth.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [35312] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/sjpiicd-server\",\"service\":\"firebaseauth.googleapis.com\"}"}}
[debug] [2025-12-15T03:38:22.572Z] [runtime-status] [35312] RunBackground {"data":{"uid":"tVkwlU45ZpfxB81nfTH02axulifi","email":"inuzawa02@gmail.com","emailVerified":false,"metadata":{"creationTime":"2025-12-15T03:38:16.396Z","lastSignInTime":"2025-12-15T03:38:16.396Z"},"customClaims":{},"providerData":[{"rawId":"inuzawa02@gmail.com","providerId":"password","email":"inuzawa02@gmail.com","federatedId":"inuzawa02@gmail.com"}]},"context":{"eventId":"008bc741-b4a1-4574-8118-eba795ab5f4e","eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/sjpiicd-server","params":{},"timestamp":"2025-12-15T03:38:16.397Z"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [35312] RunBackground {\"data\":{\"uid\":\"tVkwlU45ZpfxB81nfTH02axulifi\",\"email\":\"inuzawa02@gmail.com\",\"emailVerified\":false,\"metadata\":{\"creationTime\":\"2025-12-15T03:38:16.396Z\",\"lastSignInTime\":\"2025-12-15T03:38:16.396Z\"},\"customClaims\":{},\"providerData\":[{\"rawId\":\"inuzawa02@gmail.com\",\"providerId\":\"password\",\"email\":\"inuzawa02@gmail.com\",\"federatedId\":\"inuzawa02@gmail.com\"}]},\"context\":{\"eventId\":\"008bc741-b4a1-4574-8118-eba795ab5f4e\",\"eventType\":\"providers/firebase.auth/eventTypes/user.create\",\"resource\":\"projects/sjpiicd-server\",\"params\":{},\"timestamp\":\"2025-12-15T03:38:16.397Z\"}}"}}
[info] >  Failed to set custom claim: TypeError: Cannot read properties of undefined (reading 'serverTimestamp') {"user":"Failed to set custom claim: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m Failed to set custom claim: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')"}}
[info] >      at C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:90:31 {"user":"    at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:90:31","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:90:31"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:103:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:103:5)"}}
[info] >      at async runFunction (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:399:9) {"user":"    at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)"}}
[info] >      at async runBackground (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:410:5) {"user":"    at async runBackground (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:410:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runBackground (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:410:5)"}}
[info] >      at async processBackground (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:394:5) {"user":"    at async processBackground (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:394:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async processBackground (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:394:5)"}}
[info] >      at async C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:581:21 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:581:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:581:21"}}
[debug] [2025-12-15T03:38:22.603Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-setCustomClaimOnSignup" in 61.5591ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finished \"us-central1-setCustomClaimOnSignup\" in 61.5591ms"}}
[debug] [2025-12-15T03:38:22.604Z] [worker-us-central1-setCustomClaimOnSignup-d9ed8fae-d8db-49d5-9c6d-034ba47da6ae]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-d9ed8fae-d8db-49d5-9c6d-034ba47da6ae]: IDLE"}}
[debug] [2025-12-15T03:38:22.604Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-12-15T03:38:22.604Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-12-15T03:38:22.604Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T03:38:37.011Z] [work-queue] {"queuedWork":["/sjpiicd-server/us-central1/createAppointment-2025-12-15T03:38:37.011Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T03:38:37.012Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/sjpiicd-server/us-central1/createAppointment-2025-12-15T03:38:37.011Z"],"workRunningCount":1}
[debug] [2025-12-15T03:38:37.012Z] Accepted request POST /sjpiicd-server/us-central1/createAppointment --> us-central1-createAppointment
[debug] [2025-12-15T03:38:37.015Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-12-15T03:38:37.015Z] [functions] Got req.url=/sjpiicd-server/us-central1/createAppointment, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/sjpiicd-server/us-central1/createAppointment, mapping to path=/"}}
[debug] [2025-12-15T03:38:37.026Z] [worker-pool] addWorker(us-central1-createAppointment) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-createAppointment)"}}
[debug] [2025-12-15T03:38:37.027Z] [worker-pool] Adding worker with key us-central1-createAppointment, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-createAppointment, total=1"}}
[debug] [2025-12-15T03:38:40.009Z] [runtime-status] [8228] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [8228] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T03:38:40.014Z] [runtime-status] [8228] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [8228] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T03:38:40.014Z] [runtime-status] [8228] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [8228] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-12-15T03:38:40.016Z] [runtime-status] [8228] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [8228] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T03:38:40.769Z] [runtime-status] [8228] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [8228] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T03:38:40.776Z] [runtime-status] [8228] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [8228] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T03:38:41.211Z] [runtime-status] [8228] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [8228] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-12-15T03:38:41.218Z] [runtime-status] [8228] initializeApp(DEFAULT) {"storageBucket":"sjpiicd-server.firebasestorage.app","projectId":"sjpiicd-server"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [8228] initializeApp(DEFAULT) {\"storageBucket\":\"sjpiicd-server.firebasestorage.app\",\"projectId\":\"sjpiicd-server\"}"}}
[info] >  WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=... {"user":"WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=..."}}
[debug] [2025-12-15T03:38:41.642Z] [runtime-status] [8228] Functions runtime initialized. {"cwd":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions","node_version":"24.11.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [8228] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\",\"node_version\":\"24.11.1\"}"}}
[debug] [2025-12-15T03:38:41.643Z] [runtime-status] [8228] Listening to port: \\?\pipe\fire_emu_0ac8df14f5710a64 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [8228] Listening to port: \\\\?\\pipe\\fire_emu_0ac8df14f5710a64"}}
[debug] [2025-12-15T03:38:41.718Z] [worker-us-central1-createAppointment-c702e517-34cc-4740-9d3b-c1c4d4204147]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-c702e517-34cc-4740-9d3b-c1c4d4204147]: IDLE"}}
[debug] [2025-12-15T03:38:41.718Z] [worker-pool] submitRequest(triggerId=us-central1-createAppointment) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-createAppointment)"}}
[info] i  functions: Beginning execution of "us-central1-createAppointment" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Beginning execution of \"us-central1-createAppointment\""}}
[debug] [2025-12-15T03:38:41.719Z] [worker-us-central1-createAppointment-c702e517-34cc-4740-9d3b-c1c4d4204147]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-c702e517-34cc-4740-9d3b-c1c4d4204147]: BUSY"}}
[info] >  {"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"VALID\",\"auth\":\"VALID\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  [createAppointment] Called with data: {"date":"2025-12-15","window":"11:00-12:00"} {"user":"[createAppointment] Called with data: {\"date\":\"2025-12-15\",\"window\":\"11:00-12:00\"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Called with data: {\"date\":\"2025-12-15\",\"window\":\"11:00-12:00\"}"}}
[info] >  [createAppointment] Context auth: tVkwlU45ZpfxB81nfTH02axulifi {"user":"[createAppointment] Context auth: tVkwlU45ZpfxB81nfTH02axulifi","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Context auth: tVkwlU45ZpfxB81nfTH02axulifi"}}
[info] >  [createAppointment] Parsed - uid: tVkwlU45ZpfxB81nfTH02axulifi, date: 2025-12-15, window: 11:00-12:00 {"user":"[createAppointment] Parsed - uid: tVkwlU45ZpfxB81nfTH02axulifi, date: 2025-12-15, window: 11:00-12:00","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Parsed - uid: tVkwlU45ZpfxB81nfTH02axulifi, date: 2025-12-15, window: 11:00-12:00"}}
[info] >  [createAppointment] Checking appointment limit... {"user":"[createAppointment] Checking appointment limit...","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Checking appointment limit..."}}
[info] >  [createAppointment] Appointment limit check passed {"user":"[createAppointment] Appointment limit check passed","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Appointment limit check passed"}}
[info] >  [createAppointment] Starting transaction - apptId: tVkwlU45ZpfxB81nfTH02axulifi_2025-12-15_11:00-12:00, slotId: 2025-12-15_11:00-12:00 {"user":"[createAppointment] Starting transaction - apptId: tVkwlU45ZpfxB81nfTH02axulifi_2025-12-15_11:00-12:00, slotId: 2025-12-15_11:00-12:00","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Starting transaction - apptId: tVkwlU45ZpfxB81nfTH02axulifi_2025-12-15_11:00-12:00, slotId: 2025-12-15_11:00-12:00"}}
[info] >  [createAppointment] Inside transaction - checking existing appointment {"user":"[createAppointment] Inside transaction - checking existing appointment","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Inside transaction - checking existing appointment"}}
[info] >  [createAppointment] Checking slot availability {"user":"[createAppointment] Checking slot availability","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Checking slot availability"}}
[info] >  [createAppointment] Slot does not exist, will create new {"user":"[createAppointment] Slot does not exist, will create new","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Slot does not exist, will create new"}}
[info] >  [createAppointment] Creating appointment document {"user":"[createAppointment] Creating appointment document","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Creating appointment document"}}
[info] >  [createAppointment] Transaction failed with error: TypeError: Cannot read properties of undefined (reading 'serverTimestamp') {"user":"[createAppointment] Transaction failed with error: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Transaction failed with error: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')"}}
[info] >      at C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:551:31 {"user":"    at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:551:31","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:551:31"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:103:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:103:5)"}}
[info] >      at async Transaction.runTransactionOnce (C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\@google-cloud\firestore\build\src\transaction.js:440:28) {"user":"    at async Transaction.runTransactionOnce (C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:440:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async Transaction.runTransactionOnce (C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:440:28)"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\@google-cloud\firestore\build\src\transaction.js:412:28 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:412:28","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:412:28"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:508:20 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:508:20","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:508:20"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\firebase-functions\lib\common\providers\https.js:458:26 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:458:26","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:458:26"}}
[info] >      at async runFunction (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:399:9) {"user":"    at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)"}}
[info] >      at async runHTTPS (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:424:5) {"user":"    at async runHTTPS (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:424:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runHTTPS (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:424:5)"}}
[info] >      at async C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:585:21 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:585:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:585:21"}}
[info] >  [createAppointment] Error name: TypeError {"user":"[createAppointment] Error name: TypeError","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Error name: TypeError"}}
[debug] [2025-12-15T03:38:42.749Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-createAppointment" in 1030.4453ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Finished \"us-central1-createAppointment\" in 1030.4453ms"}}
[debug] [2025-12-15T03:38:42.750Z] [worker-us-central1-createAppointment-c702e517-34cc-4740-9d3b-c1c4d4204147]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-c702e517-34cc-4740-9d3b-c1c4d4204147]: IDLE"}}
[debug] [2025-12-15T03:38:42.750Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-12-15T03:38:42.750Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-12-15T03:38:42.750Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [createAppointment] Error message: Cannot read properties of undefined (reading 'serverTimestamp') {"user":"[createAppointment] Error message: Cannot read properties of undefined (reading 'serverTimestamp')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Error message: Cannot read properties of undefined (reading 'serverTimestamp')"}}
[info] >  [createAppointment] Error stack: TypeError: Cannot read properties of undefined (reading 'serverTimestamp') {"user":"[createAppointment] Error stack: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Error stack: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')"}}
[info] >      at C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:551:31 {"user":"    at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:551:31","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:551:31"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:103:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:103:5)"}}
[info] >      at async Transaction.runTransactionOnce (C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\@google-cloud\firestore\build\src\transaction.js:440:28) {"user":"    at async Transaction.runTransactionOnce (C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:440:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async Transaction.runTransactionOnce (C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:440:28)"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\@google-cloud\firestore\build\src\transaction.js:412:28 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:412:28","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:412:28"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:508:20 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:508:20","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:508:20"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\firebase-functions\lib\common\providers\https.js:458:26 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:458:26","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:458:26"}}
[info] >      at async runFunction (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:399:9) {"user":"    at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)"}}
[info] >      at async runHTTPS (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:424:5) {"user":"    at async runHTTPS (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:424:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runHTTPS (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:424:5)"}}
[info] >      at async C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:585:21 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:585:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:585:21"}}
[debug] [2025-12-15T03:42:56.644Z] ----------------------------------------------------------------------
[debug] [2025-12-15T03:42:56.649Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start
[debug] [2025-12-15T03:42:56.650Z] CLI Version:   15.0.0
[debug] [2025-12-15T03:42:56.650Z] Platform:      win32
[debug] [2025-12-15T03:42:56.650Z] Node Version:  v24.11.1
[debug] [2025-12-15T03:42:56.650Z] Time:          Mon Dec 15 2025 11:42:56 GMT+0800 (Philippine Standard Time)
[debug] [2025-12-15T03:42:56.650Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-12-15T03:43:01.328Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-12-15T03:43:01.329Z] > authorizing via signed-in user (jeffreyautentico7@gmail.com)
[debug] [2025-12-15T03:43:01.570Z] java version "25.0.1" 2025-10-21 LTS
Java(TM) SE Runtime Environment (build 25.0.1+8-LTS-27)

[debug] [2025-12-15T03:43:01.571Z] Java HotSpot(TM) 64-Bit Server VM (build 25.0.1+8-LTS-27, mixed mode, sharing)

[debug] [2025-12-15T03:43:01.593Z] Parsed Java major version: 25
[info] i  emulators: Starting emulators: auth, functions, firestore, extensions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: auth, functions, firestore, extensions"}}
[debug] [2025-12-15T03:43:01.597Z] Checked if tokens are valid: true, expires at: 1765772853004
[debug] [2025-12-15T03:43:01.598Z] Checked if tokens are valid: true, expires at: 1765772853004
[debug] [2025-12-15T03:43:01.599Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/sjpiicd-server [none]
[debug] [2025-12-15T03:43:02.775Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/sjpiicd-server 200
[debug] [2025-12-15T03:43:02.775Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/sjpiicd-server {"projectNumber":"355997838626","projectId":"sjpiicd-server","lifecycleState":"ACTIVE","name":"sjpiicd server","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-11-19T14:33:00.642127Z"}
[debug] [2025-12-15T03:43:02.801Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T03:43:02.802Z] [auth] Authentication Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T03:43:02.802Z] [firestore] Firestore Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T03:43:02.802Z] [firestore.websocket] websocket server for firestore only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T03:43:02.802Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"auth":[{"address":"127.0.0.1","family":"IPv4","port":9099}],"firestore":[{"address":"127.0.0.1","family":"IPv4","port":8080}],"firestore.websocket":[{"address":"127.0.0.1","family":"IPv4","port":9150}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2025-12-15T03:43:02.811Z] Emulator locator file path: C:\Users\JEFFRE~1\AppData\Local\Temp\hub-sjpiicd-server.json
[warn] !  emulators: It seems that you are running multiple instances of the emulator suite for project sjpiicd-server. This may result in unexpected behavior. 
[debug] [2025-12-15T03:43:02.813Z] [hub] writing locator at C:\Users\JEFFRE~1\AppData\Local\Temp\hub-sjpiicd-server.json
[debug] [2025-12-15T03:43:02.828Z] [Extensions] Started Extensions emulator, this is a noop.
[debug] [2025-12-15T03:43:02.840Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T03:43:02.841Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T03:43:02.841Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T03:43:02.841Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"auth":[{"address":"127.0.0.1","family":"IPv4","port":9099}],"firestore":[{"address":"127.0.0.1","family":"IPv4","port":8080}],"firestore.websocket":[{"address":"127.0.0.1","family":"IPv4","port":9150}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, database, hosting, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, database, hosting, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-12-15T03:43:02.908Z] defaultcredentials: writing to file C:\Users\Jeffrey Autentico\AppData\Roaming\firebase\jeffreyautentico7_gmail_com_application_default_credentials.json
[debug] [2025-12-15T03:43:02.912Z] Setting GAC to C:\Users\Jeffrey Autentico\AppData\Roaming\firebase\jeffreyautentico7_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\firebase\\jeffreyautentico7_gmail_com_application_default_credentials.json"}}
[debug] [2025-12-15T03:43:02.912Z] Checked if tokens are valid: true, expires at: 1765772853004
[debug] [2025-12-15T03:43:02.913Z] Checked if tokens are valid: true, expires at: 1765772853004
[debug] [2025-12-15T03:43:02.913Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/sjpiicd-server/adminSdkConfig [none]
[debug] [2025-12-15T03:43:03.893Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/sjpiicd-server/adminSdkConfig 200
[debug] [2025-12-15T03:43:03.894Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/sjpiicd-server/adminSdkConfig {"projectId":"sjpiicd-server","storageBucket":"sjpiicd-server.firebasestorage.app"}
[warn] !  firestore: Cloud Firestore Emulator does not support multiple databases yet. {"metadata":{"emulator":{"name":"firestore"},"message":"Cloud Firestore Emulator does not support multiple databases yet."}}
[warn] !  firestore: Did not find a Cloud Firestore rules file specified in a firebase.json config file. {"metadata":{"emulator":{"name":"firestore"},"message":"Did not find a Cloud Firestore rules file specified in a firebase.json config file."}}
[warn] !  firestore: The emulator will default to allowing all reads and writes. Learn more about this option: https://firebase.google.com/docs/emulator-suite/install_and_configure#security_rules_configuration. {"metadata":{"emulator":{"name":"firestore"},"message":"The emulator will default to allowing all reads and writes. Learn more about this option: https://firebase.google.com/docs/emulator-suite/install_and_configure#security_rules_configuration."}}
[debug] [2025-12-15T03:43:03.932Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2025-12-15T03:43:03.932Z] Ignoring unsupported arg: single_project_mode_error {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: single_project_mode_error"}}
[debug] [2025-12-15T03:43:03.932Z] Starting Firestore Emulator with command {"binary":"java","args":["-Dgoogle.cloud_firestore.debug_log_level=FINE","-Duser.language=en","-jar","C:\\Users\\Jeffrey Autentico\\.cache\\firebase\\emulators\\cloud-firestore-emulator-v1.20.2.jar","--host","127.0.0.1","--port",8080,"--websocket_port",9150,"--project_id","sjpiicd-server","--single_project_mode",true,"--functions_emulator","127.0.0.1:5001"],"optionalArgs":["port","webchannel_port","host","rules","websocket_port","functions_emulator","seed_from_export","project_id","single_project_mode"],"joinArgs":false,"shell":false,"port":8080} {"metadata":{"emulator":{"name":"firestore"},"message":"Starting Firestore Emulator with command {\"binary\":\"java\",\"args\":[\"-Dgoogle.cloud_firestore.debug_log_level=FINE\",\"-Duser.language=en\",\"-jar\",\"C:\\\\Users\\\\Jeffrey Autentico\\\\.cache\\\\firebase\\\\emulators\\\\cloud-firestore-emulator-v1.20.2.jar\",\"--host\",\"127.0.0.1\",\"--port\",8080,\"--websocket_port\",9150,\"--project_id\",\"sjpiicd-server\",\"--single_project_mode\",true,\"--functions_emulator\",\"127.0.0.1:5001\"],\"optionalArgs\":[\"port\",\"webchannel_port\",\"host\",\"rules\",\"websocket_port\",\"functions_emulator\",\"seed_from_export\",\"project_id\",\"single_project_mode\"],\"joinArgs\":false,\"shell\":false,\"port\":8080}"}}
[info] i  firestore: Firestore Emulator logging to firestore-debug.log {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator logging to \u001b[1mfirestore-debug.log\u001b[22m"}}
[info] +  firestore: Firestore Emulator UI websocket is running on 9150. {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator UI websocket is running on 9150."}}
[debug] [2025-12-15T03:43:20.092Z] [Extensions] Connecting Extensions emulator, this is a noop.
[info] i  functions: Watching "C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\" for Cloud Functions..."}}
[debug] [2025-12-15T03:43:20.104Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-12-15T03:43:22.705Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "start": "firebase emulators:start --only functions,firestore,auth,storage",
    "deploy": "firebase deploy --only functions"
  },
  "dependencies": {
    "cloudinary": "^2.8.0",
    "firebase-admin": "^15.0.0",
    "firebase-functions": "^4.9.0",
    "uuid": "^9.0.0"
  },
  "engines": {
    "node": "18"
  }
}
[debug] [2025-12-15T03:43:22.705Z] Building nodejs source
[debug] [2025-12-15T03:43:22.706Z] Failed to find version of module node: reached end of search path C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "24". Using node@24 from host. 
[info] i  functions: You are using a version of firebase-functions SDK (4.9.0) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly 
[debug] [2025-12-15T03:43:22.713Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-12-15T03:43:22.729Z] Found firebase-functions binary at 'C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8527

[error] WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...

[debug] [2025-12-15T03:43:25.040Z] Got response from /__/functions.yaml {"endpoints":{"setCustomClaimOnSignup":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/sjpiicd-server"},"retry":false},"labels":{},"entryPoint":"setCustomClaimOnSignup"},"onAppointmentPaid":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentPaid"},"onAppointmentCreated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentCreated"},"onAppointmentUpdated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentUpdated"},"reserveUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"reserveUsername"},"releaseUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"releaseUsername"},"getEmailForUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getEmailForUsername"},"uploadPermit":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"uploadPermit"},"createAppointment":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createAppointment"},"helloWorld":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"helloWorld"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld."}}
[debug] [2025-12-15T03:43:29.133Z] addAuthTrigger {"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/sjpiicd-server"}}
[info] +  functions[us-central1-setCustomClaimOnSignup]: auth function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mauth\u001b[22m function initialized."}}
[debug] [2025-12-15T03:43:29.135Z] addFirestoreTrigger "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.update\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T03:43:29.136Z] >>> [apiv2][query] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0 [none]
[debug] [2025-12-15T03:43:29.136Z] >>> [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0 "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.update\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T03:43:30.859Z] <<< [apiv2][status] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0 200
[debug] [2025-12-15T03:43:30.859Z] <<< [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0 {}
[info] +  functions[us-central1-onAppointmentPaid]: firestore function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mfirestore\u001b[22m function initialized."}}
[debug] [2025-12-15T03:43:30.860Z] addFirestoreTrigger "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.create\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T03:43:30.860Z] >>> [apiv2][query] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0 [none]
[debug] [2025-12-15T03:43:30.860Z] >>> [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0 "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.create\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T03:43:30.875Z] <<< [apiv2][status] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0 200
[debug] [2025-12-15T03:43:30.875Z] <<< [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0 {}
[info] +  functions[us-central1-onAppointmentCreated]: firestore function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mfirestore\u001b[22m function initialized."}}
[debug] [2025-12-15T03:43:30.876Z] addFirestoreTrigger "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.update\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T03:43:30.876Z] >>> [apiv2][query] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0 [none]
[debug] [2025-12-15T03:43:30.876Z] >>> [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0 "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.update\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T03:43:30.891Z] <<< [apiv2][status] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0 200
[debug] [2025-12-15T03:43:30.891Z] <<< [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0 {}
[info] +  functions[us-central1-onAppointmentUpdated]: firestore function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mfirestore\u001b[22m function initialized."}}
[info] +  functions[us-central1-reserveUsername]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/reserveUsername). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/reserveUsername)."}}
[info] +  functions[us-central1-releaseUsername]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/releaseUsername). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/releaseUsername)."}}
[info] +  functions[us-central1-getEmailForUsername]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/getEmailForUsername). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/getEmailForUsername)."}}
[info] +  functions[us-central1-uploadPermit]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/uploadPermit). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/uploadPermit)."}}
[info] +  functions[us-central1-createAppointment]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/createAppointment). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/createAppointment)."}}
[info] +  functions[us-central1-helloWorld]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/helloWorld). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/helloWorld)."}}
[debug] [2025-12-15T03:43:30.904Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: . If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌────────────────┬────────────────┬──────────────────────────────────┐
│ Emulator       │ Host:Port      │ View in Emulator UI              │
├────────────────┼────────────────┼──────────────────────────────────┤
│ Authentication │ 127.0.0.1:9099 │ http://127.0.0.1:4000/auth       │
├────────────────┼────────────────┼──────────────────────────────────┤
│ Functions      │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions  │
├────────────────┼────────────────┼──────────────────────────────────┤
│ Firestore      │ 127.0.0.1:8080 │ http://127.0.0.1:4000/firestore  │
├────────────────┼────────────────┼──────────────────────────────────┤
│ Extensions     │ 127.0.0.1:5001 │ http://127.0.0.1:4000/extensions │
└────────────────┴────────────────┴──────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500, 9150
┌─────────────────────────┬───────────────┬─────────────────────┐
│ Extension Instance Name │ Extension Ref │ View in Emulator UI │
└─────────────────────────┴───────────────┴─────────────────────┘
Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2025-12-15T03:47:34.557Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast [none]
[debug] [2025-12-15T03:47:34.558Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast {"eventId":"c788297e-77e6-4294-8f2c-d43d84246934","eventType":"providers/firebase.auth/eventTypes/user.create","resource":{"name":"projects/sjpiicd-server","service":"firebaseauth.googleapis.com"},"params":{},"timestamp":"2025-12-15T03:47:34.555Z","data":{"uid":"3kFs2K9lmAp1ZqOHIe52yCzKDzhS","email":"inuzawa@gmail.com","emailVerified":false,"metadata":{"creationTime":"2025-12-15T03:47:34.547Z","lastSignInTime":"2025-12-15T03:47:34.547Z"},"customClaims":{},"providerData":[{"rawId":"inuzawa@gmail.com","providerId":"password","email":"inuzawa@gmail.com","federatedId":"inuzawa@gmail.com"}]}}
[debug] [2025-12-15T03:47:34.600Z] [work-queue] {"queuedWork":["us-central1-setCustomClaimOnSignup-0-2025-12-15T03:47:34.600Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T03:47:34.607Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["us-central1-setCustomClaimOnSignup-0-2025-12-15T03:47:34.600Z"],"workRunningCount":1}
[debug] [2025-12-15T03:47:34.608Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T03:47:34.614Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast 200
[debug] [2025-12-15T03:47:34.615Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2025-12-15T03:47:34.617Z] [work-queue] {"queuedWork":["/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0-2025-12-15T03:47:34.617Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T03:47:34.618Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0-2025-12-15T03:47:34.617Z"],"workRunningCount":1}
[debug] [2025-12-15T03:47:34.619Z] Accepted request POST /functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0 --> us-central1-setCustomClaimOnSignup-0
[debug] [2025-12-15T03:47:34.629Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-12-15T03:47:34.630Z] [functions] Got req.url=/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0, mapping to path=/functions/projects/"}}
[debug] [2025-12-15T03:47:34.675Z] [worker-pool] addWorker(us-central1-setCustomClaimOnSignup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-setCustomClaimOnSignup)"}}
[debug] [2025-12-15T03:47:34.678Z] [worker-pool] Adding worker with key us-central1-setCustomClaimOnSignup, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-setCustomClaimOnSignup, total=1"}}
[debug] [2025-12-15T03:47:40.049Z] [runtime-status] [17988] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [17988] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T03:47:40.054Z] [runtime-status] [17988] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [17988] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T03:47:40.055Z] [runtime-status] [17988] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [17988] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-12-15T03:47:40.057Z] [runtime-status] [17988] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [17988] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T03:47:41.088Z] [runtime-status] [17988] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [17988] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T03:47:41.097Z] [runtime-status] [17988] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [17988] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T03:47:41.688Z] [runtime-status] [17988] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [17988] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-12-15T03:47:41.696Z] [runtime-status] [17988] initializeApp(DEFAULT) {"storageBucket":"sjpiicd-server.firebasestorage.app","projectId":"sjpiicd-server"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [17988] initializeApp(DEFAULT) {\"storageBucket\":\"sjpiicd-server.firebasestorage.app\",\"projectId\":\"sjpiicd-server\"}"}}
[info] >  WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=... {"user":"WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=..."}}
[debug] [2025-12-15T03:47:42.439Z] [runtime-status] [17988] Functions runtime initialized. {"cwd":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions","node_version":"24.11.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [17988] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\",\"node_version\":\"24.11.1\"}"}}
[debug] [2025-12-15T03:47:42.441Z] [runtime-status] [17988] Listening to port: \\?\pipe\fire_emu_2ae7b2aa39c56180 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [17988] Listening to port: \\\\?\\pipe\\fire_emu_2ae7b2aa39c56180"}}
[debug] [2025-12-15T03:47:42.473Z] [worker-us-central1-setCustomClaimOnSignup-6130f58c-b109-4bfb-8f5c-5916f6edb697]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-6130f58c-b109-4bfb-8f5c-5916f6edb697]: IDLE"}}
[debug] [2025-12-15T03:47:42.474Z] [worker-pool] submitRequest(triggerId=us-central1-setCustomClaimOnSignup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-setCustomClaimOnSignup)"}}
[info] i  functions: Beginning execution of "us-central1-setCustomClaimOnSignup" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Beginning execution of \"us-central1-setCustomClaimOnSignup\""}}
[debug] [2025-12-15T03:47:42.475Z] [worker-us-central1-setCustomClaimOnSignup-6130f58c-b109-4bfb-8f5c-5916f6edb697]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-6130f58c-b109-4bfb-8f5c-5916f6edb697]: BUSY"}}
[debug] [2025-12-15T03:47:42.531Z] [runtime-status] [17988] ProcessBackground: lifting resource.name from resource {"name":"projects/sjpiicd-server","service":"firebaseauth.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [17988] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/sjpiicd-server\",\"service\":\"firebaseauth.googleapis.com\"}"}}
[debug] [2025-12-15T03:47:42.532Z] [runtime-status] [17988] RunBackground {"data":{"uid":"3kFs2K9lmAp1ZqOHIe52yCzKDzhS","email":"inuzawa@gmail.com","emailVerified":false,"metadata":{"creationTime":"2025-12-15T03:47:34.547Z","lastSignInTime":"2025-12-15T03:47:34.547Z"},"customClaims":{},"providerData":[{"rawId":"inuzawa@gmail.com","providerId":"password","email":"inuzawa@gmail.com","federatedId":"inuzawa@gmail.com"}]},"context":{"eventId":"c788297e-77e6-4294-8f2c-d43d84246934","eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/sjpiicd-server","params":{},"timestamp":"2025-12-15T03:47:34.555Z"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [17988] RunBackground {\"data\":{\"uid\":\"3kFs2K9lmAp1ZqOHIe52yCzKDzhS\",\"email\":\"inuzawa@gmail.com\",\"emailVerified\":false,\"metadata\":{\"creationTime\":\"2025-12-15T03:47:34.547Z\",\"lastSignInTime\":\"2025-12-15T03:47:34.547Z\"},\"customClaims\":{},\"providerData\":[{\"rawId\":\"inuzawa@gmail.com\",\"providerId\":\"password\",\"email\":\"inuzawa@gmail.com\",\"federatedId\":\"inuzawa@gmail.com\"}]},\"context\":{\"eventId\":\"c788297e-77e6-4294-8f2c-d43d84246934\",\"eventType\":\"providers/firebase.auth/eventTypes/user.create\",\"resource\":\"projects/sjpiicd-server\",\"params\":{},\"timestamp\":\"2025-12-15T03:47:34.555Z\"}}"}}
[info] >  Failed to set custom claim: TypeError: Cannot read properties of undefined (reading 'serverTimestamp') {"user":"Failed to set custom claim: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m Failed to set custom claim: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')"}}
[info] >      at C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:90:31 {"user":"    at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:90:31","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:90:31"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:103:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:103:5)"}}
[info] >      at async runFunction (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:399:9) {"user":"    at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)"}}
[info] >      at async runBackground (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:410:5) {"user":"    at async runBackground (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:410:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runBackground (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:410:5)"}}
[info] >      at async processBackground (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:394:5) {"user":"    at async processBackground (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:394:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async processBackground (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:394:5)"}}
[info] >      at async C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:581:21 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:581:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:581:21"}}
[debug] [2025-12-15T03:47:42.568Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-setCustomClaimOnSignup" in 93.8034ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finished \"us-central1-setCustomClaimOnSignup\" in 93.8034ms"}}
[debug] [2025-12-15T03:47:42.569Z] [worker-us-central1-setCustomClaimOnSignup-6130f58c-b109-4bfb-8f5c-5916f6edb697]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-6130f58c-b109-4bfb-8f5c-5916f6edb697]: IDLE"}}
[debug] [2025-12-15T03:47:42.570Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-12-15T03:47:42.570Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-12-15T03:47:42.570Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T03:47:58.857Z] [work-queue] {"queuedWork":["/sjpiicd-server/us-central1/createAppointment-2025-12-15T03:47:58.857Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T03:47:58.857Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/sjpiicd-server/us-central1/createAppointment-2025-12-15T03:47:58.857Z"],"workRunningCount":1}
[debug] [2025-12-15T03:47:58.857Z] Accepted request POST /sjpiicd-server/us-central1/createAppointment --> us-central1-createAppointment
[debug] [2025-12-15T03:47:58.860Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-12-15T03:47:58.860Z] [functions] Got req.url=/sjpiicd-server/us-central1/createAppointment, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/sjpiicd-server/us-central1/createAppointment, mapping to path=/"}}
[debug] [2025-12-15T03:47:58.873Z] [worker-pool] addWorker(us-central1-createAppointment) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-createAppointment)"}}
[debug] [2025-12-15T03:47:58.873Z] [worker-pool] Adding worker with key us-central1-createAppointment, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-createAppointment, total=1"}}
[debug] [2025-12-15T03:48:02.096Z] [runtime-status] [25792] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [25792] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T03:48:02.099Z] [runtime-status] [25792] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [25792] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T03:48:02.100Z] [runtime-status] [25792] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [25792] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-12-15T03:48:02.103Z] [runtime-status] [25792] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [25792] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T03:48:02.848Z] [runtime-status] [25792] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [25792] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T03:48:02.855Z] [runtime-status] [25792] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [25792] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T03:48:03.266Z] [runtime-status] [25792] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [25792] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-12-15T03:48:03.273Z] [runtime-status] [25792] initializeApp(DEFAULT) {"storageBucket":"sjpiicd-server.firebasestorage.app","projectId":"sjpiicd-server"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [25792] initializeApp(DEFAULT) {\"storageBucket\":\"sjpiicd-server.firebasestorage.app\",\"projectId\":\"sjpiicd-server\"}"}}
[info] >  WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=... {"user":"WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=..."}}
[debug] [2025-12-15T03:48:03.737Z] [runtime-status] [25792] Functions runtime initialized. {"cwd":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions","node_version":"24.11.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [25792] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\",\"node_version\":\"24.11.1\"}"}}
[debug] [2025-12-15T03:48:03.737Z] [runtime-status] [25792] Listening to port: \\?\pipe\fire_emu_a343203c646a02eb {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [25792] Listening to port: \\\\?\\pipe\\fire_emu_a343203c646a02eb"}}
[debug] [2025-12-15T03:48:03.792Z] [worker-us-central1-createAppointment-02bdac5a-d9a4-401f-8a56-fb051708abdb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-02bdac5a-d9a4-401f-8a56-fb051708abdb]: IDLE"}}
[debug] [2025-12-15T03:48:03.792Z] [worker-pool] submitRequest(triggerId=us-central1-createAppointment) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-createAppointment)"}}
[info] i  functions: Beginning execution of "us-central1-createAppointment" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Beginning execution of \"us-central1-createAppointment\""}}
[debug] [2025-12-15T03:48:03.793Z] [worker-us-central1-createAppointment-02bdac5a-d9a4-401f-8a56-fb051708abdb]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-02bdac5a-d9a4-401f-8a56-fb051708abdb]: BUSY"}}
[info] >  {"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"VALID\",\"auth\":\"VALID\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  [createAppointment] Called with data: {"date":"2025-12-15","window":"13:00-14:00"} {"user":"[createAppointment] Called with data: {\"date\":\"2025-12-15\",\"window\":\"13:00-14:00\"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Called with data: {\"date\":\"2025-12-15\",\"window\":\"13:00-14:00\"}"}}
[info] >  [createAppointment] Context auth: 3kFs2K9lmAp1ZqOHIe52yCzKDzhS {"user":"[createAppointment] Context auth: 3kFs2K9lmAp1ZqOHIe52yCzKDzhS","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Context auth: 3kFs2K9lmAp1ZqOHIe52yCzKDzhS"}}
[info] >  [createAppointment] Parsed - uid: 3kFs2K9lmAp1ZqOHIe52yCzKDzhS, date: 2025-12-15, window: 13:00-14:00 {"user":"[createAppointment] Parsed - uid: 3kFs2K9lmAp1ZqOHIe52yCzKDzhS, date: 2025-12-15, window: 13:00-14:00","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Parsed - uid: 3kFs2K9lmAp1ZqOHIe52yCzKDzhS, date: 2025-12-15, window: 13:00-14:00"}}
[info] >  [createAppointment] Checking appointment limit... {"user":"[createAppointment] Checking appointment limit...","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Checking appointment limit..."}}
[info] >  [createAppointment] Appointment limit check passed {"user":"[createAppointment] Appointment limit check passed","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Appointment limit check passed"}}
[info] >  [createAppointment] Starting transaction - apptId: 3kFs2K9lmAp1ZqOHIe52yCzKDzhS_2025-12-15_13:00-14:00, slotId: 2025-12-15_13:00-14:00 {"user":"[createAppointment] Starting transaction - apptId: 3kFs2K9lmAp1ZqOHIe52yCzKDzhS_2025-12-15_13:00-14:00, slotId: 2025-12-15_13:00-14:00","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Starting transaction - apptId: 3kFs2K9lmAp1ZqOHIe52yCzKDzhS_2025-12-15_13:00-14:00, slotId: 2025-12-15_13:00-14:00"}}
[info] >  [createAppointment] Inside transaction - checking existing appointment {"user":"[createAppointment] Inside transaction - checking existing appointment","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Inside transaction - checking existing appointment"}}
[info] >  [createAppointment] Checking slot availability {"user":"[createAppointment] Checking slot availability","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Checking slot availability"}}
[info] >  [createAppointment] Slot does not exist, will create new {"user":"[createAppointment] Slot does not exist, will create new","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Slot does not exist, will create new"}}
[info] >  [createAppointment] Creating appointment document {"user":"[createAppointment] Creating appointment document","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Creating appointment document"}}
[info] >  [createAppointment] Transaction failed with error: TypeError: Cannot read properties of undefined (reading 'serverTimestamp') {"user":"[createAppointment] Transaction failed with error: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Transaction failed with error: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')"}}
[info] >      at C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:551:31 {"user":"    at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:551:31","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:551:31"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:103:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:103:5)"}}
[info] >      at async Transaction.runTransactionOnce (C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\@google-cloud\firestore\build\src\transaction.js:440:28) {"user":"    at async Transaction.runTransactionOnce (C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:440:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async Transaction.runTransactionOnce (C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:440:28)"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\@google-cloud\firestore\build\src\transaction.js:412:28 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:412:28","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:412:28"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:508:20 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:508:20","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:508:20"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\firebase-functions\lib\common\providers\https.js:458:26 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:458:26","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:458:26"}}
[info] >      at async runFunction (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:399:9) {"user":"    at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)"}}
[info] >      at async runHTTPS (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:424:5) {"user":"    at async runHTTPS (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:424:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runHTTPS (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:424:5)"}}
[info] >      at async C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:585:21 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:585:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:585:21"}}
[debug] [2025-12-15T03:48:04.886Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-createAppointment" in 1092.8073ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Finished \"us-central1-createAppointment\" in 1092.8073ms"}}
[debug] [2025-12-15T03:48:04.887Z] [worker-us-central1-createAppointment-02bdac5a-d9a4-401f-8a56-fb051708abdb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-02bdac5a-d9a4-401f-8a56-fb051708abdb]: IDLE"}}
[debug] [2025-12-15T03:48:04.887Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-12-15T03:48:04.887Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-12-15T03:48:04.887Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [createAppointment] Error name: TypeError {"user":"[createAppointment] Error name: TypeError","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Error name: TypeError"}}
[info] >  [createAppointment] Error message: Cannot read properties of undefined (reading 'serverTimestamp') {"user":"[createAppointment] Error message: Cannot read properties of undefined (reading 'serverTimestamp')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Error message: Cannot read properties of undefined (reading 'serverTimestamp')"}}
[info] >  [createAppointment] Error stack: TypeError: Cannot read properties of undefined (reading 'serverTimestamp') {"user":"[createAppointment] Error stack: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Error stack: TypeError: Cannot read properties of undefined (reading 'serverTimestamp')"}}
[info] >      at C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:551:31 {"user":"    at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:551:31","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:551:31"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:103:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:103:5)"}}
[info] >      at async Transaction.runTransactionOnce (C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\@google-cloud\firestore\build\src\transaction.js:440:28) {"user":"    at async Transaction.runTransactionOnce (C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:440:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async Transaction.runTransactionOnce (C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:440:28)"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\@google-cloud\firestore\build\src\transaction.js:412:28 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:412:28","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\@google-cloud\\firestore\\build\\src\\transaction.js:412:28"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:508:20 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:508:20","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js:508:20"}}
[info] >      at async C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\firebase-functions\lib\common\providers\https.js:458:26 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:458:26","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:458:26"}}
[info] >      at async runFunction (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:399:9) {"user":"    at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runFunction (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:399:9)"}}
[info] >      at async runHTTPS (C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:424:5) {"user":"    at async runHTTPS (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:424:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runHTTPS (C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:424:5)"}}
[info] >      at async C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:585:21 {"user":"    at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:585:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:585:21"}}
[debug] [2025-12-15T03:52:12.202Z] File C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js changed, reloading triggers"}}
[debug] [2025-12-15T03:52:13.215Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-12-15T03:52:16.300Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "start": "firebase emulators:start --only functions,firestore,auth,storage",
    "deploy": "firebase deploy --only functions"
  },
  "dependencies": {
    "cloudinary": "^2.8.0",
    "firebase-admin": "^15.0.0",
    "firebase-functions": "^4.9.0",
    "uuid": "^9.0.0"
  },
  "engines": {
    "node": "18"
  }
}
[debug] [2025-12-15T03:52:16.300Z] Building nodejs source
[debug] [2025-12-15T03:52:16.300Z] Failed to find version of module node: reached end of search path C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "24". Using node@24 from host. 
[info] i  functions: You are using a version of firebase-functions SDK (4.9.0) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly 
[debug] [2025-12-15T03:52:16.303Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-12-15T03:52:16.315Z] Found firebase-functions binary at 'C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8244

[error] C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js:552
        createdByFunction: true
        ^^^^^^^^^^^^^^^^^

SyntaxError: Unexpected identifier 'createdByFunction'
    at wrapSafe (node:internal/modules/cjs/loader:1692:18)
    at Module._compile (node:internal/modules/cjs/loader:1735:20)
    at Object..js (node:internal/modules/cjs/loader:1893:10)
    at Module.load (node:internal/modules/cjs/loader:1481:32)
    at Module._load (node:internal/modules/cjs/loader:1300:12)
    at TracingChannel.traceSync (node:diagnostics_channel:328:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)
    at Module.require (node:internal/modules/cjs/loader:1504:12)
    at require (node:internal/modules/helpers:152:16)
    at loadModule (C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)

[debug] [2025-12-15T03:52:17.066Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected identifier 'createdByFunction'
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-12-15T03:52:24.786Z] File C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js changed, reloading triggers"}}
[debug] [2025-12-15T03:52:25.788Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-12-15T03:52:28.112Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "start": "firebase emulators:start --only functions,firestore,auth,storage",
    "deploy": "firebase deploy --only functions"
  },
  "dependencies": {
    "cloudinary": "^2.8.0",
    "firebase-admin": "^15.0.0",
    "firebase-functions": "^4.9.0",
    "uuid": "^9.0.0"
  },
  "engines": {
    "node": "18"
  }
}
[debug] [2025-12-15T03:52:28.112Z] Building nodejs source
[debug] [2025-12-15T03:52:28.113Z] Failed to find version of module node: reached end of search path C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "24". Using node@24 from host. 
[info] i  functions: You are using a version of firebase-functions SDK (4.9.0) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly 
[debug] [2025-12-15T03:52:28.117Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-12-15T03:52:28.132Z] Found firebase-functions binary at 'C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8026

[error] WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...

[debug] [2025-12-15T03:52:30.703Z] Got response from /__/functions.yaml {"endpoints":{"setCustomClaimOnSignup":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/sjpiicd-server"},"retry":false},"labels":{},"entryPoint":"setCustomClaimOnSignup"},"onAppointmentPaid":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentPaid"},"onAppointmentCreated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentCreated"},"onAppointmentUpdated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentUpdated"},"reserveUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"reserveUsername"},"releaseUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"releaseUsername"},"getEmailForUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getEmailForUsername"},"uploadPermit":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"uploadPermit"},"createAppointment":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createAppointment"},"helloWorld":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"helloWorld"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld."}}
[debug] [2025-12-15T03:52:34.770Z] [worker-pool] Shutting down IDLE worker (us-central1-setCustomClaimOnSignup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-setCustomClaimOnSignup)"}}
[debug] [2025-12-15T03:52:34.770Z] [worker-us-central1-setCustomClaimOnSignup-6130f58c-b109-4bfb-8f5c-5916f6edb697]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-6130f58c-b109-4bfb-8f5c-5916f6edb697]: FINISHING"}}
[debug] [2025-12-15T03:52:34.771Z] [worker-pool] Shutting down IDLE worker (us-central1-createAppointment) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-createAppointment)"}}
[debug] [2025-12-15T03:52:34.771Z] [worker-us-central1-createAppointment-02bdac5a-d9a4-401f-8a56-fb051708abdb]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-02bdac5a-d9a4-401f-8a56-fb051708abdb]: FINISHING"}}
[debug] [2025-12-15T03:52:34.793Z] [worker-us-central1-setCustomClaimOnSignup-6130f58c-b109-4bfb-8f5c-5916f6edb697]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-6130f58c-b109-4bfb-8f5c-5916f6edb697]: exited"}}
[debug] [2025-12-15T03:52:34.794Z] [worker-us-central1-setCustomClaimOnSignup-6130f58c-b109-4bfb-8f5c-5916f6edb697]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-6130f58c-b109-4bfb-8f5c-5916f6edb697]: FINISHED"}}
[debug] [2025-12-15T03:52:34.796Z] [worker-us-central1-createAppointment-02bdac5a-d9a4-401f-8a56-fb051708abdb]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-02bdac5a-d9a4-401f-8a56-fb051708abdb]: exited"}}
[debug] [2025-12-15T03:52:34.796Z] [worker-us-central1-createAppointment-02bdac5a-d9a4-401f-8a56-fb051708abdb]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-02bdac5a-d9a4-401f-8a56-fb051708abdb]: FINISHED"}}
[debug] [2025-12-15T03:52:45.921Z] File C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js changed, reloading triggers"}}
[debug] [2025-12-15T03:52:46.928Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-12-15T03:52:49.208Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "start": "firebase emulators:start --only functions,firestore,auth,storage",
    "deploy": "firebase deploy --only functions"
  },
  "dependencies": {
    "cloudinary": "^2.8.0",
    "firebase-admin": "^15.0.0",
    "firebase-functions": "^4.9.0",
    "uuid": "^9.0.0"
  },
  "engines": {
    "node": "18"
  }
}
[debug] [2025-12-15T03:52:49.209Z] Building nodejs source
[debug] [2025-12-15T03:52:49.209Z] Failed to find version of module node: reached end of search path C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "24". Using node@24 from host. 
[info] i  functions: You are using a version of firebase-functions SDK (4.9.0) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly 
[debug] [2025-12-15T03:52:49.212Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-12-15T03:52:49.224Z] Found firebase-functions binary at 'C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8652

[error] WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...

[debug] [2025-12-15T03:52:52.027Z] Got response from /__/functions.yaml {"endpoints":{"setCustomClaimOnSignup":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/sjpiicd-server"},"retry":false},"labels":{},"entryPoint":"setCustomClaimOnSignup"},"onAppointmentPaid":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentPaid"},"onAppointmentCreated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentCreated"},"onAppointmentUpdated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentUpdated"},"reserveUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"reserveUsername"},"releaseUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"releaseUsername"},"getEmailForUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getEmailForUsername"},"uploadPermit":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"uploadPermit"},"createAppointment":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createAppointment"},"helloWorld":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"helloWorld"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld."}}
[debug] [2025-12-15T03:59:06.422Z] File C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js changed, reloading triggers"}}
[debug] [2025-12-15T03:59:07.432Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-12-15T03:59:09.656Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "start": "firebase emulators:start --only functions,firestore,auth,storage",
    "deploy": "firebase deploy --only functions"
  },
  "dependencies": {
    "cloudinary": "^2.8.0",
    "firebase-admin": "^15.0.0",
    "firebase-functions": "^4.9.0",
    "uuid": "^9.0.0"
  },
  "engines": {
    "node": "18"
  }
}
[debug] [2025-12-15T03:59:09.657Z] Building nodejs source
[debug] [2025-12-15T03:59:09.657Z] Failed to find version of module node: reached end of search path C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "24". Using node@24 from host. 
[info] i  functions: You are using a version of firebase-functions SDK (4.9.0) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly 
[debug] [2025-12-15T03:59:09.661Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-12-15T03:59:09.679Z] Found firebase-functions binary at 'C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8515

[error] WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...

[debug] [2025-12-15T03:59:12.094Z] Got response from /__/functions.yaml {"endpoints":{"setCustomClaimOnSignup":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/sjpiicd-server"},"retry":false},"labels":{},"entryPoint":"setCustomClaimOnSignup"},"onAppointmentPaid":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentPaid"},"onAppointmentCreated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentCreated"},"onAppointmentUpdated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentUpdated"},"reserveUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"reserveUsername"},"releaseUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"releaseUsername"},"getEmailForUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getEmailForUsername"},"uploadPermit":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"uploadPermit"},"createAppointment":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createAppointment"},"helloWorld":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"helloWorld"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld."}}
[debug] [2025-12-15T03:59:42.452Z] File C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js changed, reloading triggers"}}
[debug] [2025-12-15T03:59:43.463Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-12-15T03:59:45.849Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "start": "firebase emulators:start --only functions,firestore,auth,storage",
    "deploy": "firebase deploy --only functions"
  },
  "dependencies": {
    "cloudinary": "^2.8.0",
    "firebase-admin": "^15.0.0",
    "firebase-functions": "^4.9.0",
    "uuid": "^9.0.0"
  },
  "engines": {
    "node": "18"
  }
}
[debug] [2025-12-15T03:59:45.849Z] Building nodejs source
[debug] [2025-12-15T03:59:45.849Z] Failed to find version of module node: reached end of search path C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "24". Using node@24 from host. 
[info] i  functions: You are using a version of firebase-functions SDK (4.9.0) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly 
[debug] [2025-12-15T03:59:45.851Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-12-15T03:59:45.866Z] Found firebase-functions binary at 'C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8185

[error] WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...

[debug] [2025-12-15T03:59:48.727Z] Got response from /__/functions.yaml {"endpoints":{"setCustomClaimOnSignup":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/sjpiicd-server"},"retry":false},"labels":{},"entryPoint":"setCustomClaimOnSignup"},"onAppointmentPaid":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentPaid"},"onAppointmentCreated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentCreated"},"onAppointmentUpdated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentUpdated"},"reserveUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"reserveUsername"},"releaseUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"releaseUsername"},"getEmailForUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getEmailForUsername"},"uploadPermit":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"uploadPermit"},"createAppointment":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createAppointment"},"helloWorld":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"helloWorld"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2025-12-15T03:59:51.343Z] File C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\index.js changed, reloading triggers"}}
[debug] [2025-12-15T03:59:52.352Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-12-15T03:59:54.667Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "start": "firebase emulators:start --only functions,firestore,auth,storage",
    "deploy": "firebase deploy --only functions"
  },
  "dependencies": {
    "cloudinary": "^2.8.0",
    "firebase-admin": "^15.0.0",
    "firebase-functions": "^4.9.0",
    "uuid": "^9.0.0"
  },
  "engines": {
    "node": "18"
  }
}
[debug] [2025-12-15T03:59:54.667Z] Building nodejs source
[debug] [2025-12-15T03:59:54.667Z] Failed to find version of module node: reached end of search path C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "24". Using node@24 from host. 
[info] i  functions: You are using a version of firebase-functions SDK (4.9.0) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly 
[debug] [2025-12-15T03:59:54.669Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-12-15T03:59:54.682Z] Found firebase-functions binary at 'C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld."}}
[info] Serving at port 8727

[error] WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...

[debug] [2025-12-15T03:59:56.828Z] Got response from /__/functions.yaml {"endpoints":{"setCustomClaimOnSignup":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/sjpiicd-server"},"retry":false},"labels":{},"entryPoint":"setCustomClaimOnSignup"},"onAppointmentPaid":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentPaid"},"onAppointmentCreated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentCreated"},"onAppointmentUpdated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentUpdated"},"reserveUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"reserveUsername"},"releaseUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"releaseUsername"},"getEmailForUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getEmailForUsername"},"uploadPermit":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"uploadPermit"},"createAppointment":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createAppointment"},"helloWorld":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"helloWorld"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld."}}
[debug] [2025-12-15T04:01:40.896Z] ----------------------------------------------------------------------
[debug] [2025-12-15T04:01:40.903Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Jeffrey Autentico\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start
[debug] [2025-12-15T04:01:40.903Z] CLI Version:   15.0.0
[debug] [2025-12-15T04:01:40.903Z] Platform:      win32
[debug] [2025-12-15T04:01:40.904Z] Node Version:  v24.11.1
[debug] [2025-12-15T04:01:40.904Z] Time:          Mon Dec 15 2025 12:01:40 GMT+0800 (Philippine Standard Time)
[debug] [2025-12-15T04:01:40.904Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-12-15T04:01:45.228Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-12-15T04:01:45.228Z] > authorizing via signed-in user (jeffreyautentico7@gmail.com)
[debug] [2025-12-15T04:01:45.464Z] java version "25.0.1" 2025-10-21 LTS

[debug] [2025-12-15T04:01:45.465Z] Java(TM) SE Runtime Environment (build 25.0.1+8-LTS-27)
Java HotSpot(TM) 64-Bit Server VM (build 25.0.1+8-LTS-27, mixed mode, sharing)

[debug] [2025-12-15T04:01:45.487Z] Parsed Java major version: 25
[info] i  emulators: Starting emulators: auth, functions, firestore, extensions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: auth, functions, firestore, extensions"}}
[debug] [2025-12-15T04:01:45.491Z] Checked if tokens are valid: true, expires at: 1765772853004
[debug] [2025-12-15T04:01:45.492Z] Checked if tokens are valid: true, expires at: 1765772853004
[debug] [2025-12-15T04:01:45.493Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/sjpiicd-server [none]
[debug] [2025-12-15T04:01:46.691Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/sjpiicd-server 200
[debug] [2025-12-15T04:01:46.691Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/sjpiicd-server {"projectNumber":"355997838626","projectId":"sjpiicd-server","lifecycleState":"ACTIVE","name":"sjpiicd server","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-11-19T14:33:00.642127Z"}
[debug] [2025-12-15T04:01:46.718Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T04:01:46.718Z] [auth] Authentication Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T04:01:46.719Z] [firestore] Firestore Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T04:01:46.719Z] [firestore.websocket] websocket server for firestore only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T04:01:46.719Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"auth":[{"address":"127.0.0.1","family":"IPv4","port":9099}],"firestore":[{"address":"127.0.0.1","family":"IPv4","port":8080}],"firestore.websocket":[{"address":"127.0.0.1","family":"IPv4","port":9150}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2025-12-15T04:01:46.729Z] Emulator locator file path: C:\Users\JEFFRE~1\AppData\Local\Temp\hub-sjpiicd-server.json
[warn] !  emulators: It seems that you are running multiple instances of the emulator suite for project sjpiicd-server. This may result in unexpected behavior. 
[debug] [2025-12-15T04:01:46.730Z] [hub] writing locator at C:\Users\JEFFRE~1\AppData\Local\Temp\hub-sjpiicd-server.json
[debug] [2025-12-15T04:01:46.746Z] [Extensions] Started Extensions emulator, this is a noop.
[debug] [2025-12-15T04:01:46.759Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T04:01:46.759Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T04:01:46.759Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-12-15T04:01:46.760Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"auth":[{"address":"127.0.0.1","family":"IPv4","port":9099}],"firestore":[{"address":"127.0.0.1","family":"IPv4","port":8080}],"firestore.websocket":[{"address":"127.0.0.1","family":"IPv4","port":9150}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, database, hosting, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, database, hosting, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-12-15T04:01:46.837Z] defaultcredentials: writing to file C:\Users\Jeffrey Autentico\AppData\Roaming\firebase\jeffreyautentico7_gmail_com_application_default_credentials.json
[debug] [2025-12-15T04:01:46.840Z] Setting GAC to C:\Users\Jeffrey Autentico\AppData\Roaming\firebase\jeffreyautentico7_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Jeffrey Autentico\\AppData\\Roaming\\firebase\\jeffreyautentico7_gmail_com_application_default_credentials.json"}}
[debug] [2025-12-15T04:01:46.840Z] Checked if tokens are valid: true, expires at: 1765772853004
[debug] [2025-12-15T04:01:46.840Z] Checked if tokens are valid: true, expires at: 1765772853004
[debug] [2025-12-15T04:01:46.841Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/sjpiicd-server/adminSdkConfig [none]
[debug] [2025-12-15T04:01:47.812Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/sjpiicd-server/adminSdkConfig 200
[debug] [2025-12-15T04:01:47.812Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/sjpiicd-server/adminSdkConfig {"projectId":"sjpiicd-server","storageBucket":"sjpiicd-server.firebasestorage.app"}
[warn] !  firestore: Cloud Firestore Emulator does not support multiple databases yet. {"metadata":{"emulator":{"name":"firestore"},"message":"Cloud Firestore Emulator does not support multiple databases yet."}}
[warn] !  firestore: Did not find a Cloud Firestore rules file specified in a firebase.json config file. {"metadata":{"emulator":{"name":"firestore"},"message":"Did not find a Cloud Firestore rules file specified in a firebase.json config file."}}
[warn] !  firestore: The emulator will default to allowing all reads and writes. Learn more about this option: https://firebase.google.com/docs/emulator-suite/install_and_configure#security_rules_configuration. {"metadata":{"emulator":{"name":"firestore"},"message":"The emulator will default to allowing all reads and writes. Learn more about this option: https://firebase.google.com/docs/emulator-suite/install_and_configure#security_rules_configuration."}}
[debug] [2025-12-15T04:01:47.910Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2025-12-15T04:01:47.910Z] Ignoring unsupported arg: single_project_mode_error {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: single_project_mode_error"}}
[debug] [2025-12-15T04:01:47.910Z] Starting Firestore Emulator with command {"binary":"java","args":["-Dgoogle.cloud_firestore.debug_log_level=FINE","-Duser.language=en","-jar","C:\\Users\\Jeffrey Autentico\\.cache\\firebase\\emulators\\cloud-firestore-emulator-v1.20.2.jar","--host","127.0.0.1","--port",8080,"--websocket_port",9150,"--project_id","sjpiicd-server","--single_project_mode",true,"--functions_emulator","127.0.0.1:5001"],"optionalArgs":["port","webchannel_port","host","rules","websocket_port","functions_emulator","seed_from_export","project_id","single_project_mode"],"joinArgs":false,"shell":false,"port":8080} {"metadata":{"emulator":{"name":"firestore"},"message":"Starting Firestore Emulator with command {\"binary\":\"java\",\"args\":[\"-Dgoogle.cloud_firestore.debug_log_level=FINE\",\"-Duser.language=en\",\"-jar\",\"C:\\\\Users\\\\Jeffrey Autentico\\\\.cache\\\\firebase\\\\emulators\\\\cloud-firestore-emulator-v1.20.2.jar\",\"--host\",\"127.0.0.1\",\"--port\",8080,\"--websocket_port\",9150,\"--project_id\",\"sjpiicd-server\",\"--single_project_mode\",true,\"--functions_emulator\",\"127.0.0.1:5001\"],\"optionalArgs\":[\"port\",\"webchannel_port\",\"host\",\"rules\",\"websocket_port\",\"functions_emulator\",\"seed_from_export\",\"project_id\",\"single_project_mode\"],\"joinArgs\":false,\"shell\":false,\"port\":8080}"}}
[info] i  firestore: Firestore Emulator logging to firestore-debug.log {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator logging to \u001b[1mfirestore-debug.log\u001b[22m"}}
[info] +  firestore: Firestore Emulator UI websocket is running on 9150. {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator UI websocket is running on 9150."}}
[debug] [2025-12-15T04:02:03.414Z] [Extensions] Connecting Extensions emulator, this is a noop.
[info] i  functions: Watching "C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\" for Cloud Functions..."}}
[debug] [2025-12-15T04:02:03.425Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-12-15T04:02:05.667Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "start": "firebase emulators:start --only functions,firestore,auth,storage",
    "deploy": "firebase deploy --only functions"
  },
  "dependencies": {
    "cloudinary": "^2.8.0",
    "firebase-admin": "^15.0.0",
    "firebase-functions": "^4.9.0",
    "uuid": "^9.0.0"
  },
  "engines": {
    "node": "18"
  }
}
[debug] [2025-12-15T04:02:05.668Z] Building nodejs source
[debug] [2025-12-15T04:02:05.669Z] Failed to find version of module node: reached end of search path C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "24". Using node@24 from host. 
[info] i  functions: You are using a version of firebase-functions SDK (4.9.0) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly 
[debug] [2025-12-15T04:02:05.674Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-12-15T04:02:05.688Z] Found firebase-functions binary at 'C:\Users\Jeffrey Autentico\AndroidStudioProjects\SJPIICDApp\sjpiicd_cloudbase_functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8274

[error] WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...

[debug] [2025-12-15T04:02:08.031Z] Got response from /__/functions.yaml {"endpoints":{"setCustomClaimOnSignup":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/sjpiicd-server"},"retry":false},"labels":{},"entryPoint":"setCustomClaimOnSignup"},"onAppointmentPaid":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentPaid"},"onAppointmentCreated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentCreated"},"onAppointmentUpdated":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}"},"retry":false},"labels":{},"entryPoint":"onAppointmentUpdated"},"reserveUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"reserveUsername"},"releaseUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"releaseUsername"},"getEmailForUsername":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getEmailForUsername"},"uploadPermit":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"uploadPermit"},"createAppointment":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createAppointment"},"helloWorld":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"helloWorld"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: setCustomClaimOnSignup, onAppointmentPaid, onAppointmentCreated, onAppointmentUpdated, reserveUsername, releaseUsername, getEmailForUsername, uploadPermit, createAppointment, helloWorld."}}
[debug] [2025-12-15T04:02:12.111Z] addAuthTrigger {"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/sjpiicd-server"}}
[info] +  functions[us-central1-setCustomClaimOnSignup]: auth function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mauth\u001b[22m function initialized."}}
[debug] [2025-12-15T04:02:12.113Z] addFirestoreTrigger "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.update\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T04:02:12.114Z] >>> [apiv2][query] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0 [none]
[debug] [2025-12-15T04:02:12.114Z] >>> [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0 "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.update\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T04:02:13.604Z] <<< [apiv2][status] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0 200
[debug] [2025-12-15T04:02:13.605Z] <<< [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0 {}
[info] +  functions[us-central1-onAppointmentPaid]: firestore function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mfirestore\u001b[22m function initialized."}}
[debug] [2025-12-15T04:02:13.606Z] addFirestoreTrigger "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.create\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T04:02:13.606Z] >>> [apiv2][query] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0 [none]
[debug] [2025-12-15T04:02:13.606Z] >>> [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0 "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.create\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T04:02:13.622Z] <<< [apiv2][status] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0 200
[debug] [2025-12-15T04:02:13.622Z] <<< [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0 {}
[info] +  functions[us-central1-onAppointmentCreated]: firestore function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mfirestore\u001b[22m function initialized."}}
[debug] [2025-12-15T04:02:13.623Z] addFirestoreTrigger "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.update\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T04:02:13.623Z] >>> [apiv2][query] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0 [none]
[debug] [2025-12-15T04:02:13.623Z] >>> [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0 "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.update\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/{appointmentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2025-12-15T04:02:13.637Z] <<< [apiv2][status] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0 200
[debug] [2025-12-15T04:02:13.638Z] <<< [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0 {}
[info] +  functions[us-central1-onAppointmentUpdated]: firestore function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mfirestore\u001b[22m function initialized."}}
[info] +  functions[us-central1-reserveUsername]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/reserveUsername). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/reserveUsername)."}}
[info] +  functions[us-central1-releaseUsername]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/releaseUsername). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/releaseUsername)."}}
[info] +  functions[us-central1-getEmailForUsername]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/getEmailForUsername). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/getEmailForUsername)."}}
[info] +  functions[us-central1-uploadPermit]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/uploadPermit). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/uploadPermit)."}}
[info] +  functions[us-central1-createAppointment]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/createAppointment). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/createAppointment)."}}
[info] +  functions[us-central1-helloWorld]: http function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/helloWorld). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/sjpiicd-server/us-central1/helloWorld)."}}
[debug] [2025-12-15T04:02:13.653Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: . If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌────────────────┬────────────────┬──────────────────────────────────┐
│ Emulator       │ Host:Port      │ View in Emulator UI              │
├────────────────┼────────────────┼──────────────────────────────────┤
│ Authentication │ 127.0.0.1:9099 │ http://127.0.0.1:4000/auth       │
├────────────────┼────────────────┼──────────────────────────────────┤
│ Functions      │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions  │
├────────────────┼────────────────┼──────────────────────────────────┤
│ Firestore      │ 127.0.0.1:8080 │ http://127.0.0.1:4000/firestore  │
├────────────────┼────────────────┼──────────────────────────────────┤
│ Extensions     │ 127.0.0.1:5001 │ http://127.0.0.1:4000/extensions │
└────────────────┴────────────────┴──────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500, 9150
┌─────────────────────────┬───────────────┬─────────────────────┐
│ Extension Instance Name │ Extension Ref │ View in Emulator UI │
└─────────────────────────┴───────────────┴─────────────────────┘
Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2025-12-15T04:06:35.238Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast [none]
[debug] [2025-12-15T04:06:35.242Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast {"eventId":"1c8da87c-3fb7-46de-ac77-c77f74339682","eventType":"providers/firebase.auth/eventTypes/user.create","resource":{"name":"projects/sjpiicd-server","service":"firebaseauth.googleapis.com"},"params":{},"timestamp":"2025-12-15T04:06:35.234Z","data":{"uid":"mRYmQVK6eMBYpDw1FWU1gOzK4DYF","email":"inuzawa@gmail.com","emailVerified":false,"metadata":{"creationTime":"2025-12-15T04:06:35.222Z","lastSignInTime":"2025-12-15T04:06:35.222Z"},"customClaims":{},"providerData":[{"rawId":"inuzawa@gmail.com","providerId":"password","email":"inuzawa@gmail.com","federatedId":"inuzawa@gmail.com"}]}}
[debug] [2025-12-15T04:06:35.308Z] [work-queue] {"queuedWork":["us-central1-setCustomClaimOnSignup-0-2025-12-15T04:06:35.306Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T04:06:35.316Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["us-central1-setCustomClaimOnSignup-0-2025-12-15T04:06:35.306Z"],"workRunningCount":1}
[debug] [2025-12-15T04:06:35.317Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T04:06:35.322Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast 200
[debug] [2025-12-15T04:06:35.323Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2025-12-15T04:06:35.326Z] [work-queue] {"queuedWork":["/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0-2025-12-15T04:06:35.326Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T04:06:35.326Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0-2025-12-15T04:06:35.326Z"],"workRunningCount":1}
[debug] [2025-12-15T04:06:35.327Z] Accepted request POST /functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0 --> us-central1-setCustomClaimOnSignup-0
[debug] [2025-12-15T04:06:35.340Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-12-15T04:06:35.341Z] [functions] Got req.url=/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0, mapping to path=/functions/projects/"}}
[debug] [2025-12-15T04:06:35.388Z] [worker-pool] addWorker(us-central1-setCustomClaimOnSignup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-setCustomClaimOnSignup)"}}
[debug] [2025-12-15T04:06:35.390Z] [worker-pool] Adding worker with key us-central1-setCustomClaimOnSignup, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-setCustomClaimOnSignup, total=1"}}
[debug] [2025-12-15T04:06:40.421Z] [runtime-status] [31436] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [31436] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T04:06:40.429Z] [runtime-status] [31436] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [31436] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T04:06:40.430Z] [runtime-status] [31436] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [31436] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-12-15T04:06:40.434Z] [runtime-status] [31436] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [31436] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T04:06:41.702Z] [runtime-status] [31436] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [31436] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T04:06:41.711Z] [runtime-status] [31436] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [31436] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T04:06:42.283Z] [runtime-status] [31436] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [31436] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-12-15T04:06:42.289Z] [runtime-status] [31436] initializeApp(DEFAULT) {"storageBucket":"sjpiicd-server.firebasestorage.app","projectId":"sjpiicd-server"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [31436] initializeApp(DEFAULT) {\"storageBucket\":\"sjpiicd-server.firebasestorage.app\",\"projectId\":\"sjpiicd-server\"}"}}
[info] >  WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=... {"user":"WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=..."}}
[debug] [2025-12-15T04:06:42.823Z] [runtime-status] [31436] Functions runtime initialized. {"cwd":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions","node_version":"24.11.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [31436] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\",\"node_version\":\"24.11.1\"}"}}
[debug] [2025-12-15T04:06:42.824Z] [runtime-status] [31436] Listening to port: \\?\pipe\fire_emu_729d9720282d48f3 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [31436] Listening to port: \\\\?\\pipe\\fire_emu_729d9720282d48f3"}}
[debug] [2025-12-15T04:06:42.874Z] [worker-us-central1-setCustomClaimOnSignup-f020a6ff-57ae-47ba-99a1-a070e6f9b566]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-f020a6ff-57ae-47ba-99a1-a070e6f9b566]: IDLE"}}
[debug] [2025-12-15T04:06:42.875Z] [worker-pool] submitRequest(triggerId=us-central1-setCustomClaimOnSignup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-setCustomClaimOnSignup)"}}
[info] i  functions: Beginning execution of "us-central1-setCustomClaimOnSignup" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Beginning execution of \"us-central1-setCustomClaimOnSignup\""}}
[debug] [2025-12-15T04:06:42.876Z] [worker-us-central1-setCustomClaimOnSignup-f020a6ff-57ae-47ba-99a1-a070e6f9b566]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-f020a6ff-57ae-47ba-99a1-a070e6f9b566]: BUSY"}}
[debug] [2025-12-15T04:06:42.910Z] [runtime-status] [31436] ProcessBackground: lifting resource.name from resource {"name":"projects/sjpiicd-server","service":"firebaseauth.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [31436] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/sjpiicd-server\",\"service\":\"firebaseauth.googleapis.com\"}"}}
[debug] [2025-12-15T04:06:42.911Z] [runtime-status] [31436] RunBackground {"data":{"uid":"mRYmQVK6eMBYpDw1FWU1gOzK4DYF","email":"inuzawa@gmail.com","emailVerified":false,"metadata":{"creationTime":"2025-12-15T04:06:35.222Z","lastSignInTime":"2025-12-15T04:06:35.222Z"},"customClaims":{},"providerData":[{"rawId":"inuzawa@gmail.com","providerId":"password","email":"inuzawa@gmail.com","federatedId":"inuzawa@gmail.com"}]},"context":{"eventId":"1c8da87c-3fb7-46de-ac77-c77f74339682","eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/sjpiicd-server","params":{},"timestamp":"2025-12-15T04:06:35.234Z"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [31436] RunBackground {\"data\":{\"uid\":\"mRYmQVK6eMBYpDw1FWU1gOzK4DYF\",\"email\":\"inuzawa@gmail.com\",\"emailVerified\":false,\"metadata\":{\"creationTime\":\"2025-12-15T04:06:35.222Z\",\"lastSignInTime\":\"2025-12-15T04:06:35.222Z\"},\"customClaims\":{},\"providerData\":[{\"rawId\":\"inuzawa@gmail.com\",\"providerId\":\"password\",\"email\":\"inuzawa@gmail.com\",\"federatedId\":\"inuzawa@gmail.com\"}]},\"context\":{\"eventId\":\"1c8da87c-3fb7-46de-ac77-c77f74339682\",\"eventType\":\"providers/firebase.auth/eventTypes/user.create\",\"resource\":\"projects/sjpiicd-server\",\"params\":{},\"timestamp\":\"2025-12-15T04:06:35.234Z\"}}"}}
[info] >  User mRYmQVK6eMBYpDw1FWU1gOzK4DYF created with role: guest {"user":"User mRYmQVK6eMBYpDw1FWU1gOzK4DYF created with role: guest","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m User mRYmQVK6eMBYpDw1FWU1gOzK4DYF created with role: guest"}}
[debug] [2025-12-15T04:06:44.150Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-setCustomClaimOnSignup" in 1273.5353ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finished \"us-central1-setCustomClaimOnSignup\" in 1273.5353ms"}}
[debug] [2025-12-15T04:06:44.151Z] [worker-us-central1-setCustomClaimOnSignup-f020a6ff-57ae-47ba-99a1-a070e6f9b566]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-f020a6ff-57ae-47ba-99a1-a070e6f9b566]: IDLE"}}
[debug] [2025-12-15T04:06:44.151Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-12-15T04:06:44.151Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-12-15T04:06:44.152Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T04:07:31.122Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast [none]
[debug] [2025-12-15T04:07:31.123Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast {"eventId":"f854736c-e17a-481a-b4c1-8ac7b81d67ad","eventType":"providers/firebase.auth/eventTypes/user.create","resource":{"name":"projects/sjpiicd-server","service":"firebaseauth.googleapis.com"},"params":{},"timestamp":"2025-12-15T04:07:31.122Z","data":{"uid":"aKSb4G0XCPxHfwgwOktpYApWBJVE","email":"inuzawa01@gmail.com","emailVerified":false,"metadata":{"creationTime":"2025-12-15T04:07:31.122Z","lastSignInTime":"2025-12-15T04:07:31.122Z"},"customClaims":{},"providerData":[{"rawId":"inuzawa01@gmail.com","providerId":"password","email":"inuzawa01@gmail.com","federatedId":"inuzawa01@gmail.com"}]}}
[debug] [2025-12-15T04:07:31.128Z] [work-queue] {"queuedWork":["us-central1-setCustomClaimOnSignup-0-2025-12-15T04:07:31.128Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T04:07:31.129Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["us-central1-setCustomClaimOnSignup-0-2025-12-15T04:07:31.128Z"],"workRunningCount":1}
[debug] [2025-12-15T04:07:31.130Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T04:07:31.132Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast 200
[debug] [2025-12-15T04:07:31.132Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2025-12-15T04:07:31.133Z] [work-queue] {"queuedWork":["/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0-2025-12-15T04:07:31.133Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T04:07:31.133Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0-2025-12-15T04:07:31.133Z"],"workRunningCount":1}
[debug] [2025-12-15T04:07:31.133Z] Accepted request POST /functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0 --> us-central1-setCustomClaimOnSignup-0
[debug] [2025-12-15T04:07:31.137Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-12-15T04:07:31.137Z] [functions] Got req.url=/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0, mapping to path=/functions/projects/"}}
[debug] [2025-12-15T04:07:31.137Z] [worker-pool] submitRequest(triggerId=us-central1-setCustomClaimOnSignup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-setCustomClaimOnSignup)"}}
[info] i  functions: Beginning execution of "us-central1-setCustomClaimOnSignup" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Beginning execution of \"us-central1-setCustomClaimOnSignup\""}}
[debug] [2025-12-15T04:07:31.138Z] [worker-us-central1-setCustomClaimOnSignup-f020a6ff-57ae-47ba-99a1-a070e6f9b566]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-f020a6ff-57ae-47ba-99a1-a070e6f9b566]: BUSY"}}
[debug] [2025-12-15T04:07:31.143Z] [runtime-status] [31436] ProcessBackground: lifting resource.name from resource {"name":"projects/sjpiicd-server","service":"firebaseauth.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [31436] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/sjpiicd-server\",\"service\":\"firebaseauth.googleapis.com\"}"}}
[debug] [2025-12-15T04:07:31.144Z] [runtime-status] [31436] RunBackground {"data":{"uid":"aKSb4G0XCPxHfwgwOktpYApWBJVE","email":"inuzawa01@gmail.com","emailVerified":false,"metadata":{"creationTime":"2025-12-15T04:07:31.122Z","lastSignInTime":"2025-12-15T04:07:31.122Z"},"customClaims":{},"providerData":[{"rawId":"inuzawa01@gmail.com","providerId":"password","email":"inuzawa01@gmail.com","federatedId":"inuzawa01@gmail.com"}]},"context":{"eventId":"f854736c-e17a-481a-b4c1-8ac7b81d67ad","eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/sjpiicd-server","params":{},"timestamp":"2025-12-15T04:07:31.122Z"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [31436] RunBackground {\"data\":{\"uid\":\"aKSb4G0XCPxHfwgwOktpYApWBJVE\",\"email\":\"inuzawa01@gmail.com\",\"emailVerified\":false,\"metadata\":{\"creationTime\":\"2025-12-15T04:07:31.122Z\",\"lastSignInTime\":\"2025-12-15T04:07:31.122Z\"},\"customClaims\":{},\"providerData\":[{\"rawId\":\"inuzawa01@gmail.com\",\"providerId\":\"password\",\"email\":\"inuzawa01@gmail.com\",\"federatedId\":\"inuzawa01@gmail.com\"}]},\"context\":{\"eventId\":\"f854736c-e17a-481a-b4c1-8ac7b81d67ad\",\"eventType\":\"providers/firebase.auth/eventTypes/user.create\",\"resource\":\"projects/sjpiicd-server\",\"params\":{},\"timestamp\":\"2025-12-15T04:07:31.122Z\"}}"}}
[info] >  User aKSb4G0XCPxHfwgwOktpYApWBJVE created with role: guest {"user":"User aKSb4G0XCPxHfwgwOktpYApWBJVE created with role: guest","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m User aKSb4G0XCPxHfwgwOktpYApWBJVE created with role: guest"}}
[debug] [2025-12-15T04:07:31.189Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-setCustomClaimOnSignup" in 51.1592ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finished \"us-central1-setCustomClaimOnSignup\" in 51.1592ms"}}
[debug] [2025-12-15T04:07:31.190Z] [worker-us-central1-setCustomClaimOnSignup-f020a6ff-57ae-47ba-99a1-a070e6f9b566]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-f020a6ff-57ae-47ba-99a1-a070e6f9b566]: IDLE"}}
[debug] [2025-12-15T04:07:31.191Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-12-15T04:07:31.191Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-12-15T04:07:31.191Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T04:07:53.164Z] [work-queue] {"queuedWork":["/sjpiicd-server/us-central1/createAppointment-2025-12-15T04:07:53.164Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T04:07:53.165Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/sjpiicd-server/us-central1/createAppointment-2025-12-15T04:07:53.164Z"],"workRunningCount":1}
[debug] [2025-12-15T04:07:53.165Z] Accepted request POST /sjpiicd-server/us-central1/createAppointment --> us-central1-createAppointment
[debug] [2025-12-15T04:07:53.169Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-12-15T04:07:53.169Z] [functions] Got req.url=/sjpiicd-server/us-central1/createAppointment, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/sjpiicd-server/us-central1/createAppointment, mapping to path=/"}}
[debug] [2025-12-15T04:07:53.189Z] [worker-pool] addWorker(us-central1-createAppointment) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-createAppointment)"}}
[debug] [2025-12-15T04:07:53.189Z] [worker-pool] Adding worker with key us-central1-createAppointment, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-createAppointment, total=1"}}
[debug] [2025-12-15T04:07:56.242Z] [runtime-status] [26180] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [26180] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T04:07:56.246Z] [runtime-status] [26180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [26180] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T04:07:56.246Z] [runtime-status] [26180] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [26180] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-12-15T04:07:56.249Z] [runtime-status] [26180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [26180] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T04:07:56.995Z] [runtime-status] [26180] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [26180] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T04:07:57.002Z] [runtime-status] [26180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [26180] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T04:07:57.439Z] [runtime-status] [26180] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [26180] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-12-15T04:07:57.445Z] [runtime-status] [26180] initializeApp(DEFAULT) {"storageBucket":"sjpiicd-server.firebasestorage.app","projectId":"sjpiicd-server"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [26180] initializeApp(DEFAULT) {\"storageBucket\":\"sjpiicd-server.firebasestorage.app\",\"projectId\":\"sjpiicd-server\"}"}}
[info] >  WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=... {"user":"WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=..."}}
[debug] [2025-12-15T04:07:57.823Z] [runtime-status] [26180] Functions runtime initialized. {"cwd":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions","node_version":"24.11.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [26180] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\",\"node_version\":\"24.11.1\"}"}}
[debug] [2025-12-15T04:07:57.823Z] [runtime-status] [26180] Listening to port: \\?\pipe\fire_emu_44a22b509231f3a1 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[runtime-status] [26180] Listening to port: \\\\?\\pipe\\fire_emu_44a22b509231f3a1"}}
[debug] [2025-12-15T04:07:57.885Z] [worker-us-central1-createAppointment-1b310257-bbe8-438d-a3f8-8cf3e3346316]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-1b310257-bbe8-438d-a3f8-8cf3e3346316]: IDLE"}}
[debug] [2025-12-15T04:07:57.886Z] [worker-pool] submitRequest(triggerId=us-central1-createAppointment) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-createAppointment)"}}
[info] i  functions: Beginning execution of "us-central1-createAppointment" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Beginning execution of \"us-central1-createAppointment\""}}
[debug] [2025-12-15T04:07:57.887Z] [worker-us-central1-createAppointment-1b310257-bbe8-438d-a3f8-8cf3e3346316]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-1b310257-bbe8-438d-a3f8-8cf3e3346316]: BUSY"}}
[info] >  {"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"VALID\",\"auth\":\"VALID\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  [createAppointment] Called with data: {"date":"2025-12-15","window":"13:00-14:00"} {"user":"[createAppointment] Called with data: {\"date\":\"2025-12-15\",\"window\":\"13:00-14:00\"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Called with data: {\"date\":\"2025-12-15\",\"window\":\"13:00-14:00\"}"}}
[info] >  [createAppointment] Context auth: aKSb4G0XCPxHfwgwOktpYApWBJVE {"user":"[createAppointment] Context auth: aKSb4G0XCPxHfwgwOktpYApWBJVE","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Context auth: aKSb4G0XCPxHfwgwOktpYApWBJVE"}}
[info] >  [createAppointment] Parsed - uid: aKSb4G0XCPxHfwgwOktpYApWBJVE, date: 2025-12-15, window: 13:00-14:00 {"user":"[createAppointment] Parsed - uid: aKSb4G0XCPxHfwgwOktpYApWBJVE, date: 2025-12-15, window: 13:00-14:00","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Parsed - uid: aKSb4G0XCPxHfwgwOktpYApWBJVE, date: 2025-12-15, window: 13:00-14:00"}}
[info] >  [createAppointment] Checking appointment limit... {"user":"[createAppointment] Checking appointment limit...","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Checking appointment limit..."}}
[info] >  [createAppointment] Appointment limit check passed {"user":"[createAppointment] Appointment limit check passed","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Appointment limit check passed"}}
[info] >  [createAppointment] Starting transaction - apptId: aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00, slotId: 2025-12-15_13:00-14:00 {"user":"[createAppointment] Starting transaction - apptId: aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00, slotId: 2025-12-15_13:00-14:00","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Starting transaction - apptId: aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00, slotId: 2025-12-15_13:00-14:00"}}
[info] >  [createAppointment] Inside transaction - checking existing appointment {"user":"[createAppointment] Inside transaction - checking existing appointment","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Inside transaction - checking existing appointment"}}
[info] >  [createAppointment] Checking slot availability {"user":"[createAppointment] Checking slot availability","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Checking slot availability"}}
[info] >  [createAppointment] Slot does not exist, will create new {"user":"[createAppointment] Slot does not exist, will create new","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Slot does not exist, will create new"}}
[info] >  [createAppointment] Creating appointment document {"user":"[createAppointment] Creating appointment document","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Creating appointment document"}}
[info] >  [createAppointment] Appointment document set {"user":"[createAppointment] Appointment document set","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Appointment document set"}}
[info] >  [createAppointment] Creating new slot {"user":"[createAppointment] Creating new slot","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Creating new slot"}}
[info] >  [createAppointment] Transaction operations complete {"user":"[createAppointment] Transaction operations complete","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Transaction operations complete"}}
[info] >  [createAppointment] Transaction committed successfully: aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00 {"user":"[createAppointment] Transaction committed successfully: aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"\u001b[90m> \u001b[39m [createAppointment] Transaction committed successfully: aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00"}}
[debug] [2025-12-15T04:07:58.743Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-createAppointment" in 856.7692ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Finished \"us-central1-createAppointment\" in 856.7692ms"}}
[debug] [2025-12-15T04:07:58.744Z] [worker-us-central1-createAppointment-1b310257-bbe8-438d-a3f8-8cf3e3346316]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"[worker-us-central1-createAppointment-1b310257-bbe8-438d-a3f8-8cf3e3346316]: IDLE"}}
[debug] [2025-12-15T04:07:58.744Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-12-15T04:07:58.744Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createAppointment"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-12-15T04:07:58.744Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T04:07:58.842Z] [work-queue] {"queuedWork":["/functions/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0-2025-12-15T04:07:58.842Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T04:07:58.843Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0-2025-12-15T04:07:58.842Z"],"workRunningCount":1}
[debug] [2025-12-15T04:07:58.843Z] Accepted request POST /functions/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0 --> us-central1-onAppointmentCreated-0
[debug] [2025-12-15T04:07:58.846Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-12-15T04:07:58.846Z] [functions] Got req.url=/functions/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/sjpiicd-server/triggers/us-central1-onAppointmentCreated-0, mapping to path=/functions/projects/"}}
[debug] [2025-12-15T04:07:58.867Z] [worker-pool] addWorker(us-central1-onAppointmentCreated) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-onAppointmentCreated)"}}
[debug] [2025-12-15T04:07:58.868Z] [worker-pool] Adding worker with key us-central1-onAppointmentCreated, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-onAppointmentCreated, total=1"}}
[debug] [2025-12-15T04:08:02.253Z] [runtime-status] [8264] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentCreated"},"extension":{},"message":"[runtime-status] [8264] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T04:08:02.261Z] [runtime-status] [8264] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentCreated"},"extension":{},"message":"[runtime-status] [8264] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T04:08:02.264Z] [runtime-status] [8264] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentCreated"},"extension":{},"message":"[runtime-status] [8264] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-12-15T04:08:02.272Z] [runtime-status] [8264] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentCreated"},"extension":{},"message":"[runtime-status] [8264] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T04:08:03.105Z] [runtime-status] [8264] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentCreated"},"extension":{},"message":"[runtime-status] [8264] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T04:08:03.111Z] [runtime-status] [8264] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentCreated"},"extension":{},"message":"[runtime-status] [8264] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T04:08:03.532Z] [runtime-status] [8264] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentCreated"},"extension":{},"message":"[runtime-status] [8264] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-12-15T04:08:03.537Z] [runtime-status] [8264] initializeApp(DEFAULT) {"storageBucket":"sjpiicd-server.firebasestorage.app","projectId":"sjpiicd-server"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentCreated"},"extension":{},"message":"[runtime-status] [8264] initializeApp(DEFAULT) {\"storageBucket\":\"sjpiicd-server.firebasestorage.app\",\"projectId\":\"sjpiicd-server\"}"}}
[info] >  WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=... {"user":"WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentCreated"},"extension":{},"message":"\u001b[90m> \u001b[39m WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=..."}}
[debug] [2025-12-15T04:08:03.915Z] [runtime-status] [8264] Functions runtime initialized. {"cwd":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions","node_version":"24.11.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentCreated"},"extension":{},"message":"[runtime-status] [8264] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\",\"node_version\":\"24.11.1\"}"}}
[debug] [2025-12-15T04:08:03.915Z] [runtime-status] [8264] Listening to port: \\?\pipe\fire_emu_1e4635015eb1a719 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentCreated"},"extension":{},"message":"[runtime-status] [8264] Listening to port: \\\\?\\pipe\\fire_emu_1e4635015eb1a719"}}
[debug] [2025-12-15T04:08:04.009Z] [worker-us-central1-onAppointmentCreated-57bbdcc0-e140-4773-a349-9c7ca49808c8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentCreated"},"extension":{},"message":"[worker-us-central1-onAppointmentCreated-57bbdcc0-e140-4773-a349-9c7ca49808c8]: IDLE"}}
[debug] [2025-12-15T04:08:04.010Z] [worker-pool] submitRequest(triggerId=us-central1-onAppointmentCreated) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-onAppointmentCreated)"}}
[info] i  functions: Beginning execution of "us-central1-onAppointmentCreated" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentCreated"},"extension":{},"message":"Beginning execution of \"us-central1-onAppointmentCreated\""}}
[debug] [2025-12-15T04:08:04.011Z] [worker-us-central1-onAppointmentCreated-57bbdcc0-e140-4773-a349-9c7ca49808c8]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentCreated"},"extension":{},"message":"[worker-us-central1-onAppointmentCreated-57bbdcc0-e140-4773-a349-9c7ca49808c8]: BUSY"}}
[debug] [2025-12-15T04:08:04.039Z] [runtime-status] [8264] ProcessBackground: lifting resource.name from resource {"name":"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentCreated"},"extension":{},"message":"[runtime-status] [8264] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2025-12-15T04:08:04.040Z] [runtime-status] [8264] RunBackground {"data":{"value":{"name":"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00","fields":{"userId":{"stringValue":"aKSb4G0XCPxHfwgwOktpYApWBJVE"},"date":{"stringValue":"2025-12-15"},"window":{"stringValue":"13:00-14:00"},"status":{"stringValue":"PENDING"},"paymentMethod":{"stringValue":"PAY_AT_SCHOOL"},"createdAt":{"stringValue":"2025-12-15T04:07:58.659Z"},"createdByFunction":{"booleanValue":true}},"createTime":"2025-12-15T04:07:58.691880Z","updateTime":"2025-12-15T04:07:58.691880Z"},"updateMask":{}},"context":{"eventId":"b4e89389-868e-4076-9d30-97cea2fd0cf1","timestamp":"2025-12-15T04:07:58.691880Z","eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentCreated"},"extension":{},"message":"[runtime-status] [8264] RunBackground {\"data\":{\"value\":{\"name\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00\",\"fields\":{\"userId\":{\"stringValue\":\"aKSb4G0XCPxHfwgwOktpYApWBJVE\"},\"date\":{\"stringValue\":\"2025-12-15\"},\"window\":{\"stringValue\":\"13:00-14:00\"},\"status\":{\"stringValue\":\"PENDING\"},\"paymentMethod\":{\"stringValue\":\"PAY_AT_SCHOOL\"},\"createdAt\":{\"stringValue\":\"2025-12-15T04:07:58.659Z\"},\"createdByFunction\":{\"booleanValue\":true}},\"createTime\":\"2025-12-15T04:07:58.691880Z\",\"updateTime\":\"2025-12-15T04:07:58.691880Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"b4e89389-868e-4076-9d30-97cea2fd0cf1\",\"timestamp\":\"2025-12-15T04:07:58.691880Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.create\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00\"}}"}}
[info] >  Skipping slot increment for aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00 (createdByFunction) {"user":"Skipping slot increment for aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00 (createdByFunction)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentCreated"},"extension":{},"message":"\u001b[90m> \u001b[39m Skipping slot increment for aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00 (createdByFunction)"}}
[debug] [2025-12-15T04:08:04.049Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentCreated"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-onAppointmentCreated" in 38.2287ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentCreated"},"extension":{},"message":"Finished \"us-central1-onAppointmentCreated\" in 38.2287ms"}}
[debug] [2025-12-15T04:08:04.052Z] [worker-us-central1-onAppointmentCreated-57bbdcc0-e140-4773-a349-9c7ca49808c8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentCreated"},"extension":{},"message":"[worker-us-central1-onAppointmentCreated-57bbdcc0-e140-4773-a349-9c7ca49808c8]: IDLE"}}
[debug] [2025-12-15T04:08:04.053Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentCreated"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-12-15T04:08:04.053Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentCreated"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-12-15T04:08:04.053Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T04:09:30.121Z] [work-queue] {"queuedWork":["/functions/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0-2025-12-15T04:09:30.121Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T04:09:30.122Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0-2025-12-15T04:09:30.121Z"],"workRunningCount":1}
[debug] [2025-12-15T04:09:30.122Z] Accepted request POST /functions/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0 --> us-central1-onAppointmentPaid-0
[debug] [2025-12-15T04:09:30.125Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-12-15T04:09:30.126Z] [functions] Got req.url=/functions/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0, mapping to path=/functions/projects/"}}
[debug] [2025-12-15T04:09:30.143Z] [worker-pool] addWorker(us-central1-onAppointmentPaid) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-onAppointmentPaid)"}}
[debug] [2025-12-15T04:09:30.144Z] [worker-pool] Adding worker with key us-central1-onAppointmentPaid, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-onAppointmentPaid, total=1"}}
[debug] [2025-12-15T04:09:33.447Z] [runtime-status] [38308] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentPaid"},"extension":{},"message":"[runtime-status] [38308] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T04:09:33.451Z] [runtime-status] [38308] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentPaid"},"extension":{},"message":"[runtime-status] [38308] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T04:09:33.452Z] [runtime-status] [38308] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentPaid"},"extension":{},"message":"[runtime-status] [38308] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-12-15T04:09:33.454Z] [runtime-status] [38308] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentPaid"},"extension":{},"message":"[runtime-status] [38308] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T04:09:34.265Z] [runtime-status] [38308] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentPaid"},"extension":{},"message":"[runtime-status] [38308] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T04:09:34.272Z] [runtime-status] [38308] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentPaid"},"extension":{},"message":"[runtime-status] [38308] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T04:09:34.697Z] [runtime-status] [38308] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentPaid"},"extension":{},"message":"[runtime-status] [38308] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-12-15T04:09:34.703Z] [runtime-status] [38308] initializeApp(DEFAULT) {"storageBucket":"sjpiicd-server.firebasestorage.app","projectId":"sjpiicd-server"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentPaid"},"extension":{},"message":"[runtime-status] [38308] initializeApp(DEFAULT) {\"storageBucket\":\"sjpiicd-server.firebasestorage.app\",\"projectId\":\"sjpiicd-server\"}"}}
[info] >  WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=... {"user":"WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentPaid"},"extension":{},"message":"\u001b[90m> \u001b[39m WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=..."}}
[debug] [2025-12-15T04:09:35.143Z] [runtime-status] [38308] Functions runtime initialized. {"cwd":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions","node_version":"24.11.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentPaid"},"extension":{},"message":"[runtime-status] [38308] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\",\"node_version\":\"24.11.1\"}"}}
[debug] [2025-12-15T04:09:35.143Z] [runtime-status] [38308] Listening to port: \\?\pipe\fire_emu_654691b9aeb38976 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentPaid"},"extension":{},"message":"[runtime-status] [38308] Listening to port: \\\\?\\pipe\\fire_emu_654691b9aeb38976"}}
[debug] [2025-12-15T04:09:35.253Z] [worker-us-central1-onAppointmentPaid-5a1f8a00-a140-4ce2-aa7f-e47dd2ab793c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentPaid"},"extension":{},"message":"[worker-us-central1-onAppointmentPaid-5a1f8a00-a140-4ce2-aa7f-e47dd2ab793c]: IDLE"}}
[debug] [2025-12-15T04:09:35.254Z] [worker-pool] submitRequest(triggerId=us-central1-onAppointmentPaid) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-onAppointmentPaid)"}}
[info] i  functions: Beginning execution of "us-central1-onAppointmentPaid" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentPaid"},"extension":{},"message":"Beginning execution of \"us-central1-onAppointmentPaid\""}}
[debug] [2025-12-15T04:09:35.254Z] [worker-us-central1-onAppointmentPaid-5a1f8a00-a140-4ce2-aa7f-e47dd2ab793c]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentPaid"},"extension":{},"message":"[worker-us-central1-onAppointmentPaid-5a1f8a00-a140-4ce2-aa7f-e47dd2ab793c]: BUSY"}}
[debug] [2025-12-15T04:09:35.293Z] [runtime-status] [38308] ProcessBackground: lifting resource.name from resource {"name":"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentPaid"},"extension":{},"message":"[runtime-status] [38308] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2025-12-15T04:09:35.294Z] [runtime-status] [38308] RunBackground {"data":{"value":{"name":"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00","fields":{"userId":{"stringValue":"aKSb4G0XCPxHfwgwOktpYApWBJVE"},"status":{"stringValue":"PENDING"},"paymentMethod":{"stringValue":"PAY_AT_SCHOOL"},"createdAt":{"stringValue":"2025-12-15T04:07:58.659Z"},"createdByFunction":{"booleanValue":true},"date":{"stringValue":"2025-12-18"},"window":{"stringValue":"10:00-11:00"},"updatedAt":{"timestampValue":"2025-12-15T04:09:30.041Z"}},"createTime":"2025-12-15T04:07:58.691880Z","updateTime":"2025-12-15T04:09:30.110522Z"},"oldValue":{"name":"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00","fields":{"userId":{"stringValue":"aKSb4G0XCPxHfwgwOktpYApWBJVE"},"date":{"stringValue":"2025-12-15"},"window":{"stringValue":"13:00-14:00"},"status":{"stringValue":"PENDING"},"paymentMethod":{"stringValue":"PAY_AT_SCHOOL"},"createdAt":{"stringValue":"2025-12-15T04:07:58.659Z"},"createdByFunction":{"booleanValue":true}},"createTime":"2025-12-15T04:07:58.691880Z","updateTime":"2025-12-15T04:07:58.691880Z"},"updateMask":{}},"context":{"eventId":"edbe7085-ff5d-4408-a821-edff4e1d1978","timestamp":"2025-12-15T04:09:30.110522Z","eventType":"providers/cloud.firestore/eventTypes/document.update","resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentPaid"},"extension":{},"message":"[runtime-status] [38308] RunBackground {\"data\":{\"value\":{\"name\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00\",\"fields\":{\"userId\":{\"stringValue\":\"aKSb4G0XCPxHfwgwOktpYApWBJVE\"},\"status\":{\"stringValue\":\"PENDING\"},\"paymentMethod\":{\"stringValue\":\"PAY_AT_SCHOOL\"},\"createdAt\":{\"stringValue\":\"2025-12-15T04:07:58.659Z\"},\"createdByFunction\":{\"booleanValue\":true},\"date\":{\"stringValue\":\"2025-12-18\"},\"window\":{\"stringValue\":\"10:00-11:00\"},\"updatedAt\":{\"timestampValue\":\"2025-12-15T04:09:30.041Z\"}},\"createTime\":\"2025-12-15T04:07:58.691880Z\",\"updateTime\":\"2025-12-15T04:09:30.110522Z\"},\"oldValue\":{\"name\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00\",\"fields\":{\"userId\":{\"stringValue\":\"aKSb4G0XCPxHfwgwOktpYApWBJVE\"},\"date\":{\"stringValue\":\"2025-12-15\"},\"window\":{\"stringValue\":\"13:00-14:00\"},\"status\":{\"stringValue\":\"PENDING\"},\"paymentMethod\":{\"stringValue\":\"PAY_AT_SCHOOL\"},\"createdAt\":{\"stringValue\":\"2025-12-15T04:07:58.659Z\"},\"createdByFunction\":{\"booleanValue\":true}},\"createTime\":\"2025-12-15T04:07:58.691880Z\",\"updateTime\":\"2025-12-15T04:07:58.691880Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"edbe7085-ff5d-4408-a821-edff4e1d1978\",\"timestamp\":\"2025-12-15T04:09:30.110522Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.update\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00\"}}"}}
[debug] [2025-12-15T04:09:35.303Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentPaid"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-onAppointmentPaid" in 49.1186ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentPaid"},"extension":{},"message":"Finished \"us-central1-onAppointmentPaid\" in 49.1186ms"}}
[debug] [2025-12-15T04:09:35.307Z] [worker-us-central1-onAppointmentPaid-5a1f8a00-a140-4ce2-aa7f-e47dd2ab793c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentPaid"},"extension":{},"message":"[worker-us-central1-onAppointmentPaid-5a1f8a00-a140-4ce2-aa7f-e47dd2ab793c]: IDLE"}}
[debug] [2025-12-15T04:09:35.307Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentPaid"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-12-15T04:09:35.308Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentPaid"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-12-15T04:09:35.309Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T04:09:35.318Z] [work-queue] {"queuedWork":["/functions/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0-2025-12-15T04:09:35.318Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T04:09:35.319Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0-2025-12-15T04:09:35.318Z"],"workRunningCount":1}
[debug] [2025-12-15T04:09:35.319Z] Accepted request POST /functions/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0 --> us-central1-onAppointmentUpdated-0
[debug] [2025-12-15T04:09:35.320Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-12-15T04:09:35.320Z] [functions] Got req.url=/functions/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0, mapping to path=/functions/projects/"}}
[debug] [2025-12-15T04:09:35.333Z] [worker-pool] addWorker(us-central1-onAppointmentUpdated) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-onAppointmentUpdated)"}}
[debug] [2025-12-15T04:09:35.333Z] [worker-pool] Adding worker with key us-central1-onAppointmentUpdated, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-onAppointmentUpdated, total=1"}}
[debug] [2025-12-15T04:09:38.687Z] [runtime-status] [4804] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentUpdated"},"extension":{},"message":"[runtime-status] [4804] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T04:09:38.691Z] [runtime-status] [4804] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentUpdated"},"extension":{},"message":"[runtime-status] [4804] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T04:09:38.692Z] [runtime-status] [4804] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentUpdated"},"extension":{},"message":"[runtime-status] [4804] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-12-15T04:09:38.695Z] [runtime-status] [4804] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentUpdated"},"extension":{},"message":"[runtime-status] [4804] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T04:09:39.762Z] [runtime-status] [4804] Resolved module firebase-admin {"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentUpdated"},"extension":{},"message":"[runtime-status] [4804] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-12-15T04:09:39.771Z] [runtime-status] [4804] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.9.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentUpdated"},"extension":{},"message":"[runtime-status] [4804] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.9.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2025-12-15T04:09:40.345Z] [runtime-status] [4804] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"15.0.0","resolution":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentUpdated"},"extension":{},"message":"[runtime-status] [4804] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"15.0.0\",\"resolution\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-12-15T04:09:40.359Z] [runtime-status] [4804] initializeApp(DEFAULT) {"storageBucket":"sjpiicd-server.firebasestorage.app","projectId":"sjpiicd-server"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentUpdated"},"extension":{},"message":"[runtime-status] [4804] initializeApp(DEFAULT) {\"storageBucket\":\"sjpiicd-server.firebasestorage.app\",\"projectId\":\"sjpiicd-server\"}"}}
[info] >  WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=... {"user":"WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=...","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentUpdated"},"extension":{},"message":"\u001b[90m> \u001b[39m WARNING: Cloudinary not configured. Set via: firebase functions:config:set cloudinary.cloud_name=..."}}
[debug] [2025-12-15T04:09:40.952Z] [runtime-status] [4804] Functions runtime initialized. {"cwd":"C:\\Users\\Jeffrey Autentico\\AndroidStudioProjects\\SJPIICDApp\\sjpiicd_cloudbase_functions","node_version":"24.11.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentUpdated"},"extension":{},"message":"[runtime-status] [4804] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Jeffrey Autentico\\\\AndroidStudioProjects\\\\SJPIICDApp\\\\sjpiicd_cloudbase_functions\",\"node_version\":\"24.11.1\"}"}}
[debug] [2025-12-15T04:09:40.953Z] [runtime-status] [4804] Listening to port: \\?\pipe\fire_emu_73442e16e8be3587 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentUpdated"},"extension":{},"message":"[runtime-status] [4804] Listening to port: \\\\?\\pipe\\fire_emu_73442e16e8be3587"}}
[debug] [2025-12-15T04:09:41.019Z] [worker-us-central1-onAppointmentUpdated-7fb1a50e-b2ad-4095-9c9e-607094968da0]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentUpdated"},"extension":{},"message":"[worker-us-central1-onAppointmentUpdated-7fb1a50e-b2ad-4095-9c9e-607094968da0]: IDLE"}}
[debug] [2025-12-15T04:09:41.020Z] [worker-pool] submitRequest(triggerId=us-central1-onAppointmentUpdated) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-onAppointmentUpdated)"}}
[info] i  functions: Beginning execution of "us-central1-onAppointmentUpdated" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentUpdated"},"extension":{},"message":"Beginning execution of \"us-central1-onAppointmentUpdated\""}}
[debug] [2025-12-15T04:09:41.023Z] [worker-us-central1-onAppointmentUpdated-7fb1a50e-b2ad-4095-9c9e-607094968da0]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentUpdated"},"extension":{},"message":"[worker-us-central1-onAppointmentUpdated-7fb1a50e-b2ad-4095-9c9e-607094968da0]: BUSY"}}
[debug] [2025-12-15T04:09:41.078Z] [runtime-status] [4804] ProcessBackground: lifting resource.name from resource {"name":"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentUpdated"},"extension":{},"message":"[runtime-status] [4804] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2025-12-15T04:09:41.079Z] [runtime-status] [4804] RunBackground {"data":{"value":{"name":"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00","fields":{"userId":{"stringValue":"aKSb4G0XCPxHfwgwOktpYApWBJVE"},"status":{"stringValue":"PENDING"},"paymentMethod":{"stringValue":"PAY_AT_SCHOOL"},"createdAt":{"stringValue":"2025-12-15T04:07:58.659Z"},"createdByFunction":{"booleanValue":true},"date":{"stringValue":"2025-12-18"},"window":{"stringValue":"10:00-11:00"},"updatedAt":{"timestampValue":"2025-12-15T04:09:30.041Z"}},"createTime":"2025-12-15T04:07:58.691880Z","updateTime":"2025-12-15T04:09:30.110522Z"},"oldValue":{"name":"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00","fields":{"userId":{"stringValue":"aKSb4G0XCPxHfwgwOktpYApWBJVE"},"date":{"stringValue":"2025-12-15"},"window":{"stringValue":"13:00-14:00"},"status":{"stringValue":"PENDING"},"paymentMethod":{"stringValue":"PAY_AT_SCHOOL"},"createdAt":{"stringValue":"2025-12-15T04:07:58.659Z"},"createdByFunction":{"booleanValue":true}},"createTime":"2025-12-15T04:07:58.691880Z","updateTime":"2025-12-15T04:07:58.691880Z"},"updateMask":{}},"context":{"eventId":"edbe7085-ff5d-4408-a821-edff4e1d1978","timestamp":"2025-12-15T04:09:30.110522Z","eventType":"providers/cloud.firestore/eventTypes/document.update","resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentUpdated"},"extension":{},"message":"[runtime-status] [4804] RunBackground {\"data\":{\"value\":{\"name\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00\",\"fields\":{\"userId\":{\"stringValue\":\"aKSb4G0XCPxHfwgwOktpYApWBJVE\"},\"status\":{\"stringValue\":\"PENDING\"},\"paymentMethod\":{\"stringValue\":\"PAY_AT_SCHOOL\"},\"createdAt\":{\"stringValue\":\"2025-12-15T04:07:58.659Z\"},\"createdByFunction\":{\"booleanValue\":true},\"date\":{\"stringValue\":\"2025-12-18\"},\"window\":{\"stringValue\":\"10:00-11:00\"},\"updatedAt\":{\"timestampValue\":\"2025-12-15T04:09:30.041Z\"}},\"createTime\":\"2025-12-15T04:07:58.691880Z\",\"updateTime\":\"2025-12-15T04:09:30.110522Z\"},\"oldValue\":{\"name\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00\",\"fields\":{\"userId\":{\"stringValue\":\"aKSb4G0XCPxHfwgwOktpYApWBJVE\"},\"date\":{\"stringValue\":\"2025-12-15\"},\"window\":{\"stringValue\":\"13:00-14:00\"},\"status\":{\"stringValue\":\"PENDING\"},\"paymentMethod\":{\"stringValue\":\"PAY_AT_SCHOOL\"},\"createdAt\":{\"stringValue\":\"2025-12-15T04:07:58.659Z\"},\"createdByFunction\":{\"booleanValue\":true}},\"createTime\":\"2025-12-15T04:07:58.691880Z\",\"updateTime\":\"2025-12-15T04:07:58.691880Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"edbe7085-ff5d-4408-a821-edff4e1d1978\",\"timestamp\":\"2025-12-15T04:09:30.110522Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.update\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00\"}}"}}
[info] >  Appointment aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00 rescheduled from 2025-12-15_13:00-14:00 to 2025-12-18_10:00-11:00 {"user":"Appointment aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00 rescheduled from 2025-12-15_13:00-14:00 to 2025-12-18_10:00-11:00","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentUpdated"},"extension":{},"message":"\u001b[90m> \u001b[39m Appointment aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00 rescheduled from 2025-12-15_13:00-14:00 to 2025-12-18_10:00-11:00"}}
[debug] [2025-12-15T04:09:42.053Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentUpdated"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-onAppointmentUpdated" in 1030.1675ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentUpdated"},"extension":{},"message":"Finished \"us-central1-onAppointmentUpdated\" in 1030.1675ms"}}
[debug] [2025-12-15T04:09:42.054Z] [worker-us-central1-onAppointmentUpdated-7fb1a50e-b2ad-4095-9c9e-607094968da0]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentUpdated"},"extension":{},"message":"[worker-us-central1-onAppointmentUpdated-7fb1a50e-b2ad-4095-9c9e-607094968da0]: IDLE"}}
[debug] [2025-12-15T04:09:42.054Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentUpdated"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-12-15T04:09:42.054Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentUpdated"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-12-15T04:09:42.054Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T04:09:42.063Z] [work-queue] {"queuedWork":["/functions/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0-2025-12-15T04:09:42.063Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T04:09:42.063Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0-2025-12-15T04:09:42.063Z"],"workRunningCount":1}
[debug] [2025-12-15T04:09:42.064Z] Accepted request POST /functions/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0 --> us-central1-onAppointmentPaid-0
[debug] [2025-12-15T04:09:42.067Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-12-15T04:09:42.067Z] [functions] Got req.url=/functions/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/sjpiicd-server/triggers/us-central1-onAppointmentPaid-0, mapping to path=/functions/projects/"}}
[debug] [2025-12-15T04:09:42.067Z] [worker-pool] submitRequest(triggerId=us-central1-onAppointmentPaid) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-onAppointmentPaid)"}}
[info] i  functions: Beginning execution of "us-central1-onAppointmentPaid" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentPaid"},"extension":{},"message":"Beginning execution of \"us-central1-onAppointmentPaid\""}}
[debug] [2025-12-15T04:09:42.068Z] [worker-us-central1-onAppointmentPaid-5a1f8a00-a140-4ce2-aa7f-e47dd2ab793c]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentPaid"},"extension":{},"message":"[worker-us-central1-onAppointmentPaid-5a1f8a00-a140-4ce2-aa7f-e47dd2ab793c]: BUSY"}}
[debug] [2025-12-15T04:09:42.072Z] [runtime-status] [38308] ProcessBackground: lifting resource.name from resource {"name":"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentPaid"},"extension":{},"message":"[runtime-status] [38308] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2025-12-15T04:09:42.072Z] [runtime-status] [38308] RunBackground {"data":{"value":{"name":"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00","fields":{"userId":{"stringValue":"aKSb4G0XCPxHfwgwOktpYApWBJVE"},"status":{"stringValue":"PENDING"},"paymentMethod":{"stringValue":"PAY_AT_SCHOOL"},"createdAt":{"stringValue":"2025-12-15T04:07:58.659Z"},"createdByFunction":{"booleanValue":true},"date":{"stringValue":"2025-12-18"},"window":{"stringValue":"10:00-11:00"},"updatedAt":{"timestampValue":"2025-12-15T04:09:30.041Z"},"lastRescheduledAt":{"stringValue":"2025-12-15T04:09:42.009Z"}},"createTime":"2025-12-15T04:07:58.691880Z","updateTime":"2025-12-15T04:09:42.028552Z"},"oldValue":{"name":"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00","fields":{"userId":{"stringValue":"aKSb4G0XCPxHfwgwOktpYApWBJVE"},"status":{"stringValue":"PENDING"},"paymentMethod":{"stringValue":"PAY_AT_SCHOOL"},"createdAt":{"stringValue":"2025-12-15T04:07:58.659Z"},"createdByFunction":{"booleanValue":true},"date":{"stringValue":"2025-12-18"},"window":{"stringValue":"10:00-11:00"},"updatedAt":{"timestampValue":"2025-12-15T04:09:30.041Z"}},"createTime":"2025-12-15T04:07:58.691880Z","updateTime":"2025-12-15T04:09:30.110522Z"},"updateMask":{}},"context":{"eventId":"c4c94d5b-007f-4a59-9d49-723ff1039766","timestamp":"2025-12-15T04:09:42.028552Z","eventType":"providers/cloud.firestore/eventTypes/document.update","resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentPaid"},"extension":{},"message":"[runtime-status] [38308] RunBackground {\"data\":{\"value\":{\"name\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00\",\"fields\":{\"userId\":{\"stringValue\":\"aKSb4G0XCPxHfwgwOktpYApWBJVE\"},\"status\":{\"stringValue\":\"PENDING\"},\"paymentMethod\":{\"stringValue\":\"PAY_AT_SCHOOL\"},\"createdAt\":{\"stringValue\":\"2025-12-15T04:07:58.659Z\"},\"createdByFunction\":{\"booleanValue\":true},\"date\":{\"stringValue\":\"2025-12-18\"},\"window\":{\"stringValue\":\"10:00-11:00\"},\"updatedAt\":{\"timestampValue\":\"2025-12-15T04:09:30.041Z\"},\"lastRescheduledAt\":{\"stringValue\":\"2025-12-15T04:09:42.009Z\"}},\"createTime\":\"2025-12-15T04:07:58.691880Z\",\"updateTime\":\"2025-12-15T04:09:42.028552Z\"},\"oldValue\":{\"name\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00\",\"fields\":{\"userId\":{\"stringValue\":\"aKSb4G0XCPxHfwgwOktpYApWBJVE\"},\"status\":{\"stringValue\":\"PENDING\"},\"paymentMethod\":{\"stringValue\":\"PAY_AT_SCHOOL\"},\"createdAt\":{\"stringValue\":\"2025-12-15T04:07:58.659Z\"},\"createdByFunction\":{\"booleanValue\":true},\"date\":{\"stringValue\":\"2025-12-18\"},\"window\":{\"stringValue\":\"10:00-11:00\"},\"updatedAt\":{\"timestampValue\":\"2025-12-15T04:09:30.041Z\"}},\"createTime\":\"2025-12-15T04:07:58.691880Z\",\"updateTime\":\"2025-12-15T04:09:30.110522Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"c4c94d5b-007f-4a59-9d49-723ff1039766\",\"timestamp\":\"2025-12-15T04:09:42.028552Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.update\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00\"}}"}}
[debug] [2025-12-15T04:09:42.074Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentPaid"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-onAppointmentPaid" in 6.139ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentPaid"},"extension":{},"message":"Finished \"us-central1-onAppointmentPaid\" in 6.139ms"}}
[debug] [2025-12-15T04:09:42.075Z] [worker-us-central1-onAppointmentPaid-5a1f8a00-a140-4ce2-aa7f-e47dd2ab793c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentPaid"},"extension":{},"message":"[worker-us-central1-onAppointmentPaid-5a1f8a00-a140-4ce2-aa7f-e47dd2ab793c]: IDLE"}}
[debug] [2025-12-15T04:09:42.075Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentPaid"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-12-15T04:09:42.075Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentPaid"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-12-15T04:09:42.075Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T04:09:42.093Z] [work-queue] {"queuedWork":["/functions/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0-2025-12-15T04:09:42.093Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T04:09:42.094Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0-2025-12-15T04:09:42.093Z"],"workRunningCount":1}
[debug] [2025-12-15T04:09:42.094Z] Accepted request POST /functions/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0 --> us-central1-onAppointmentUpdated-0
[debug] [2025-12-15T04:09:42.097Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-12-15T04:09:42.098Z] [functions] Got req.url=/functions/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/sjpiicd-server/triggers/us-central1-onAppointmentUpdated-0, mapping to path=/functions/projects/"}}
[debug] [2025-12-15T04:09:42.098Z] [worker-pool] submitRequest(triggerId=us-central1-onAppointmentUpdated) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-onAppointmentUpdated)"}}
[info] i  functions: Beginning execution of "us-central1-onAppointmentUpdated" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentUpdated"},"extension":{},"message":"Beginning execution of \"us-central1-onAppointmentUpdated\""}}
[debug] [2025-12-15T04:09:42.099Z] [worker-us-central1-onAppointmentUpdated-7fb1a50e-b2ad-4095-9c9e-607094968da0]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentUpdated"},"extension":{},"message":"[worker-us-central1-onAppointmentUpdated-7fb1a50e-b2ad-4095-9c9e-607094968da0]: BUSY"}}
[debug] [2025-12-15T04:09:42.102Z] [runtime-status] [4804] ProcessBackground: lifting resource.name from resource {"name":"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentUpdated"},"extension":{},"message":"[runtime-status] [4804] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2025-12-15T04:09:42.102Z] [runtime-status] [4804] RunBackground {"data":{"value":{"name":"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00","fields":{"userId":{"stringValue":"aKSb4G0XCPxHfwgwOktpYApWBJVE"},"status":{"stringValue":"PENDING"},"paymentMethod":{"stringValue":"PAY_AT_SCHOOL"},"createdAt":{"stringValue":"2025-12-15T04:07:58.659Z"},"createdByFunction":{"booleanValue":true},"date":{"stringValue":"2025-12-18"},"window":{"stringValue":"10:00-11:00"},"updatedAt":{"timestampValue":"2025-12-15T04:09:30.041Z"},"lastRescheduledAt":{"stringValue":"2025-12-15T04:09:42.009Z"}},"createTime":"2025-12-15T04:07:58.691880Z","updateTime":"2025-12-15T04:09:42.028552Z"},"oldValue":{"name":"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00","fields":{"userId":{"stringValue":"aKSb4G0XCPxHfwgwOktpYApWBJVE"},"status":{"stringValue":"PENDING"},"paymentMethod":{"stringValue":"PAY_AT_SCHOOL"},"createdAt":{"stringValue":"2025-12-15T04:07:58.659Z"},"createdByFunction":{"booleanValue":true},"date":{"stringValue":"2025-12-18"},"window":{"stringValue":"10:00-11:00"},"updatedAt":{"timestampValue":"2025-12-15T04:09:30.041Z"}},"createTime":"2025-12-15T04:07:58.691880Z","updateTime":"2025-12-15T04:09:30.110522Z"},"updateMask":{}},"context":{"eventId":"c4c94d5b-007f-4a59-9d49-723ff1039766","timestamp":"2025-12-15T04:09:42.028552Z","eventType":"providers/cloud.firestore/eventTypes/document.update","resource":"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentUpdated"},"extension":{},"message":"[runtime-status] [4804] RunBackground {\"data\":{\"value\":{\"name\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00\",\"fields\":{\"userId\":{\"stringValue\":\"aKSb4G0XCPxHfwgwOktpYApWBJVE\"},\"status\":{\"stringValue\":\"PENDING\"},\"paymentMethod\":{\"stringValue\":\"PAY_AT_SCHOOL\"},\"createdAt\":{\"stringValue\":\"2025-12-15T04:07:58.659Z\"},\"createdByFunction\":{\"booleanValue\":true},\"date\":{\"stringValue\":\"2025-12-18\"},\"window\":{\"stringValue\":\"10:00-11:00\"},\"updatedAt\":{\"timestampValue\":\"2025-12-15T04:09:30.041Z\"},\"lastRescheduledAt\":{\"stringValue\":\"2025-12-15T04:09:42.009Z\"}},\"createTime\":\"2025-12-15T04:07:58.691880Z\",\"updateTime\":\"2025-12-15T04:09:42.028552Z\"},\"oldValue\":{\"name\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00\",\"fields\":{\"userId\":{\"stringValue\":\"aKSb4G0XCPxHfwgwOktpYApWBJVE\"},\"status\":{\"stringValue\":\"PENDING\"},\"paymentMethod\":{\"stringValue\":\"PAY_AT_SCHOOL\"},\"createdAt\":{\"stringValue\":\"2025-12-15T04:07:58.659Z\"},\"createdByFunction\":{\"booleanValue\":true},\"date\":{\"stringValue\":\"2025-12-18\"},\"window\":{\"stringValue\":\"10:00-11:00\"},\"updatedAt\":{\"timestampValue\":\"2025-12-15T04:09:30.041Z\"}},\"createTime\":\"2025-12-15T04:07:58.691880Z\",\"updateTime\":\"2025-12-15T04:09:30.110522Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"c4c94d5b-007f-4a59-9d49-723ff1039766\",\"timestamp\":\"2025-12-15T04:09:42.028552Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.update\",\"resource\":\"projects/sjpiicd-server/databases/(default)/documents/appointments/aKSb4G0XCPxHfwgwOktpYApWBJVE_2025-12-15_13:00-14:00\"}}"}}
[debug] [2025-12-15T04:09:42.105Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentUpdated"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-onAppointmentUpdated" in 6.0082ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentUpdated"},"extension":{},"message":"Finished \"us-central1-onAppointmentUpdated\" in 6.0082ms"}}
[debug] [2025-12-15T04:09:42.106Z] [worker-us-central1-onAppointmentUpdated-7fb1a50e-b2ad-4095-9c9e-607094968da0]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentUpdated"},"extension":{},"message":"[worker-us-central1-onAppointmentUpdated-7fb1a50e-b2ad-4095-9c9e-607094968da0]: IDLE"}}
[debug] [2025-12-15T04:09:42.106Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentUpdated"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-12-15T04:09:42.106Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onAppointmentUpdated"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-12-15T04:09:42.106Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T04:14:16.422Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast [none]
[debug] [2025-12-15T04:14:16.423Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast {"eventId":"f37e4769-61fe-44c0-96db-351bfbee74bc","eventType":"providers/firebase.auth/eventTypes/user.create","resource":{"name":"projects/sjpiicd-server","service":"firebaseauth.googleapis.com"},"params":{},"timestamp":"2025-12-15T04:14:16.422Z","data":{"uid":"THc51REuTmhDrZ9ld3GC6AGFrVcz","email":"admin@gmail.com","emailVerified":false,"metadata":{"creationTime":"2025-12-15T04:14:16.422Z","lastSignInTime":"2025-12-15T04:14:16.422Z"},"customClaims":{},"providerData":[{"rawId":"admin@gmail.com","providerId":"password","email":"admin@gmail.com","federatedId":"admin@gmail.com"}]}}
[debug] [2025-12-15T04:14:16.428Z] [work-queue] {"queuedWork":["us-central1-setCustomClaimOnSignup-0-2025-12-15T04:14:16.428Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T04:14:16.429Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["us-central1-setCustomClaimOnSignup-0-2025-12-15T04:14:16.428Z"],"workRunningCount":1}
[debug] [2025-12-15T04:14:16.429Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T04:14:16.431Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast 200
[debug] [2025-12-15T04:14:16.431Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/sjpiicd-server/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2025-12-15T04:14:16.432Z] [work-queue] {"queuedWork":["/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0-2025-12-15T04:14:16.432Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-12-15T04:14:16.433Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0-2025-12-15T04:14:16.432Z"],"workRunningCount":1}
[debug] [2025-12-15T04:14:16.433Z] Accepted request POST /functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0 --> us-central1-setCustomClaimOnSignup-0
[debug] [2025-12-15T04:14:16.436Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-12-15T04:14:16.436Z] [functions] Got req.url=/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/sjpiicd-server/triggers/us-central1-setCustomClaimOnSignup-0, mapping to path=/functions/projects/"}}
[debug] [2025-12-15T04:14:16.437Z] [worker-pool] submitRequest(triggerId=us-central1-setCustomClaimOnSignup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-setCustomClaimOnSignup)"}}
[info] i  functions: Beginning execution of "us-central1-setCustomClaimOnSignup" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Beginning execution of \"us-central1-setCustomClaimOnSignup\""}}
[debug] [2025-12-15T04:14:16.437Z] [worker-us-central1-setCustomClaimOnSignup-f020a6ff-57ae-47ba-99a1-a070e6f9b566]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-f020a6ff-57ae-47ba-99a1-a070e6f9b566]: BUSY"}}
[debug] [2025-12-15T04:14:16.442Z] [runtime-status] [31436] ProcessBackground: lifting resource.name from resource {"name":"projects/sjpiicd-server","service":"firebaseauth.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [31436] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/sjpiicd-server\",\"service\":\"firebaseauth.googleapis.com\"}"}}
[debug] [2025-12-15T04:14:16.442Z] [runtime-status] [31436] RunBackground {"data":{"uid":"THc51REuTmhDrZ9ld3GC6AGFrVcz","email":"admin@gmail.com","emailVerified":false,"metadata":{"creationTime":"2025-12-15T04:14:16.422Z","lastSignInTime":"2025-12-15T04:14:16.422Z"},"customClaims":{},"providerData":[{"rawId":"admin@gmail.com","providerId":"password","email":"admin@gmail.com","federatedId":"admin@gmail.com"}]},"context":{"eventId":"f37e4769-61fe-44c0-96db-351bfbee74bc","eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/sjpiicd-server","params":{},"timestamp":"2025-12-15T04:14:16.422Z"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[runtime-status] [31436] RunBackground {\"data\":{\"uid\":\"THc51REuTmhDrZ9ld3GC6AGFrVcz\",\"email\":\"admin@gmail.com\",\"emailVerified\":false,\"metadata\":{\"creationTime\":\"2025-12-15T04:14:16.422Z\",\"lastSignInTime\":\"2025-12-15T04:14:16.422Z\"},\"customClaims\":{},\"providerData\":[{\"rawId\":\"admin@gmail.com\",\"providerId\":\"password\",\"email\":\"admin@gmail.com\",\"federatedId\":\"admin@gmail.com\"}]},\"context\":{\"eventId\":\"f37e4769-61fe-44c0-96db-351bfbee74bc\",\"eventType\":\"providers/firebase.auth/eventTypes/user.create\",\"resource\":\"projects/sjpiicd-server\",\"params\":{},\"timestamp\":\"2025-12-15T04:14:16.422Z\"}}"}}
[info] >  User THc51REuTmhDrZ9ld3GC6AGFrVcz created with role: guest {"user":"User THc51REuTmhDrZ9ld3GC6AGFrVcz created with role: guest","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"\u001b[90m> \u001b[39m User THc51REuTmhDrZ9ld3GC6AGFrVcz created with role: guest"}}
[debug] [2025-12-15T04:14:16.495Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-setCustomClaimOnSignup" in 57.4324ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finished \"us-central1-setCustomClaimOnSignup\" in 57.4324ms"}}
[debug] [2025-12-15T04:14:16.496Z] [worker-us-central1-setCustomClaimOnSignup-f020a6ff-57ae-47ba-99a1-a070e6f9b566]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"[worker-us-central1-setCustomClaimOnSignup-f020a6ff-57ae-47ba-99a1-a070e6f9b566]: IDLE"}}
[debug] [2025-12-15T04:14:16.496Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-12-15T04:14:16.496Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setCustomClaimOnSignup"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-12-15T04:14:16.496Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
